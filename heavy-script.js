function hgJQueryPlugin(defaults,methods){null==defaults&&(defaults={});var PluginApi=function(element){this.element=jQuery(element)};return PluginApi.prototype=methods,function(method){var args=arguments,value=null,$elements=jQuery(this).each(function(i,element){var api=jQuery(this).data("api");if(void 0==api&&((api=new PluginApi(element)).options=jQuery.extend({},defaults),jQuery(this).data("api",api)),api[method]){if(value=api[method].apply(api,Array.prototype.slice.call(args,1)))return!1}else{if("object"==typeof method||!method)return api.init.apply(api,args);jQuery.error("Method "+method+" does not exist")}});return value||$elements}}var iexplorer=function(){for(var v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");div.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i><![endif]--\x3e",all[0];);return v>4?v:void 0}();window.Modernizr=function(a,b,c){function D(a){j.cssText=a}function E(a,b){return D(n.join(a+";")+(b||""))}function F(a,b){return typeof a===b}function G(a,b){return!!~(""+a).indexOf(b)}function H(a,b){for(var d in a){var e=a[d];if(!G(e,"-")&&j[e]!==c)return"pfx"!=b||e}return!1}function I(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return!1===d?a[e]:F(f,"function")?f.bind(d||b):f}return!1}function J(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return F(b,"string")||F(b,"undefined")?H(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),I(e,b,c))}var x,C,e={},g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={svg:"http://www.w3.org/2000/svg"},s={},t={},u={},v=[],w=v.slice,y=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))for(;d--;)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},z=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b)&&c(b).matches||!1;var d;return y("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},A=function(){function d(d,e){e=e||b.createElement(a[d]||"div");var f=(d="on"+d)in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=F(e[d],"function"),F(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),B={}.hasOwnProperty;C=F(B,"undefined")||F(B.call,"undefined")?function(a,b){return b in a&&F(a.constructor.prototype[b],"undefined")}:function(a,b){return B.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError;var d=w.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(w.call(arguments)))};return e}),s.flexbox=function(){return J("flexWrap")},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},s.canvastext=function(){return!!e.canvas&&!!F(b.createElement("canvas").getContext("2d").fillText,"function")},s.webgl=function(){return!!a.WebGLRenderingContext},s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},s.geolocation=function(){return"geolocation"in navigator},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!J("indexedDB",a)},s.hashchange=function(){return A("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},s.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},s.rgba=function(){return D("background-color:rgba(150,255,150,.5)"),G(j.backgroundColor,"rgba")},s.hsla=function(){return D("background-color:hsla(120,40%,100%,.5)"),G(j.backgroundColor,"rgba")||G(j.backgroundColor,"hsla")},s.multiplebgs=function(){return D("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},s.backgroundsize=function(){return J("backgroundSize")},s.borderimage=function(){return J("borderImage")},s.borderradius=function(){return J("borderRadius")},s.boxshadow=function(){return J("boxShadow")},s.textshadow=function(){return""===b.createElement("div").style.textShadow},s.opacity=function(){return E("opacity:.55"),/^0.55$/.test(j.opacity)},s.cssanimations=function(){return J("animationName")},s.csscolumns=function(){return J("columnCount")},s.cssgradients=function(){var a="background-image:";return D((a+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+a)+n.join("linear-gradient(left top,#9f9, white);"+a)).slice(0,-a.length)),G(j.backgroundImage,"gradient")},s.cssreflections=function(){return J("boxReflect")},s.csstransforms=function(){return!!J("transform")},s.csstransforms3d=function(){var a=!!J("perspective");return a&&"webkitPerspective"in g.style&&y("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},s.csstransitions=function(){return J("transition")},s.fontface=function(){var a;return y('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},s.generatedcontent=function(){var a;return y(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},s.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},s.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,"svg").createSVGRect},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r.svg},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r.svg,"animate")))},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,"clipPath")))};for(var L in s)C(s,L)&&(x=L.toLowerCase(),e[x]=s[L](),v.push((e[x]?"":"no-")+x));return e.input||function(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var e,f,h,d=0,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),(e="text"!==k.type)&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&"textfield"!==h.getComputedStyle(k,null).WebkitAppearance&&0!==k.offsetHeight,g.removeChild(k)):/^(search|tel)$/.test(f)||(e=/^(url|email)$/.test(f)?k.checkValidity&&!1===k.checkValidity():k.value!=l)),t[a[d]]=!!e;return t}("search tel url email datetime date month week time datetime-local number range color".split(" "))}(),e.addTest=function(a,b){if("object"==typeof a)for(var d in a)C(a,d)&&e.addTest(d,a[d]);else{if(a=a.toLowerCase(),e[a]!==c)return e;b="function"==typeof b?b():b,g.className+=" "+(b?"":"no-")+a,e[a]=b}return e},D(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=n(c));var g;return g=d.cache[a]?d.cache[a].cloneNode():f.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!g.canHaveChildren||e.test(a)||g.tagUrn?g:d.frag.appendChild(g)}function p(a,c){if(a||(a=b),k)return a.createDocumentFragment();for(var d=(c=c||n(a)).frag.cloneNode(),e=0,f=m(),g=f.length;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var g,k,d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",i=0,j={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return void 0===a.cloneNode||void 0===a.createDocumentFragment||void 0===a.createElement}()}catch(c){g=!0,k=!0}}();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==d.shivCSS,supportsUnknownElements:k,shivMethods:!1!==d.shivMethods,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version="2.8.3",e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.mq=z,e.hasEvent=A,e.testProp=function(a){return H([a])},e.testAllProps=J,e.testStyles=y,e.prefixed=function(a,b,c){return b?J(a,b,c):J(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+v.join(" "),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var A,B,l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};(B=function(a){function b(a){var e,f,g,a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a};for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var m,n,h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)}).addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var l,o,k=b.createElement("script"),e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(a){"use strict";a.matchMedia=a.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(a.document)}(this),function(a){"use strict";function b(){v(!0)}var c={};a.respond=c,c.update=function(){};var d=[],e=function(){var b=!1;try{b=new a.XMLHttpRequest}catch(c){b=new a.ActiveXObject("Microsoft.XMLHTTP")}return function(){return b}}(),f=function(a,b){var c=e();c&&(c.open("GET",a,!0),c.onreadystatechange=function(){4!==c.readyState||200!==c.status&&304!==c.status||b(c.responseText)},4!==c.readyState&&c.send(null))},g=function(a){return a.replace(c.regex.minmaxwh,"").match(c.regex.other)};if(c.ajax=f,c.queue=d,c.unsupportedmq=g,c.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},c.mediaQueriesSupported=a.matchMedia&&null!==a.matchMedia("only all")&&a.matchMedia("only all").matches,!c.mediaQueriesSupported){var h,i,j,k=a.document,l=k.documentElement,m=[],n=[],o=[],p={},r=k.getElementsByTagName("head")[0]||l,s=k.getElementsByTagName("base")[0],t=r.getElementsByTagName("link"),u=function(){var a,b=k.createElement("div"),c=k.body,d=l.style.fontSize,e=c&&c.style.fontSize,f=!1;return b.style.cssText="position:absolute;font-size:1em;width:1em",c||(c=f=k.createElement("body"),c.style.background="none"),l.style.fontSize="100%",c.style.fontSize="100%",c.appendChild(b),f&&l.insertBefore(c,l.firstChild),a=b.offsetWidth,f?l.removeChild(c):c.removeChild(b),l.style.fontSize=d,e&&(c.style.fontSize=e),a=j=parseFloat(a)},v=function(b){var c="clientWidth",d=l[c],e="CSS1Compat"===k.compatMode&&d||k.body[c]||d,f={},g=t[t.length-1],p=(new Date).getTime();if(b&&h&&30>p-h)return a.clearTimeout(i),void(i=a.setTimeout(v,30));h=p;for(var s in m)if(m.hasOwnProperty(s)){var w=m[s],x=w.minw,y=w.maxw,z=null===x,A=null===y;x&&(x=parseFloat(x)*(x.indexOf("em")>-1?j||u():1)),y&&(y=parseFloat(y)*(y.indexOf("em")>-1?j||u():1)),w.hasquery&&(z&&A||!(z||e>=x)||!(A||y>=e))||(f[w.media]||(f[w.media]=[]),f[w.media].push(n[w.rules]))}for(var C in o)o.hasOwnProperty(C)&&o[C]&&o[C].parentNode===r&&r.removeChild(o[C]);o.length=0;for(var D in f)if(f.hasOwnProperty(D)){var E=k.createElement("style"),F=f[D].join("\n");E.type="text/css",E.media=D,r.insertBefore(E,g.nextSibling),E.styleSheet?E.styleSheet.cssText=F:E.appendChild(k.createTextNode(F)),o.push(E)}},w=function(a,b,d){var e=a.replace(c.regex.comments,"").replace(c.regex.keyframes,"").match(c.regex.media),f=e&&e.length||0;b=b.substring(0,b.lastIndexOf("/"));var h=function(a){return a.replace(c.regex.urls,"$1"+b+"$2$3")},i=!f&&d;b.length&&(b+="/"),i&&(f=1);for(var j=0;f>j;j++){var k,l,o,p;i?(k=d,n.push(h(a))):(k=e[j].match(c.regex.findStyles)&&RegExp.$1,n.push(RegExp.$2&&h(RegExp.$2))),p=(o=k.split(",")).length;for(var q=0;p>q;q++)l=o[q],g(l)||m.push({media:l.split("(")[0].match(c.regex.only)&&RegExp.$2||"all",rules:n.length-1,hasquery:l.indexOf("(")>-1,minw:l.match(c.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:l.match(c.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}v()},x=function(){if(d.length){var b=d.shift();f(b.href,function(c){w(c,b.href,b.media),p[b.href]=!0,a.setTimeout(function(){x()},0)})}},y=function(){for(var b=0;b<t.length;b++){var c=t[b],e=c.href,f=c.media,g=c.rel&&"stylesheet"===c.rel.toLowerCase();e&&g&&!p[e]&&(c.styleSheet&&c.styleSheet.rawCssText?(w(c.styleSheet.rawCssText,e,f),p[e]=!0):(!/^([a-zA-Z:]*\/\/)/.test(e)&&!s||e.replace(RegExp.$1,"").split("/")[0]===a.location.host)&&("//"===e.substring(0,2)&&(e=a.location.protocol+e),d.push({href:e,media:f})))}x()};y(),c.update=y,c.getEmValue=u,a.addEventListener?a.addEventListener("resize",b,!1):a.attachEvent&&a.attachEvent("onresize",b)}}(this),function(window,navigator){"use strict";function detect(pattern){return function(){return pattern.test(userAgent)}}var userAgent=window.navigator&&navigator.userAgent||"",UA={isChrome:detect(/webkit\W.*(chrome|chromium)\W/i),isFirefox:detect(/mozilla.*\Wfirefox\W/i),isGecko:detect(/mozilla(?!.*webkit).*\Wgecko\W/i),isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!!detect(/\bTrident\b/)},isKindle:detect(/\W(kindle|silk)\W/i),isMobile:detect(/(iphone|ipod|((?:android)?.*?mobile)|blackberry|nokia)/i),isOpera:detect(/opera.*\Wpresto\W|OPR/i),isSafari:detect(/webkit\W(?!.*chrome).*safari\W/i),isTablet:detect(/(ipad|android(?!.*mobile)|tablet)/i),isTV:detect(/googletv|sonydtv/i),isWebKit:detect(/webkit\W/i),isAndroid:detect(/android/i),isIOS:detect(/(ipad|iphone|ipod)/i),isIPad:detect(/ipad/i),isIPhone:detect(/iphone/i),isIPod:detect(/ipod/i),whoami:function(){return userAgent}};"function"==typeof define&&define.amd?define([],function(){return UA}):"undefined"!=typeof module&&module.exports?(module.exports=UA.attach,module.exports.UA=UA):window.UA=UA}(window,navigator),function(a){var b=navigator.userAgent;a.HTMLPictureElement&&/ecko/.test(b)&&b.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var b,c=document.createElement("source"),d=function(a){var b,d,e=a.parentNode;"PICTURE"===e.nodeName.toUpperCase()?(b=c.cloneNode(),e.insertBefore(b,e.firstElementChild),setTimeout(function(){e.removeChild(b)})):(!a._pfLastSize||a.offsetWidth>a._pfLastSize)&&(a._pfLastSize=a.offsetWidth,d=a.sizes,a.sizes+=",100vw",setTimeout(function(){a.sizes=d}))},e=function(){var a,b=document.querySelectorAll("picture > img, img[srcset][sizes]");for(a=0;a<b.length;a++)d(b[a])},f=function(){clearTimeout(b),b=setTimeout(e,99)},g=a.matchMedia&&matchMedia("(orientation: landscape)"),h=function(){f(),g&&g.addListener&&g.addListener(f)};return c.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?h():document.addEventListener("DOMContentLoaded",h),f}())}(window),function(a,b,c){"use strict";function d(a){return" "===a||"\t"===a||"\n"===a||"\f"===a||"\r"===a}function f(){M=!1,P=a.devicePixelRatio,N={},O={},s.DPR=P||1,Q.width=Math.max(a.innerWidth||0,z.clientWidth),Q.height=Math.max(a.innerHeight||0,z.clientHeight),Q.vw=Q.width/100,Q.vh=Q.height/100,r=[Q.height,Q.width,P].join("-"),Q.em=s.getEmValue(),Q.rem=Q.em}function g(a,b,c,d){var e,f,g,h;return"saveData"===B.algorithm?a>2.7?h=c+1:(f=b-c,e=Math.pow(a-.6,1.5),g=f*e,d&&(g+=.1*e),h=a+g):h=c>1?Math.sqrt(a*b):a,h>c}function h(a){var b,c=s.getSet(a),d=!1;"pending"!==c&&(d=r,c&&(b=s.setRes(c),s.applySetCandidate(b,a))),a[s.ns].evaled=d}function i(a,b){return a.res-b.res}function j(a,b,c){var d;return!c&&b&&(c=a[s.ns].sets,c=c&&c[c.length-1]),(d=k(b,c))&&(b=s.makeUrl(b),a[s.ns].curSrc=b,a[s.ns].curCan=d,d.res||aa(d,d.set.sizes)),d}function k(a,b){var c,d,e;if(a&&b)for(e=s.parseSet(b),a=s.makeUrl(a),c=0;c<e.length;c++)if(a===s.makeUrl(e[c].url)){d=e[c];break}return d}function l(a,b){var c,d,e,f,g=a.getElementsByTagName("source");for(c=0,d=g.length;d>c;c++)e=g[c],e[s.ns]=!0,(f=e.getAttribute("srcset"))&&b.push({srcset:f,media:e.getAttribute("media"),type:e.getAttribute("type"),sizes:e.getAttribute("sizes")})}function m(a,b){function c(b){var c,d=b.exec(a.substring(m));return d?(c=d[0],m+=c.length,c):void 0}function e(){var a,c,d,e,f,i,j,k,l,m=!1,o={};for(e=0;e<h.length;e++)f=h[e],i=f[f.length-1],j=f.substring(0,f.length-1),k=parseInt(j,10),l=parseFloat(j),X.test(j)&&"w"===i?((a||c)&&(m=!0),0===k?m=!0:a=k):Y.test(j)&&"x"===i?((a||c||d)&&(m=!0),0>l?m=!0:c=l):X.test(j)&&"h"===i?((d||c)&&(m=!0),0===k?m=!0:d=k):m=!0;m||(o.url=g,a&&(o.w=a),c&&(o.d=c),d&&(o.h=d),d||c||a||(o.d=1),1===o.d&&(b.has1x=!0),o.set=b,n.push(o))}for(var g,h,i,j,k,l=a.length,m=0,n=[];;){if(c(U),m>=l)return n;g=c(V),h=[],","===g.slice(-1)?(g=g.replace(W,""),e()):function(){for(c(T),i="",j="in descriptor";;){if(k=a.charAt(m),"in descriptor"===j)if(d(k))i&&(h.push(i),i="",j="after descriptor");else{if(","===k)return m+=1,i&&h.push(i),void e();if("("===k)i+=k,j="in parens";else{if(""===k)return i&&h.push(i),void e();i+=k}}else if("in parens"===j)if(")"===k)i+=k,j="in descriptor";else{if(""===k)return h.push(i),void e();i+=k}else if("after descriptor"===j)if(d(k));else{if(""===k)return void e();j="in descriptor",m-=1}m+=1}}()}}function n(a){var e,f,g,h,i,j,k=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,l=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(f=function(a){function b(){f&&(g.push(f),f="")}function c(){g[0]&&(h.push(g),g=[])}for(var e,f="",g=[],h=[],i=0,j=0,k=!1;;){if(""===(e=a.charAt(j)))return b(),c(),h;if(k){if("*"===e&&"/"===a[j+1]){k=!1,j+=2,b();continue}j+=1}else{if(d(e)){if(a.charAt(j-1)&&d(a.charAt(j-1))||!f){j+=1;continue}if(0===i){b(),j+=1;continue}e=" "}else if("("===e)i+=1;else if(")"===e)i-=1;else{if(","===e){b(),c(),j+=1;continue}if("/"===e&&"*"===a.charAt(j+1)){k=!0,j+=2;continue}}f+=e,j+=1}}}(a),g=f.length,e=0;g>e;e++)if(h=f[e],i=h[h.length-1],function(a){return!!(k.test(a)&&parseFloat(a)>=0)||(!!l.test(a)||("0"===a||"-0"===a||"+0"===a))}(i)){if(j=i,h.pop(),0===h.length)return j;if(h=h.join(" "),s.matchesMedia(h))return j}return"100vw"}b.createElement("picture");var p,q,r,s={},t=!1,u=function(){},v=b.createElement("img"),w=v.getAttribute,x=v.setAttribute,y=v.removeAttribute,z=b.documentElement,A={},B={algorithm:""},C="data-pfsrc",D=C+"set",E=navigator.userAgent,F=/rident/.test(E)||/ecko/.test(E)&&E.match(/rv\:(\d+)/)&&RegExp.$1>35,G="currentSrc",H=/\s+\+?\d+(e\d+)?w/,I=/(\([^)]+\))?\s*(.+)/,J=a.picturefillCFG,L="font-size:100%!important;",M=!0,N={},O={},P=a.devicePixelRatio,Q={px:1,in:96},R=b.createElement("a"),S=!1,T=/^[ \t\n\r\u000c]+/,U=/^[, \t\n\r\u000c]+/,V=/^[^ \t\n\r\u000c]+/,W=/[,]+$/,X=/^\d+$/,Y=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,Z=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)},$=function(a){var b={};return function(c){return c in b||(b[c]=a(c)),b[c]}},_=function(){var a=/^([\d\.]+)(em|vw|px)$/,b=function(){for(var a=arguments,b=0,c=a[0];++b in a;)c=c.replace(a[b],a[++b]);return c},c=$(function(a){return"return "+b((a||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(b,d){var e;if(!(b in N))if(N[b]=!1,d&&(e=b.match(a)))N[b]=e[1]*Q[e[2]];else try{N[b]=new Function("e",c(b))(Q)}catch(f){}return N[b]}}(),aa=function(a,b){return a.w?(a.cWidth=s.calcListLength(b||"100vw"),a.res=a.w/a.cWidth):a.res=a.d,a},ba=function(a){if(t){var c,d,e,f=a||{};if(f.elements&&1===f.elements.nodeType&&("IMG"===f.elements.nodeName.toUpperCase()?f.elements=[f.elements]:(f.context=f.elements,f.elements=null)),c=f.elements||s.qsa(f.context||b,f.reevaluate||f.reselect?s.sel:s.selShort),e=c.length){for(s.setupRun(f),S=!0,d=0;e>d;d++)s.fillImg(c[d],f);s.teardownRun(f)}}};a.console&&console.warn,G in v||(G="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),s.ns=("pf"+(new Date).getTime()).substr(0,9),s.supSrcset="srcset"in v,s.supSizes="sizes"in v,s.supPicture=!!a.HTMLPictureElement,s.supSrcset&&s.supPicture&&!s.supSizes&&function(a){v.srcset="data:,a",a.src="data:,a",s.supSrcset=v.complete===a.complete,s.supPicture=s.supSrcset&&s.supPicture}(b.createElement("img")),s.supSrcset&&!s.supSizes?function(){var c="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d=b.createElement("img"),e=function(){2===d.width&&(s.supSizes=!0),q=s.supSrcset&&!s.supSizes,t=!0,setTimeout(ba)};d.onload=e,d.onerror=e,d.setAttribute("sizes","9px"),d.srcset=c+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",d.src=c}():t=!0,s.selShort="picture>img,img[srcset]",s.sel=s.selShort,s.cfg=B,s.DPR=P||1,s.u=Q,s.types=A,s.setSize=u,s.makeUrl=$(function(a){return R.href=a,R.href}),s.qsa=function(a,b){return"querySelector"in a?a.querySelectorAll(b):[]},s.matchesMedia=function(){return a.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?s.matchesMedia=function(a){return!a||matchMedia(a).matches}:s.matchesMedia=s.mMQ,s.matchesMedia.apply(this,arguments)},s.mMQ=function(a){return!a||_(a)},s.calcLength=function(a){var b=_(a,!0)||!1;return 0>b&&(b=!1),b},s.supportsType=function(a){return!a||A[a]},s.parseSize=$(function(a){var b=(a||"").match(I);return{media:b&&b[1],length:b&&b[2]}}),s.parseSet=function(a){return a.cands||(a.cands=m(a.srcset,a)),a.cands},s.getEmValue=function(){var a;if(!p&&(a=b.body)){var c=b.createElement("div"),d=z.style.cssText,e=a.style.cssText;c.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",z.style.cssText=L,a.style.cssText=L,a.appendChild(c),p=c.offsetWidth,a.removeChild(c),p=parseFloat(p,10),z.style.cssText=d,a.style.cssText=e}return p||16},s.calcListLength=function(a){if(!(a in O)||B.uT){var b=s.calcLength(n(a));O[a]=b||Q.width}return O[a]},s.setRes=function(a){var b;if(a)for(var c=0,d=(b=s.parseSet(a)).length;d>c;c++)aa(b[c],a.sizes);return b},s.setRes.res=aa,s.applySetCandidate=function(a,b){if(a.length){var c,d,e,f,h,k,l,m,n,o=b[s.ns],p=s.DPR;if(k=o.curSrc||b[G],(l=o.curCan||j(b,k,a[0].set))&&l.set===a[0].set&&((n=F&&!b.complete&&l.res-.1>p)||(l.cached=!0,l.res>=p&&(h=l))),!h)for(a.sort(i),f=a.length,h=a[f-1],d=0;f>d;d++)if((c=a[d]).res>=p){h=a[e=d-1]&&(n||k!==s.makeUrl(c.url))&&g(a[e].res,c.res,p,a[e].cached)?a[e]:c;break}h&&(m=s.makeUrl(h.url),o.curSrc=m,o.curCan=h,m!==k&&s.setSrc(b,h),s.setSize(b))}},s.setSrc=function(a,b){var c;a.src=b.url,"image/svg+xml"===b.set.type&&(c=a.style.width,a.style.width=a.offsetWidth+1+"px",a.offsetWidth+1&&(a.style.width=c))},s.getSet=function(a){var b,c,d,e=!1,f=a[s.ns].sets;for(b=0;b<f.length&&!e;b++)if((c=f[b]).srcset&&s.matchesMedia(c.media)&&(d=s.supportsType(c.type))){"pending"===d&&(c=d),e=c;break}return e},s.parseSets=function(a,b,d){var e,f,g,h,i=b&&"PICTURE"===b.nodeName.toUpperCase(),j=a[s.ns];(j.src===c||d.src)&&(j.src=w.call(a,"src"),j.src?x.call(a,C,j.src):y.call(a,C)),(j.srcset===c||d.srcset||!s.supSrcset||a.srcset)&&(e=w.call(a,"srcset"),j.srcset=e,h=!0),j.sets=[],i&&(j.pic=!0,l(b,j.sets)),j.srcset?(f={srcset:j.srcset,sizes:w.call(a,"sizes")},j.sets.push(f),(g=(q||j.src)&&H.test(j.srcset||""))||!j.src||k(j.src,f)||f.has1x||(f.srcset+=", "+j.src,f.cands.push({url:j.src,d:1,set:f}))):j.src&&j.sets.push({srcset:j.src,sizes:null}),j.curCan=null,j.curSrc=c,j.supported=!(i||f&&!s.supSrcset||g&&!s.supSizes),h&&s.supSrcset&&!j.supported&&(e?(x.call(a,D,e),a.srcset=""):y.call(a,D)),j.supported&&!j.srcset&&(!j.src&&a.src||a.src!==s.makeUrl(j.src))&&(null===j.src?a.removeAttribute("src"):a.src=j.src),j.parsed=!0},s.fillImg=function(a,b){var c,d=b.reselect||b.reevaluate;a[s.ns]||(a[s.ns]={}),c=a[s.ns],(d||c.evaled!==r)&&((!c.parsed||b.reevaluate)&&s.parseSets(a,a.parentNode,b),c.supported?c.evaled=r:h(a))},s.setupRun=function(){(!S||M||P!==a.devicePixelRatio)&&f()},s.supPicture?(ba=u,s.fillImg=u):function(){var c,d=a.attachEvent?/d$|^c/:/d$|^c|^i/,e=function(){var a=b.readyState||"";f=setTimeout(e,"loading"===a?200:999),b.body&&(s.fillImgs(),(c=c||d.test(a))&&clearTimeout(f))},f=setTimeout(e,b.body?9:99),h=z.clientHeight;Z(a,"resize",function(a,b){var c,d,e=function(){var f=new Date-d;b>f?c=setTimeout(e,b-f):(c=null,a())};return function(){d=new Date,c||(c=setTimeout(e,b))}}(function(){M=Math.max(a.innerWidth||0,z.clientWidth)!==Q.width||z.clientHeight!==h,h=z.clientHeight,M&&s.fillImgs()},99)),Z(b,"readystatechange",e)}(),s.picturefill=ba,s.fillImgs=ba,s.teardownRun=u,ba._=s,a.picturefillCFG={pf:s,push:function(a){var b=a.shift();"function"==typeof s[b]?s[b].apply(s,a):(B[b]=a[0],S&&s.fillImgs({reselect:!0}))}};for(;J&&J.length;)a.picturefillCFG.push(J.shift());a.picturefill=ba,"object"==typeof module&&"object"==typeof module.exports?module.exports=ba:"function"==typeof define&&define.amd&&define("picturefill",function(){return ba}),s.supPicture||(A["image/webp"]=function(b,c){var d=new a.Image;return d.onerror=function(){A[b]=!1,ba()},d.onload=function(){A[b]=1===d.width,ba()},d.src=c,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),function(){function a(){}function b(a){return f.retinaImageSuffix+a}function c(a,c){if(this.path=a||"",void 0!==c&&null!==c)this.at_2x_path=c,this.perform_check=!1;else{if(void 0!==document.createElement){var d=document.createElement("a");d.href=this.path,d.pathname=d.pathname.replace(g,b),this.at_2x_path=d.href}else{var e=this.path.split("?");e[0]=e[0].replace(g,b),this.at_2x_path=e.join("?")}this.perform_check=!0}}function d(a){this.el=a,this.path=new c(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var b=this;this.path.check_2x_variant(function(a){a&&b.swap()})}var e="undefined"==typeof exports?window:exports,f={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};e.Retina=a,a.configure=function(a){null===a&&(a={});for(var b in a)a.hasOwnProperty(b)&&(f[b]=a[b])},a.init=function(a){null===a&&(a=e);var b=a.onload||function(){};a.onload=function(){var a,c,e=document.getElementsByTagName("img"),f=[];for(a=0;a<e.length;a+=1)(c=e[a]).getAttributeNode("data-no-retina")||f.push(new d(c));b()}},a.isRetina=function(){return e.devicePixelRatio>1||!(!e.matchMedia||!e.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)};var g=/\.\w+$/;e.RetinaImagePath=c,c.confirmed_paths=[],c.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},c.prototype.check_2x_variant=function(a){var b,d=this;return this.is_external()?a(!1):this.perform_check||void 0===this.at_2x_path||null===this.at_2x_path?this.at_2x_path in c.confirmed_paths?a(!0):((b=new XMLHttpRequest).open("HEAD",this.at_2x_path),b.onreadystatechange=function(){if(4!==b.readyState)return a(!1);if(b.status>=200&&b.status<=399){if(f.check_mime_type){var e=b.getResponseHeader("Content-Type");if(null===e||!e.match(/^image/i))return a(!1)}return c.confirmed_paths.push(d.at_2x_path),a(!0)}return a(!1)},void b.send()):a(!0)},e.RetinaImage=d,d.prototype.swap=function(a){function b(){c.el.complete?(f.force_original_dimensions&&(c.el.setAttribute("width",c.el.offsetWidth),c.el.setAttribute("height",c.el.offsetHeight)),c.el.setAttribute("src",a)):setTimeout(b,5)}void 0===a&&(a=this.path.at_2x_path);var c=this;b()},a.isRetina()&&a.init(e)}(),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery)}(function($){function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s=decodeURIComponent(s.replace(pluses," ")),config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value&&!$.isFunction(value)){if("number"==typeof(options=$.extend({},config.defaults,options)).expires){var days=options.expires,t=options.expires=new Date;t.setTime(+t+864e5*days)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var result=key?void 0:{},cookies=document.cookie?document.cookie.split("; "):[],i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}key||void 0===(cookie=read(cookie))||(result[name]=cookie)}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)&&($.cookie(key,"",$.extend({},options,{expires:-1})),!$.cookie(key))}}),function(a){function m(){if(!d){d=!0;for(var c in b)a(c).each(function(){var d,e;((e=(d=a(this)).data("jqae")).containerWidth!=d.width()||e.containerHeight!=d.height())&&f(d,b[c])});d=!1}}function l(a){b[a]&&(delete b[a],b.length||c&&(window.clearInterval(c),c=void 0))}function k(a,d){b[a]=d,c||(c=window.setInterval(function(){m()},200))}function j(){return 3===this.nodeType}function i(b){if(b.contents().length){var c=b.contents(),d=c.eq(c.length-1);if(d.filter(j).length){var e=d.get(0).nodeValue;return""==(e=a.trim(e))&&(d.remove(),!0)}for(;i(d););return!d.contents().length&&(d.remove(),!0)}return!1}function h(a){if(a.contents().length){var c=(b=a.contents()).eq(b.length-1);return c.filter(j).length?c:h(c)}a.append("");var b=a.contents();return b.eq(b.length-1)}function g(b){var c=h(b);if(c.length){var d=c.get(0).nodeValue,e=d.lastIndexOf(" ");return e>-1?(d=a.trim(d.substring(0,e)),c.get(0).nodeValue=d):c.get(0).nodeValue="",!0}return!1}function f(b,c){var d=b.data("jqae");d||(d={});var e=d.wrapperElement;e||(e=b.wrapInner("<div/>").find(">div")).css({margin:0,padding:0,border:0});var f=e.data("jqae");f||(f={});var j=f.originalContent;j?e=f.originalContent.clone(!0).data("jqae",{originalContent:j}).replaceAll(e):e.data("jqae",{originalContent:e.clone(!0)}),b.data("jqae",{wrapperElement:e,containerWidth:b.width(),containerHeight:b.height()});var k=b.height(),l=(parseInt(b.css("padding-top"),10)||0)+(parseInt(b.css("border-top-width"),10)||0)-(e.offset().top-b.offset().top),m=!1,n=e;c.selector&&(n=a(e.find(c.selector).get().reverse())),n.each(function(){var b=a(this),d=b.text(),f=!1;if(e.innerHeight()-b.innerHeight()>k+l)b.remove();else if(i(b),b.contents().length){for(m&&(h(b).get(0).nodeValue+=c.ellipsis,m=!1);e.innerHeight()>k+l;){if(!(f=g(b))){m=!0,b.remove();break}if(i(b),!b.contents().length){m=!0,b.remove();break}h(b).get(0).nodeValue+=c.ellipsis}"onEllipsis"==c.setTitle&&f||"always"==c.setTitle?b.attr("title",d):"never"!=c.setTitle&&b.removeAttr("title")}})}var c,b={},d=!1,e={ellipsis:"...",setTitle:"never",live:!1};a.fn.ellipsis=function(b,c){var d,g;return d=a(this),"string"!=typeof b&&(c=b,b=void 0),g=a.extend({},e,c),g.selector=b,d.each(function(){f(a(this),g)}),g.live?k(d.selector,g):l(d.selector),this}}(jQuery),function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):"undefined"!=typeof exports?module.exports=factory(require("jquery")):factory(jQuery)}(function($){"use strict";var Slick=window.Slick||{};(Slick=function(){function Slick(element,settings){var dataSettings,_=this;_.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:$(element),appendDots:$(element),arrows:!0,asNavFor:!1,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(slider,i){return $('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:0,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,navSlidesToScroll:0,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},_.initials={animating:!0,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1,lazyloaded:!1},$.extend(_,_.initials),_.activeBreakpoint=null,_.animType=null,_.animProp=null,_.breakpoints=[],_.breakpointSettings=[],_.cssTransitions=!1,_.focussed=!1,_.interrupted=!1,_.hidden="hidden",_.paused=!0,_.positionProp=null,_.respondTo=null,_.rowCount=1,_.shouldClick=!0,_.$slider=$(element),_.$slidesCache=null,_.transformType=null,_.transitionType=null,_.visibilityChange="visibilitychange",_.windowWidth=0,_.windowTimer=null,dataSettings=$(element).data("slick")||{},_.options=$.extend({},_.defaults,settings,dataSettings),_.currentSlide=_.options.initialSlide,_.originalSettings=_.options,void 0!==document.mozHidden?(_.hidden="mozHidden",_.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(_.hidden="webkitHidden",_.visibilityChange="webkitvisibilitychange"),_.autoPlay=$.proxy(_.autoPlay,_),_.autoPlayClear=$.proxy(_.autoPlayClear,_),_.autoPlayIterator=$.proxy(_.autoPlayIterator,_),_.changeSlide=$.proxy(_.changeSlide,_),_.clickHandler=$.proxy(_.clickHandler,_),_.selectHandler=$.proxy(_.selectHandler,_),_.setPosition=$.proxy(_.setPosition,_),_.swipeHandler=$.proxy(_.swipeHandler,_),_.dragHandler=$.proxy(_.dragHandler,_),_.keyHandler=$.proxy(_.keyHandler,_),_.instanceUid=instanceUid++,_.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,_.registerBreakpoints(),_.init(!0)}var instanceUid=0;return Slick}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},Slick.prototype.addSlide=Slick.prototype.slickAdd=function(markup,index,addBefore){var _=this;if("boolean"==typeof index)addBefore=index,index=null;else if(index<0||index>=_.slideCount)return!1;_.unload(),"number"==typeof index?0===index&&0===_.$slides.length?$(markup).appendTo(_.$slideTrack):addBefore?$(markup).insertBefore(_.$slides.eq(index)):$(markup).insertAfter(_.$slides.eq(index)):!0===addBefore?$(markup).prependTo(_.$slideTrack):$(markup).appendTo(_.$slideTrack),_.$slides=_.$slideTrack.children(this.options.slide),_.$slideTrack.children(this.options.slide).detach(),_.$slideTrack.append(_.$slides),_.$slides.each(function(index,element){$(element).attr("data-slick-index",index)}),_.$slidesCache=_.$slides,_.reinit()},Slick.prototype.animateHeight=function(){var _=this;if(1===_.options.slidesToShow&&!0===_.options.adaptiveHeight&&!1===_.options.vertical){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(!0);_.$list.animate({height:targetHeight},_.options.speed)}},Slick.prototype.animateSlide=function(targetLeft,callback){var animProps={},_=this;_.animateHeight(),_.slideCount<=_.options.slidesToShow?callback&&callback.call():(_.$slideTrack.css({left:"0",top:"0"}),!0===_.options.rtl&&!1===_.options.vertical&&(targetLeft=-targetLeft),!1===_.transformsEnabled?!1===_.options.vertical?_.$slideTrack.animate({left:targetLeft},_.options.speed,_.options.easing,callback):_.$slideTrack.animate({top:targetLeft},_.options.speed,_.options.easing,callback):!1===_.cssTransitions?(!0===_.options.rtl&&(_.currentLeft=-_.currentLeft),$({animStart:_.currentLeft}).animate({animStart:targetLeft},{duration:_.options.speed,easing:_.options.easing,step:function(now){now=Math.ceil(now),!1===_.options.vertical?(animProps[_.animType]="translate("+now+"px, 0px)",_.$slideTrack.css(animProps)):(animProps[_.animType]="translate(0px,"+now+"px)",_.$slideTrack.css(animProps))},complete:function(){callback&&callback.call()}})):(_.applyTransition(),targetLeft=Math.ceil(targetLeft),!1===_.options.vertical?animProps[_.animType]="translate3d("+targetLeft+"px, 0px, 0px)":animProps[_.animType]="translate3d(0px,"+targetLeft+"px, 0px)",_.$slideTrack.css(animProps),callback&&setTimeout(function(){_.disableTransition(),callback.call()},_.options.speed)))},Slick.prototype.getNavTarget=function(){var _=this,asNavFor=_.options.asNavFor;return!1!==asNavFor&&(asNavFor=$(asNavFor).not(_.$slider)),asNavFor},Slick.prototype.asNavFor=function(index,dontAnimate,fromClick){var asNavFor=this.getNavTarget();!1!==asNavFor&&"object"==typeof asNavFor&&asNavFor.each(function(){var target=$(this).slick("getSlick");target.unslicked||target.slideHandler(index,!0,dontAnimate,fromClick)})},Slick.prototype.applyTransition=function(slide){var _=this,transition={};!1===_.options.fade?transition[_.transitionType]=_.transformType+" "+_.options.speed+"ms "+_.options.cssEase:transition[_.transitionType]="opacity "+_.options.speed+"ms "+_.options.cssEase,!1===_.options.fade?_.$slideTrack.css(transition):_.$slides.eq(slide).css(transition)},Slick.prototype.autoPlay=function(){var _=this;_.autoPlayClear(),_.slideCount>_.options.slidesToShow&&(_.autoPlayTimer=setInterval(_.autoPlayIterator,_.options.autoplaySpeed))},Slick.prototype.autoPlayClear=function(){var _=this;_.autoPlayTimer&&clearInterval(_.autoPlayTimer)},Slick.prototype.autoPlayIterator=function(){var _=this,slideTo=_.currentSlide+_.options.slidesToScroll;_.paused||_.interrupted||_.focussed||(!1===_.options.infinite&&(1===_.direction&&_.currentSlide+1===_.slideCount-1?_.direction=0:0===_.direction&&(slideTo=_.currentSlide-_.options.slidesToScroll,_.currentSlide-1==0&&(_.direction=1))),_.slideHandler(slideTo))},Slick.prototype.buildArrows=function(){var _=this;!0===_.options.arrows&&(_.$prevArrow=$(_.options.prevArrow).addClass("slick-arrow"),_.$nextArrow=$(_.options.nextArrow).addClass("slick-arrow"),_.slideCount>_.options.slidesToShow?(_.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),_.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),_.htmlExpr.test(_.options.prevArrow)&&_.$prevArrow.prependTo(_.options.appendArrows),_.htmlExpr.test(_.options.nextArrow)&&_.$nextArrow.appendTo(_.options.appendArrows),!0!==_.options.infinite&&_.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):_.$prevArrow.add(_.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},Slick.prototype.buildDots=function(){var i,dot,_=this;if(!0===_.options.dots&&_.slideCount>_.options.slidesToShow){for(_.$slider.addClass("slick-dotted"),dot=$("<ul />").addClass(_.options.dotsClass),i=0;i<=_.getDotCount();i+=1)dot.append($("<li />").append(_.options.customPaging.call(this,_,i)));_.$dots=dot.appendTo(_.options.appendDots),_.$dots.find("li").first().addClass("slick-active")}},Slick.prototype.buildOut=function(){var _=this;_.$slides=_.$slider.children(_.options.slide+":not(.slick-cloned)").addClass("slick-slide"),_.slideCount=_.$slides.length,_.$slides.each(function(index,element){$(element).attr("data-slick-index",index).data("originalStyling",$(element).attr("style")||"")}),_.$slider.addClass("slick-slider"),_.$slideTrack=0===_.slideCount?$('<div class="slick-track"/>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"/>').parent(),_.$list=_.$slideTrack.wrap('<div class="slick-list"/>').parent(),_.$slideTrack.css("opacity",0),!0!==_.options.centerMode&&!0!==_.options.swipeToSlide||(_.options.slidesToScroll=1),$("img[data-lazy]",_.$slider).not("[src]").addClass("slick-loading"),_.setupInfinite(),_.setPosition(!0),_.buildArrows(),_.buildDots(),_.updateDots(),!1===_.options.asNavFor&&(_.animating=!1),!0===_.options.draggable&&_.$list.addClass("draggable")},Slick.prototype.buildRows=function(){var a,b,c,newSlides,numOfSlides,originalSlides,slidesPerSection,_=this;if(newSlides=document.createDocumentFragment(),originalSlides=_.$slider.children(),_.options.rows>0){for(slidesPerSection=_.options.slidesPerRow*_.options.rows,numOfSlides=Math.ceil(originalSlides.length/slidesPerSection),a=0;a<numOfSlides;a++){var slide=document.createElement("div");for(b=0;b<_.options.rows;b++){var row=document.createElement("div");for(c=0;c<_.options.slidesPerRow;c++){var target=a*slidesPerSection+(b*_.options.slidesPerRow+c);originalSlides.get(target)&&row.appendChild(originalSlides.get(target))}slide.appendChild(row)}newSlides.appendChild(slide)}_.$slider.empty().append(newSlides),_.$slider.children().css({width:100/_.options.slidesPerRow+"%",display:"inline-block"})}},Slick.prototype.checkResponsive=function(initial,forceUpdate){var breakpoint,targetBreakpoint,respondToWidth,_=this,triggerBreakpoint=!1,sliderWidth=_.$slider.width(),windowWidth=window.innerWidth||$(window).width();if("window"===_.respondTo?respondToWidth=windowWidth:"slider"===_.respondTo?respondToWidth=sliderWidth:"min"===_.respondTo&&(respondToWidth=Math.min(windowWidth,sliderWidth)),_.options.responsive&&_.options.responsive.length&&null!==_.options.responsive){targetBreakpoint=null;for(breakpoint in _.breakpoints)_.breakpoints.hasOwnProperty(breakpoint)&&(!1===_.originalSettings.mobileFirst?respondToWidth<_.breakpoints[breakpoint]&&(targetBreakpoint=_.breakpoints[breakpoint]):respondToWidth>_.breakpoints[breakpoint]&&(targetBreakpoint=_.breakpoints[breakpoint]));null!==targetBreakpoint?null!==_.activeBreakpoint?(targetBreakpoint!==_.activeBreakpoint||forceUpdate)&&(_.activeBreakpoint=targetBreakpoint,"unslick"===_.breakpointSettings[targetBreakpoint]?_.unslick(targetBreakpoint):(_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]),!0===initial&&(_.currentSlide=_.options.initialSlide),_.refresh(initial)),triggerBreakpoint=targetBreakpoint):(_.activeBreakpoint=targetBreakpoint,"unslick"===_.breakpointSettings[targetBreakpoint]?_.unslick(targetBreakpoint):(_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]),!0===initial&&(_.currentSlide=_.options.initialSlide),_.refresh(initial)),triggerBreakpoint=targetBreakpoint):null!==_.activeBreakpoint&&(_.activeBreakpoint=null,_.options=_.originalSettings,!0===initial&&(_.currentSlide=_.options.initialSlide),_.refresh(initial),triggerBreakpoint=targetBreakpoint),initial||!1===triggerBreakpoint||_.$slider.trigger("breakpoint",[_,triggerBreakpoint])}},Slick.prototype.getSlideNumber=function(i){var _=this,finalSlide=i;return finalSlide<0?finalSlide+=_.slideCount:finalSlide>_.slideCount-1&&(finalSlide-=_.slideCount),finalSlide},Slick.prototype.changeSlide=function(event,dontAnimate){var _=this,$target=$(event.currentTarget);switch($target.is("a")&&event.preventDefault(),$target.is("li")||($target=$target.closest("li")),event.data.message){case"previous":_.slideCount>_.options.slidesToShow&&(_.slideHandler(_.currentSlide-_.options.slidesToScroll,!1,dontAnimate),_.$slider.trigger("previous",[_,_.getSlideNumber(_.currentSlide-_.options.slidesToScroll)]));break;case"next":_.slideCount>_.options.slidesToShow&&(_.slideHandler(_.currentSlide+_.options.slidesToScroll,!1,dontAnimate),_.$slider.trigger("next",[_,_.getSlideNumber(_.currentSlide+_.options.slidesToScroll)]));break;case"index":var index=0===event.data.index?0:event.data.index||$target.index()*_.options.slidesToScroll;_.slideHandler(_.checkNavigable(index),!1,dontAnimate),$target.children().trigger("focus"),$target.children().trigger("index");break;default:return}},Slick.prototype.checkNavigable=function(index){var navigables,prevNavigable;if(navigables=this.getNavigableIndexes(),prevNavigable=0,index>navigables[navigables.length-1])index=navigables[navigables.length-1];else for(var n in navigables){if(index<navigables[n]){index=prevNavigable;break}prevNavigable=navigables[n]}return index},Slick.prototype.cleanUpEvents=function(){var _=this;_.options.dots&&null!==_.$dots&&($("li",_.$dots).off("click.slick",_.changeSlide).off("mouseenter.slick",$.proxy(_.interrupt,_,!0)).off("mouseleave.slick",$.proxy(_.interrupt,_,!1)),!0===_.options.accessibility&&_.$dots.off("keydown.slick",_.keyHandler)),_.$slider.off("focus.slick blur.slick"),!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow&&_.$prevArrow.off("click.slick",_.changeSlide),_.$nextArrow&&_.$nextArrow.off("click.slick",_.changeSlide),!0===_.options.accessibility&&(_.$prevArrow&&_.$prevArrow.off("keydown.slick",_.keyHandler),_.$nextArrow&&_.$nextArrow.off("keydown.slick",_.keyHandler))),_.$list.off("touchstart.slick mousedown.slick",_.swipeHandler),_.$list.off("touchmove.slick mousemove.slick",_.swipeHandler),_.$list.off("touchend.slick mouseup.slick",_.swipeHandler),_.$list.off("touchcancel.slick mouseleave.slick",_.swipeHandler),_.$list.off("click.slick",_.clickHandler),$(document).off(_.visibilityChange,_.visibility),_.cleanUpSlideEvents(),!0===_.options.accessibility&&_.$list.off("keydown.slick",_.keyHandler),!0===_.options.focusOnSelect&&$(_.$slideTrack).children().off("click.slick",_.selectHandler),$(window).off("orientationchange.slick.slick-"+_.instanceUid,_.orientationChange),$(window).off("resize.slick.slick-"+_.instanceUid,_.resize),$("[draggable!=true]",_.$slideTrack).off("dragstart",_.preventDefault),$(window).off("load.slick.slick-"+_.instanceUid,_.setPosition)},Slick.prototype.cleanUpSlideEvents=function(){var _=this;_.$list.off("mouseenter.slick",$.proxy(_.interrupt,_,!0)),_.$list.off("mouseleave.slick",$.proxy(_.interrupt,_,!1))},Slick.prototype.cleanUpRows=function(){var originalSlides,_=this;_.options.rows>0&&((originalSlides=_.$slides.children()).removeAttr("style"),_.$slider.empty().append(originalSlides))},Slick.prototype.clickHandler=function(event){!1===this.shouldClick&&(event.stopImmediatePropagation(),event.stopPropagation(),event.preventDefault())},Slick.prototype.destroy=function(refresh){var _=this;_.autoPlayClear(),_.touchObject={},_.cleanUpEvents(),$(".slick-cloned",_.$slider).detach(),_.$dots&&_.$dots.remove(),_.$prevArrow&&_.$prevArrow.length&&(_.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),_.htmlExpr.test(_.options.prevArrow)&&_.$prevArrow.remove()),_.$nextArrow&&_.$nextArrow.length&&(_.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),_.htmlExpr.test(_.options.nextArrow)&&_.$nextArrow.remove()),_.$slides&&(_.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){$(this).attr("style",$(this).data("originalStyling"))}),_.$slideTrack.children(this.options.slide).detach(),_.$slideTrack.detach(),_.$list.detach(),_.$slider.append(_.$slides)),_.cleanUpRows(),_.$slider.removeClass("slick-slider"),_.$slider.removeClass("slick-initialized"),_.$slider.removeClass("slick-dotted"),_.unslicked=!0,refresh||_.$slider.trigger("destroy",[_])},Slick.prototype.disableTransition=function(slide){var _=this,transition={};transition[_.transitionType]="",!1===_.options.fade?_.$slideTrack.css(transition):_.$slides.eq(slide).css(transition)},Slick.prototype.fadeSlide=function(slideIndex,callback){var _=this;!1===_.cssTransitions?(_.$slides.eq(slideIndex).css({zIndex:_.options.zIndex}),_.$slides.eq(slideIndex).animate({opacity:1},_.options.speed,_.options.easing,callback)):(_.applyTransition(slideIndex),_.$slides.eq(slideIndex).css({opacity:1,zIndex:_.options.zIndex}),callback&&setTimeout(function(){_.disableTransition(slideIndex),callback.call()},_.options.speed))},Slick.prototype.fadeSlideOut=function(slideIndex){var _=this;!1===_.cssTransitions?_.$slides.eq(slideIndex).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing):(_.applyTransition(slideIndex),_.$slides.eq(slideIndex).css({opacity:0,zIndex:_.options.zIndex-2}))},Slick.prototype.filterSlides=Slick.prototype.slickFilter=function(filter){var _=this;null!==filter&&(_.$slidesCache=_.$slides,_.unload(),_.$slideTrack.children(this.options.slide).detach(),_.$slidesCache.filter(filter).appendTo(_.$slideTrack),_.reinit())},Slick.prototype.focusHandler=function(){var _=this;_.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(event){event.stopImmediatePropagation();var $sf=$(this);setTimeout(function(){_.options.pauseOnFocus&&(_.focussed=$sf.is(":focus"),_.autoPlay())},0)})},Slick.prototype.getCurrent=Slick.prototype.slickCurrentSlide=function(){return this.currentSlide},Slick.prototype.getDotCount=function(){var _=this,breakPoint=0,counter=0,pagerQty=0;if(!0===_.options.infinite)if(_.slideCount<=_.options.slidesToShow)++pagerQty;else for(;breakPoint<_.slideCount;)++pagerQty,breakPoint=counter+_.options.slidesToScroll,counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;else if(!0===_.options.centerMode)pagerQty=_.slideCount;else if(!1===_.options.asNavFor)pagerQty=1+Math.ceil((_.slideCount-_.options.slidesToShow)/_.options.slidesToScroll);else for(;breakPoint<_.slideCount;)++pagerQty,breakPoint=counter+_.options.slidesToScroll,counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;return pagerQty-1},Slick.prototype.getLeft=function(slideIndex){var verticalHeight,coefficient,_=this,verticalOffset=0;return _.slideOffset=0,verticalHeight=_.$slides.first().outerHeight(!0),!0===_.options.infinite?_.slideCount>_.options.slidesToShow&&(_.slideOffset=_.slideWidth*(_.$slider.find(".slick-cloned").length/2)*-1,coefficient=-1,!0===_.options.vertical&&!0===_.options.centerMode&&(2===_.options.slidesToShow?coefficient=-1.5:1===_.options.slidesToShow&&(coefficient=-2)),verticalOffset=verticalHeight*_.options.slidesToShow*coefficient):slideIndex+_.options.slidesToShow>_.slideCount&&(_.slideOffset=(slideIndex+_.options.slidesToShow-_.slideCount)*_.slideWidth,verticalOffset=(slideIndex+_.options.slidesToShow-_.slideCount)*verticalHeight),_.slideCount<=_.options.slidesToShow&&(_.slideOffset=0,verticalOffset=0),!0===_.options.centerMode&&(_.slideCount<=_.options.slidesToShow?_.slideOffset=_.slideWidth*Math.floor(_.options.slidesToShow)/2-_.slideWidth*_.slideCount/2:!0===_.options.infinite?_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2):(_.slideOffset=0,_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2))),!1===_.options.vertical?slideIndex*_.slideWidth*-1+_.slideOffset:slideIndex*verticalHeight*-1+verticalOffset},Slick.prototype.getOption=Slick.prototype.slickGetOption=function(option){return this.options[option]},Slick.prototype.getNavigableIndexes=function(){var max,_=this,breakPoint=0,counter=0,indexes=[];for(!1===_.options.infinite?max=_.slideCount:(breakPoint=-1*_.options.slidesToScroll,counter=-1*_.options.slidesToScroll,max=2*_.slideCount);breakPoint<max;)indexes.push(breakPoint),breakPoint=counter+_.options.slidesToScroll,counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;return indexes},Slick.prototype.getSlick=function(){return this},Slick.prototype.getSlideCount=function(){var swipedSlide,centerOffset,_=this;return centerOffset=!0===_.options.centerMode?_.slideWidth*Math.floor(_.options.slidesToShow/2):0,!0===_.options.swipeToSlide?(_.$slideTrack.find(".slick-slide").each(function(index,slide){if(slide.offsetLeft-centerOffset+$(slide).outerWidth()/2>-1*_.swipeLeft)return swipedSlide=slide,!1}),Math.abs($(swipedSlide).attr("data-slick-index")-_.currentSlide)||1):_.options.slidesToScroll},Slick.prototype.goTo=Slick.prototype.slickGoTo=function(slide,dontAnimate){this.changeSlide({data:{message:"index",index:parseInt(slide)}},dontAnimate)},Slick.prototype.init=function(creation){var _=this;$(_.$slider).hasClass("slick-initialized")||($(_.$slider).addClass("slick-initialized"),_.buildRows(),_.buildOut(),_.setProps(),_.startLoad(),_.loadSlider(),_.initializeEvents(),_.updateArrows(),_.updateDots(),_.checkResponsive(!0),_.focusHandler()),creation&&_.$slider.trigger("init",[_]),!0===_.options.accessibility&&_.initADA(),_.options.autoplay&&(_.paused=!1,_.autoPlay())},Slick.prototype.initADA=function(){var _=this,numDotGroups=Math.ceil(_.slideCount/_.options.slidesToShow),tabControlIndexes=_.getNavigableIndexes().filter(function(val){return val>=0&&val<_.slideCount});_.$slides.add(_.$slider.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==_.$dots&&(_.$slides.not(_.$slideTrack.find(".slick-cloned")).each(function(i){var slideControlIndex=tabControlIndexes.indexOf(i);if($(this).attr({role:"tabpanel",id:"slick-slide"+_.instanceUid+i,tabindex:-1}),-1!==slideControlIndex){var ariaButtonControl="slick-slide-control"+_.instanceUid+slideControlIndex;$("#"+ariaButtonControl).length&&$(this).attr({"aria-describedby":ariaButtonControl})}}),_.$dots.attr("role","tablist").find("li").each(function(i){var mappedSlideIndex=tabControlIndexes[i];$(this).attr({role:"presentation"}),$(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+_.instanceUid+i,"aria-controls":"slick-slide"+_.instanceUid+mappedSlideIndex,"aria-label":i+1+" of "+numDotGroups,"aria-selected":null,tabindex:"-1"})}).eq(_.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var i=_.currentSlide,max=i+_.options.slidesToShow;i<max;i++)_.options.focusOnChange?_.$slides.eq(i).attr({tabindex:"0"}):_.$slides.eq(i).removeAttr("tabindex");_.activateADA()},Slick.prototype.initArrowEvents=function(){var _=this;!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},_.changeSlide),_.$nextArrow.off("click.slick").on("click.slick",{message:"next"},_.changeSlide),!0===_.options.accessibility&&(_.$prevArrow.on("keydown.slick",_.keyHandler),_.$nextArrow.on("keydown.slick",_.keyHandler)))},Slick.prototype.initDotEvents=function(){var _=this;!0===_.options.dots&&_.slideCount>_.options.slidesToShow&&($("li",_.$dots).on("click.slick",{message:"index"},_.changeSlide),!0===_.options.accessibility&&_.$dots.on("keydown.slick",_.keyHandler)),!0===_.options.dots&&!0===_.options.pauseOnDotsHover&&_.slideCount>_.options.slidesToShow&&$("li",_.$dots).on("mouseenter.slick",$.proxy(_.interrupt,_,!0)).on("mouseleave.slick",$.proxy(_.interrupt,_,!1))},Slick.prototype.initSlideEvents=function(){var _=this;_.options.pauseOnHover&&(_.$list.on("mouseenter.slick",$.proxy(_.interrupt,_,!0)),_.$list.on("mouseleave.slick",$.proxy(_.interrupt,_,!1)))},Slick.prototype.initializeEvents=function(){var _=this;_.initArrowEvents(),_.initDotEvents(),_.initSlideEvents(),_.$list.on("touchstart.slick mousedown.slick",{action:"start"},_.swipeHandler),_.$list.on("touchmove.slick mousemove.slick",{action:"move"},_.swipeHandler),_.$list.on("touchend.slick mouseup.slick",{action:"end"},_.swipeHandler),_.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},_.swipeHandler),_.$list.on("click.slick",_.clickHandler),$(document).on(_.visibilityChange,$.proxy(_.visibility,_)),!0===_.options.accessibility&&_.$list.on("keydown.slick",_.keyHandler),!0===_.options.focusOnSelect&&$(_.$slideTrack).children().on("click.slick",_.selectHandler),$(window).on("orientationchange.slick.slick-"+_.instanceUid,$.proxy(_.orientationChange,_)),$(window).on("resize.slick.slick-"+_.instanceUid,$.proxy(_.resize,_)),$("[draggable!=true]",_.$slideTrack).on("dragstart",_.preventDefault),$(window).on("load.slick.slick-"+_.instanceUid,function(){if(!1!==_.options.asNavFor&&0===_.options.navSlidesToScroll){var n=_.getNavTarget();(n=n.slick("getSlick")).animating=!1,_.animating=!1}else _.setPosition()}),$(window).on("scroll",function(){_.options.lazyLoad&&!_.lazyloaded&&_.lazyLoad()})},Slick.prototype.initUI=function(){var _=this;!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow.show(),_.$nextArrow.show()),!0===_.options.dots&&_.slideCount>_.options.slidesToShow&&_.$dots.show()},Slick.prototype.keyHandler=function(event){var _=this;event.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===event.keyCode&&!0===_.options.accessibility?_.changeSlide({data:{message:!0===_.options.rtl?"next":"previous"}}):39===event.keyCode&&!0===_.options.accessibility&&_.changeSlide({data:{message:!0===_.options.rtl?"previous":"next"}}))},Slick.prototype.lazyLoad=function(overrideCurrent){function addToLoadRange(slide){if(0!==$(slide).find("[data-lazy]").length&&(-1===$.inArray(slide,loadRange)&&loadRange.push(slide),$(slide).hasClass("slick-cloned"))){var img=$(slide).find("[data-lazy]").data("lazy");_.$slider.find('[data-lazy="'+img+'"]').parent(":not(.slick-cloned)").each(function(index,cloneSlide){-1===$.inArray(cloneSlide,loadRange)&&loadRange.push(cloneSlide)})}}var _=this,loadRange=[],slidesToShow=_.options.slidesToShow;_.options.navSlidesToScroll&&(slidesToShow=_.options.navSlidesToScroll),null!==overrideCurrent&&"number"==typeof overrideCurrent||(overrideCurrent=_.currentSlide);var activeSlide=_.$slider.find('.slick-slide[data-slick-index="'+overrideCurrent+'"]');if(_.lazyloaded||$(activeSlide).visible(!0)){if(addToLoadRange(activeSlide[0]),_.lazyloaded||slidesToShow>1){var previousSlides=_.lazyloaded?slidesToShow:0,nextSlides=slidesToShow;!0===_.options.centerMode&&(previousSlides=Math.ceil(slidesToShow/2),nextSlides=Math.ceil(slidesToShow/2));var previous=$(activeSlide).prevAll().slice(0,previousSlides);$.each(previous,function(j,prevSlide){addToLoadRange(prevSlide)});var next=$(activeSlide).nextAll().slice(0,nextSlides);$.each(next,function(j,nextSlide){addToLoadRange(nextSlide)})}_.lazyloaded=!0,function(imagesScope){$("img[data-lazy], div[data-lazy]",imagesScope).each(function(){var image=$(this),imageSource=$(this).attr("data-lazy"),imageSrcSet=$(this).attr("data-srcset"),imageSizes=$(this).attr("data-sizes")||_.$slider.attr("data-sizes");if(image.is("div"))image.css({opacity:0,"background-image":"url("+imageSource+")"}).animate({opacity:1},100,function(){image.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),_.$slider.trigger("lazyLoaded",[_,image,imageSource])});else{var imageToLoad=document.createElement("img");imageToLoad.onload=function(){image.css({opacity:0}),imageSrcSet&&(image.attr("srcset",imageSrcSet),imageSizes&&image.attr("sizes",imageSizes)),image.attr("src",imageSource).animate({opacity:1},100,function(){image.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),_.$slider.trigger("lazyLoaded",[_,image,imageSource])},imageToLoad.onerror=function(){image.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),_.$slider.trigger("lazyLoadError",[_,image,imageSource])},imageToLoad.src=imageSource}})}(loadRange)}},Slick.prototype.loadSlider=function(){var _=this;!1!==_.options.lazyLoad&&(_.options.lazyLoad=!0),_.setPosition(),_.$slideTrack.css({opacity:1}),_.$slider.removeClass("slick-loading"),_.initUI(),_.options.lazyLoad&&!_.lazyloaded&&$(_.$slider).visible(!0)&&_.lazyLoad()},Slick.prototype.next=Slick.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},Slick.prototype.orientationChange=function(){var _=this;_.checkResponsive(),_.setPosition()},Slick.prototype.pause=Slick.prototype.slickPause=function(){var _=this;_.autoPlayClear(),_.paused=!0},Slick.prototype.play=Slick.prototype.slickPlay=function(){var _=this;_.autoPlay(),_.options.autoplay=!0,_.paused=!1,_.focussed=!1,_.interrupted=!1},Slick.prototype.postSlide=function(index){var _=this;_.unslicked||(_.$slider.trigger("afterChange",[_,index,_.getSlideNumber(_.currentSlide)]),_.animating=!1,_.slideCount>_.options.slidesToShow&&_.setPosition(),_.swipeLeft=null,_.options.autoplay&&_.autoPlay(),!0===_.options.accessibility&&(_.initADA(),_.options.focusOnChange&&$(_.$slides.get(_.currentSlide)).attr("tabindex",0).focus()))},Slick.prototype.prev=Slick.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},Slick.prototype.preventDefault=function(event){event.preventDefault()},Slick.prototype.refresh=function(initializing){var currentSlide,lastVisibleIndex,_=this;lastVisibleIndex=_.slideCount-_.options.slidesToShow,!_.options.infinite&&_.currentSlide>lastVisibleIndex?_.currentSlide=lastVisibleIndex:_.currentSlide=0,currentSlide=_.currentSlide,_.destroy(!0),$.extend(_,_.initials,{currentSlide:currentSlide}),_.init(),initializing||_.changeSlide({data:{message:"index",index:currentSlide}},!0)},Slick.prototype.registerBreakpoints=function(){var breakpoint,currentBreakpoint,l,_=this,responsiveSettings=_.options.responsive||null;if("array"===$.type(responsiveSettings)&&responsiveSettings.length){_.respondTo=_.options.respondTo||"window";for(breakpoint in responsiveSettings)if(l=_.breakpoints.length-1,responsiveSettings.hasOwnProperty(breakpoint)){for(currentBreakpoint=responsiveSettings[breakpoint].breakpoint;l>=0;)_.breakpoints[l]&&_.breakpoints[l]===currentBreakpoint&&_.breakpoints.splice(l,1),l--;_.breakpoints.push(currentBreakpoint),_.breakpointSettings[currentBreakpoint]=responsiveSettings[breakpoint].settings}_.breakpoints.sort(function(a,b){return _.options.mobileFirst?a-b:b-a})}},Slick.prototype.reinit=function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass("slick-slide"),_.slideCount=_.$slides.length,_.currentSlide>=_.slideCount&&0!==_.currentSlide&&(_.currentSlide=_.currentSlide-_.options.slidesToScroll),_.slideCount<=_.options.slidesToShow&&(_.currentSlide=0),_.registerBreakpoints(),_.setProps(),_.setupInfinite(),_.buildArrows(),_.updateArrows(),_.initArrowEvents(),_.buildDots(),_.updateDots(),_.initDotEvents(),_.cleanUpSlideEvents(),_.initSlideEvents(),_.checkResponsive(!1,!0),!0===_.options.focusOnSelect&&$(_.$slideTrack).children().on("click.slick",_.selectHandler),_.setSlideClasses("number"==typeof _.currentSlide?_.currentSlide:0),_.setPosition(!0),_.focusHandler(),_.paused=!_.options.autoplay,_.autoPlay(),_.$slider.trigger("reInit",[_])},Slick.prototype.resize=function(){var _=this;$(window).width()!==_.windowWidth&&(clearTimeout(_.windowDelay),_.windowDelay=window.setTimeout(function(){_.windowWidth=$(window).width(),_.checkResponsive(),_.unslicked||(_.setPosition(),_.options.lazyLoad&&_.lazyloaded&&_.lazyLoad())},50))},Slick.prototype.removeSlide=Slick.prototype.slickRemove=function(index,removeBefore,removeAll){var _=this;if(index="boolean"==typeof index?!0===(removeBefore=index)?0:_.slideCount-1:!0===removeBefore?--index:index,_.slideCount<1||index<0||index>_.slideCount-1)return!1;_.unload(),!0===removeAll?_.$slideTrack.children().remove():_.$slideTrack.children(this.options.slide).eq(index).remove(),_.$slides=_.$slideTrack.children(this.options.slide),_.$slideTrack.children(this.options.slide).detach(),_.$slideTrack.append(_.$slides),_.$slidesCache=_.$slides,_.reinit()},Slick.prototype.setCSS=function(position){var x,y,_=this,positionProps={};_.slideCount<=_.options.slidesToShow||(!0===_.options.rtl&&(position=-position),x="left"==_.positionProp?Math.ceil(position)+"px":"0px",y="top"==_.positionProp?Math.ceil(position)+"px":"0px",positionProps[_.positionProp]=position,!1===_.transformsEnabled?_.$slideTrack.css(positionProps):(positionProps={},!1===_.cssTransitions?(positionProps[_.animType]="translate("+x+", "+y+")",_.$slideTrack.css(positionProps)):(positionProps[_.animType]="translate3d("+x+", "+y+", 0px)",_.$slideTrack.css(positionProps))))},Slick.prototype.setDimensions=function(){var _=this;!1===_.options.vertical?!0===_.options.centerMode&&_.$list.css({padding:"0px "+_.options.centerPadding}):(_.$list.height(_.$slides.first().outerHeight(!0)*_.options.slidesToShow),!0===_.options.centerMode&&_.$list.css({padding:_.options.centerPadding+" 0px"})),_.listWidth=_.$list.width(),_.listHeight=_.$list.height(),!1===_.options.vertical?(!0===_.options.variableWidth&&"none"!==_.$slider.css("display")?_.slideWidth=parseInt(_.$slides.first().find("img").attr("width"),10)+(_.$slides.first().outerWidth(!0)-_.$slides.first().width()):_.slideWidth=Math.ceil(_.listWidth/_.options.slidesToShow),_.$slideTrack.width(Math.ceil(_.slideWidth*_.$slideTrack.children(".slick-slide").length))):(_.slideWidth=Math.ceil(_.listWidth),_.$slideTrack.height(Math.ceil(_.$slides.first().outerHeight(!0)*_.$slideTrack.children(".slick-slide").length)));var offset=_.$slides.first().outerWidth(!0)-_.$slides.first().width();_.$slideTrack.children(".slick-slide").width(_.slideWidth-offset)},Slick.prototype.setFade=function(){var targetLeft,_=this;_.$slides.each(function(index,element){targetLeft=_.slideWidth*index*-1,!0===_.options.rtl?$(element).css({position:"relative",right:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0}):$(element).css({position:"relative",left:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0})}),_.$slides.eq(_.currentSlide).css({zIndex:_.options.zIndex-1,opacity:1})},Slick.prototype.setHeight=function(){var _=this;if(1===_.options.slidesToShow&&!0===_.options.adaptiveHeight&&!1===_.options.vertical){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(!0);_.$list.css("height",targetHeight)}},Slick.prototype.setOption=Slick.prototype.slickSetOption=function(){var l,item,option,value,type,_=this,refresh=!1;if("object"===$.type(arguments[0])?(option=arguments[0],refresh=arguments[1],type="multiple"):"string"===$.type(arguments[0])&&(option=arguments[0],value=arguments[1],refresh=arguments[2],"responsive"===arguments[0]&&"array"===$.type(arguments[1])?type="responsive":void 0!==arguments[1]&&(type="single")),"single"===type)_.options[option]=value;else if("multiple"===type)$.each(option,function(opt,val){_.options[opt]=val});else if("responsive"===type)for(item in value)if("array"!==$.type(_.options.responsive))_.options.responsive=[value[item]];else{for(l=_.options.responsive.length-1;l>=0;)_.options.responsive[l].breakpoint===value[item].breakpoint&&_.options.responsive.splice(l,1),l--;_.options.responsive.push(value[item])}refresh&&(_.unload(),_.reinit())},Slick.prototype.setPosition=function(init){var _=this,previousListWidth=_.listWidth;if(_.setDimensions(),!(_.slideCount<=_.options.slidesToShow)){if(!0===_.options.variableWidth&&_.listWidth!==previousListWidth){var visibleThumbsCount=Math.max(1,Math.floor(_.listWidth/Math.max(1,_.slideWidth)));if(_.options.slidesToScroll!==visibleThumbsCount&&(_.setOption("slidesToScroll",visibleThumbsCount,!1),_.setOption("slidesToShow",visibleThumbsCount,!1),!0===_.options.infinite&&_.setupInfinite(),!1!==_.options.asNavFor)){var navTarget=_.getNavTarget();0!==(navTarget=navTarget.slick("getSlick")).options.navSlidesToScroll&&(navTarget.options.navSlidesToScroll=visibleThumbsCount,!0===navTarget.options.infinite&&navTarget.setupInfinite(),navTarget.setPosition())}}_.setHeight(),!1===_.options.fade?(_.setCSS(_.getLeft(_.currentSlide)),_.setSlideClasses(_.currentSlide)):_.setFade(),_.$slider.trigger("setPosition",[_])}},Slick.prototype.setProps=function(){var _=this,bodyStyle=document.body.style;_.positionProp=!0===_.options.vertical?"top":"left","top"===_.positionProp?_.$slider.addClass("slick-vertical"):_.$slider.removeClass("slick-vertical"),void 0===bodyStyle.WebkitTransition&&void 0===bodyStyle.MozTransition&&void 0===bodyStyle.msTransition||!0===_.options.useCSS&&(_.cssTransitions=!0),_.options.fade&&("number"==typeof _.options.zIndex?_.options.zIndex<3&&(_.options.zIndex=3):_.options.zIndex=_.defaults.zIndex),void 0!==bodyStyle.OTransform&&(_.animType="OTransform",_.transformType="-o-transform",_.transitionType="OTransition",void 0===bodyStyle.perspectiveProperty&&void 0===bodyStyle.webkitPerspective&&(_.animType=!1)),void 0!==bodyStyle.MozTransform&&(_.animType="MozTransform",_.transformType="-moz-transform",_.transitionType="MozTransition",void 0===bodyStyle.perspectiveProperty&&void 0===bodyStyle.MozPerspective&&(_.animType=!1)),void 0!==bodyStyle.webkitTransform&&(_.animType="webkitTransform",_.transformType="-webkit-transform",_.transitionType="webkitTransition",void 0===bodyStyle.perspectiveProperty&&void 0===bodyStyle.webkitPerspective&&(_.animType=!1)),void 0!==bodyStyle.msTransform&&(_.animType="msTransform",_.transformType="-ms-transform",_.transitionType="msTransition",void 0===bodyStyle.msTransform&&(_.animType=!1)),void 0!==bodyStyle.transform&&!1!==_.animType&&(_.animType="transform",_.transformType="transform",_.transitionType="transition"),_.transformsEnabled=_.options.useTransform&&null!==_.animType&&!1!==_.animType},Slick.prototype.setSlideClasses=function(index){var centerOffset,allSlides,indexOffset,_=this;if(allSlides=_.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),!0===_.options.centerMode){_.$slides.eq(index).addClass("slick-current");var evenCoef=_.options.slidesToShow%2==0?1:0;centerOffset=Math.floor(_.options.slidesToShow/2),!0===_.options.infinite&&(index>=centerOffset&&index<=_.slideCount-1-centerOffset?_.$slides.slice(index-centerOffset+evenCoef,index+centerOffset+1).addClass("slick-active").attr("aria-hidden","false"):(indexOffset=_.options.slidesToShow+index,allSlides.slice(indexOffset-centerOffset+1+evenCoef,indexOffset+centerOffset+2).addClass("slick-active").attr("aria-hidden","false")),0===index?allSlides.eq(allSlides.length-1-_.options.slidesToShow).addClass("slick-center"):index===_.slideCount-1&&allSlides.eq(_.options.slidesToShow).addClass("slick-center")),_.$slides.eq(index).addClass("slick-center")}else allSlides.length<=_.options.slidesToShow?allSlides.addClass("slick-active").attr("aria-hidden","false"):(!0===_.options.infinite&&(index+=_.$slider.find(".slick-cloned").length/2),allSlides.eq(index).addClass("slick-current slick-active"),_.options.slidesToShow>1&&allSlides.slice(index,index+_.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"))},Slick.prototype.setupInfinite=function(){var i,slideIndex,infiniteCount,_=this;if(!0===_.options.fade&&(_.options.centerMode=!1),!(_.$slideTrack.find(".slick-slide").length<=1)&&(_.$slideTrack.find(".slick-cloned").remove(),!0===_.options.infinite&&!1===_.options.fade)){slideIndex=null;var slidesToShow=_.options.slidesToShow;if(0!==_.options.navSlidesToScroll&&_.options.navSlidesToScroll>slidesToShow&&(slidesToShow=_.options.navSlidesToScroll),_.slideCount>=_.options.slidesToShow){for(infiniteCount=!0===_.options.centerMode?slidesToShow+1:slidesToShow,i=_.slideCount;i>_.slideCount-infiniteCount;i-=1)slideIndex=i-1,$(_.$slides[slideIndex]).clone(!0).attr("id","").attr("data-slick-index",slideIndex-_.slideCount).prependTo(_.$slideTrack).addClass("slick-cloned");for(i=0;i<infiniteCount;i+=1)slideIndex=i,$(_.$slides[slideIndex]).clone(!0).attr("id","").attr("data-slick-index",slideIndex+_.slideCount).appendTo(_.$slideTrack).addClass("slick-cloned");_.$slideTrack.find(".slick-cloned").find("[id]").each(function(){$(this).attr("id","")})}}},Slick.prototype.interrupt=function(toggle){var _=this;toggle||_.autoPlay(),_.interrupted=toggle},Slick.prototype.selectHandler=function(event){var _=this,targetElement=$(event.target).is(".slick-slide")?$(event.target):$(event.target).parents(".slick-slide"),index=parseInt(targetElement.attr("data-slick-index"),10);index||(index=0),index!==_.currentSlide&&(_.slideCount<=_.options.slidesToShow?_.slideHandler(index,!1,!0,!0):_.slideHandler(index,!1,!1,!0))},Slick.prototype.slideHandler=function(index,sync,dontAnimate,fromClick){var oldSlidesToScroll,navTarget,initialSlide,adjustedInitialSlide,targetSlide,adjustedTargetSlide,finalSlide,initialLeft,adjustedInitialLeft,adjustedTargetLeft,finalLeft,_=this;if(sync=sync||!1,!(!0===_.animating&&!0===_.options.waitForAnimate||!0===_.options.fade&&_.currentSlide===index)){if(!1===sync&&_.asNavFor(index,dontAnimate,fromClick),!0===fromClick?(oldSlidesToScroll=_.options.slidesToScroll,_.setOption("slidesToScroll",Math.abs(_.currentSlide-index),!1)):!1!==sync&&!1!==_.options.asNavFor&&(navTarget=(navTarget=_.getNavTarget()).slick("getSlick"),oldSlidesToScroll=_.options.slidesToScroll,_.setOption("slidesToScroll",navTarget.options.slidesToScroll,!1)),_.$slider.trigger("beforeChange",[_,_.currentSlide,targetSlide]),initialSlide=_.currentSlide,initialLeft=_.getLeft(_.currentSlide),targetSlide=index,_.getLeft(targetSlide),_.currentLeft=null===_.swipeLeft?initialLeft:_.swipeLeft,!1===_.options.infinite){if(!1===_.options.centerMode&&(index<0||index>_.getDotCount()*_.options.slidesToScroll))return void(!1===_.options.fade&&(!0!==dontAnimate&&_.slideCount>_.options.slidesToShow?_.animateSlide(initialLeft,function(){_.postSlide(initialSlide)}):_.postSlide(initialSlide)));if(!0===_.options.centerMode&&(index<0||index>_.slideCount-_.options.slidesToScroll))return void(!1===_.options.fade&&(!0!==dontAnimate&&_.slideCount>_.options.slidesToShow?_.animateSlide(initialLeft,function(){_.postSlide(initialSlide)}):_.postSlide(initialSlide)))}_.options.autoplay&&clearInterval(_.autoPlayTimer),adjustedTargetSlide=targetSlide,targetSlide<-1*_.options.slidesToScroll?adjustedTargetSlide=targetSlide+_.slideCount:targetSlide>_.slideCount&&(adjustedTargetSlide=targetSlide-_.slideCount),adjustedTargetLeft=_.getLeft(adjustedTargetSlide),adjustedInitialSlide=targetSlide-initialSlide<0?adjustedTargetSlide+_.options.slidesToScroll:adjustedTargetSlide-_.options.slidesToScroll,adjustedInitialLeft=_.getLeft(adjustedInitialSlide),(finalSlide=adjustedTargetSlide)<0?finalSlide+=_.slideCount:finalSlide>_.slideCount&&(finalSlide-=_.slideCount),finalLeft=_.getLeft(finalSlide),null!==_.swipeLeft&&(adjustedInitialLeft+=_.swipeLeft-initialLeft),_.currentSlide=adjustedInitialSlide,_.currentLeft=adjustedInitialLeft,finalSlide!==initialSlide&&_.setCSS(adjustedInitialLeft),_.options.lazyLoad&&_.lazyloaded&&_.lazyLoad(finalSlide),_.animating=!0,setTimeout(function(){if(_.updateDots(finalSlide),_.updateArrows(finalSlide),!0===_.options.fade)return _.currentSlide=finalSlide,_.currentLeft=finalLeft,!0!==dontAnimate?(_.fadeSlideOut(adjustedInitialSlide),_.fadeSlide(finalSlide,function(){_.postSlide(finalSlide),!0!==sync&&!0!==fromClick||_.setOption("slidesToScroll",oldSlidesToScroll,!1)})):(_.postSlide(finalSlide),!0!==sync&&!0!==fromClick||_.setOption("slidesToScroll",oldSlidesToScroll,!1)),void _.animateHeight();!0!==dontAnimate&&_.slideCount>_.options.slidesToShow?_.animateSlide(adjustedTargetLeft,function(){_.currentSlide=finalSlide,_.currentLeft=finalLeft,_.postSlide(finalSlide),!0!==sync&&!0!==fromClick||_.setOption("slidesToScroll",oldSlidesToScroll,!1)}):(_.currentSlide=finalSlide,_.currentLeft=finalLeft,_.postSlide(finalSlide),!0!==sync&&!0!==fromClick||_.setOption("slidesToScroll",oldSlidesToScroll,!1))},50)}},Slick.prototype.startLoad=function(){var _=this;!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow.hide(),_.$nextArrow.hide()),!0===_.options.dots&&_.slideCount>_.options.slidesToShow&&_.$dots.hide(),_.$slider.addClass("slick-loading")},Slick.prototype.swipeDirection=function(){var xDist,yDist,r,swipeAngle,_=this;return xDist=_.touchObject.startX-_.touchObject.curX,yDist=_.touchObject.startY-_.touchObject.curY,r=Math.atan2(yDist,xDist),(swipeAngle=Math.round(180*r/Math.PI))<0&&(swipeAngle=360-Math.abs(swipeAngle)),swipeAngle<=45&&swipeAngle>=0?!1===_.options.rtl?"left":"right":swipeAngle<=360&&swipeAngle>=315?!1===_.options.rtl?"left":"right":swipeAngle>=135&&swipeAngle<=225?!1===_.options.rtl?"right":"left":!0===_.options.verticalSwiping?swipeAngle>=35&&swipeAngle<=135?"down":"up":"vertical"},Slick.prototype.swipeEnd=function(event){var slideCount,direction,_=this;if(_.dragging=!1,_.swiping=!1,_.scrolling)return _.scrolling=!1,!1;if(_.interrupted=!1,_.shouldClick=void 0===_.touchObject.swipeLength||_.touchObject.swipeLength<=10,void 0===_.touchObject.curX)return!1;if(!0===_.touchObject.edgeHit&&_.$slider.trigger("edge",[_,_.swipeDirection()]),_.touchObject.swipeLength>=_.touchObject.minSwipe){switch(direction=_.swipeDirection()){case"left":case"down":slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide+_.getSlideCount()):_.currentSlide+_.getSlideCount(),_.currentDirection=0;break;case"right":case"up":slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide-_.getSlideCount()):_.currentSlide-_.getSlideCount(),_.currentDirection=1}"vertical"!=direction&&(_.slideHandler(slideCount),_.touchObject={},_.$slider.trigger("swipe",[_,direction]))}else _.touchObject.startX!==_.touchObject.curX&&(_.slideHandler(_.currentSlide),_.touchObject={})},Slick.prototype.swipeHandler=function(event){var _=this;if(!(!1===_.options.swipe||"ontouchend"in document&&!1===_.options.swipe||!1===_.options.draggable&&-1!==event.type.indexOf("mouse")))switch(_.touchObject.fingerCount=event.originalEvent&&void 0!==event.originalEvent.touches?event.originalEvent.touches.length:1,_.touchObject.minSwipe=_.listWidth/_.options.touchThreshold,!0===_.options.verticalSwiping&&(_.touchObject.minSwipe=_.listHeight/_.options.touchThreshold),event.data.action){case"start":_.swipeStart(event);break;case"move":_.swipeMove(event);break;case"end":_.swipeEnd(event)}},Slick.prototype.swipeMove=function(event){var curLeft,swipeDirection,swipeLength,positionOffset,touches,verticalSwipeLength,_=this;return touches=void 0!==event.originalEvent?event.originalEvent.touches:null,!(!_.dragging||_.scrolling||touches&&1!==touches.length)&&(curLeft=_.getLeft(_.currentSlide),_.touchObject.curX=void 0!==touches?touches[0].pageX:event.clientX,_.touchObject.curY=void 0!==touches?touches[0].pageY:event.clientY,_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2))),verticalSwipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curY-_.touchObject.startY,2))),!_.options.verticalSwiping&&!_.swiping&&verticalSwipeLength>4?(_.scrolling=!0,!1):(!0===_.options.verticalSwiping&&(_.touchObject.swipeLength=verticalSwipeLength),swipeDirection=_.swipeDirection(),void 0!==event.originalEvent&&_.touchObject.swipeLength>4&&(_.swiping=!0,event.preventDefault()),positionOffset=(!1===_.options.rtl?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1),!0===_.options.verticalSwiping&&(positionOffset=_.touchObject.curY>_.touchObject.startY?1:-1),swipeLength=_.touchObject.swipeLength,_.touchObject.edgeHit=!1,!1===_.options.infinite&&(0===_.currentSlide&&"right"===swipeDirection||_.currentSlide>=_.getDotCount()&&"left"===swipeDirection)&&(swipeLength=_.touchObject.swipeLength*_.options.edgeFriction,_.touchObject.edgeHit=!0),!1===_.options.vertical?_.swipeLeft=curLeft+swipeLength*positionOffset:_.swipeLeft=curLeft+swipeLength*(_.$list.height()/_.listWidth)*positionOffset,!0===_.options.verticalSwiping&&(_.swipeLeft=curLeft+swipeLength*positionOffset),!0!==_.options.fade&&!1!==_.options.touchMove&&(!0===_.animating?(_.swipeLeft=null,!1):void _.setCSS(_.swipeLeft))))},Slick.prototype.swipeStart=function(event){var touches,_=this;if(_.interrupted=!0,1!==_.touchObject.fingerCount||_.slideCount<=_.options.slidesToShow)return _.touchObject={},!1;void 0!==event.originalEvent&&void 0!==event.originalEvent.touches&&(touches=event.originalEvent.touches[0]),_.touchObject.startX=_.touchObject.curX=void 0!==touches?touches.pageX:event.clientX,_.touchObject.startY=_.touchObject.curY=void 0!==touches?touches.pageY:event.clientY,_.dragging=!0},Slick.prototype.unfilterSlides=Slick.prototype.slickUnfilter=function(){var _=this;null!==_.$slidesCache&&(_.unload(),_.$slideTrack.children(this.options.slide).detach(),_.$slidesCache.appendTo(_.$slideTrack),_.reinit())},Slick.prototype.unload=function(){var _=this;$(".slick-cloned",_.$slider).remove(),_.$dots&&_.$dots.remove(),_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow)&&_.$prevArrow.remove(),_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow)&&_.$nextArrow.remove(),_.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},Slick.prototype.unslick=function(fromBreakpoint){var _=this;_.$slider.trigger("unslick",[_,fromBreakpoint]),_.destroy()},Slick.prototype.updateArrows=function(finalSlide){var _=this;Math.floor(_.options.slidesToShow/2),void 0===finalSlide&&(finalSlide=_.currentSlide),!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&!_.options.infinite&&(_.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),_.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===finalSlide?(_.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),_.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):finalSlide>=_.slideCount-_.options.slidesToShow&&!1===_.options.centerMode?(_.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),_.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):finalSlide>=_.slideCount-1&&!0===_.options.centerMode&&(_.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),_.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},Slick.prototype.updateDots=function(finalSlide){var _=this;void 0===finalSlide&&(finalSlide=_.currentSlide),null!==_.$dots&&(_.$dots.find("li").removeClass("slick-active").end(),_.$dots.find("li").eq(Math.floor(finalSlide/_.options.slidesToScroll)).addClass("slick-active"))},Slick.prototype.visibility=function(){var _=this;_.options.autoplay&&(document[_.hidden]?_.interrupted=!0:_.interrupted=!1)},$.fn.slick=function(){var i,ret,_=this,opt=arguments[0],args=Array.prototype.slice.call(arguments,1),l=_.length;for(i=0;i<l;i++)if("object"==typeof opt||void 0===opt?_[i].slick=new Slick(_[i],opt):ret=_[i].slick[opt].apply(_[i].slick,args),void 0!==ret)return ret;return _}}),function(e,t,n){function i(t,n){this.element=t,this.$element=e(t),this.tabs=[],this.state="",this.rotateInterval=0,this.$queue=e({}),this.options=e.extend({},r,n),this.init()}var r={active:null,event:"click",disabled:[],collapsible:"accordion",startCollapsed:!1,rotate:!1,setHash:!1,animation:"default",animationQueue:!1,duration:500,scrollToAccordion:!1,activate:function(){},deactivate:function(){},load:function(){},activateState:function(){},classes:{stateDefault:"r-tabs-state-default",stateActive:"r-tabs-state-active",stateDisabled:"r-tabs-state-disabled",stateExcluded:"r-tabs-state-excluded",tab:"r-tabs-tab",anchor:"r-tabs-anchor",panel:"r-tabs-panel",accordionTitle:"r-tabs-accordion-title"}};i.prototype.init=function(){var n=this;this.tabs=this._loadElements(),this._loadClasses(),this._loadEvents(),e(t).on("resize",function(e){n._setState(e)}),e(t).on("hashchange",function(e){var r=n._getTabRefBySelector(t.location.hash),i=n._getTab(r);r>=0&&!i._ignoreHashChange&&!i.disabled&&n._openTab(e,n._getTab(r),!0)}),!1!==this.options.rotate&&this.startRotation(),this.$element.bind("tabs-activate",function(e,t){n.options.activate.call(this,e,t)}),this.$element.bind("tabs-deactivate",function(e,t){n.options.deactivate.call(this,e,t)}),this.$element.bind("tabs-activate-state",function(e,t){n.options.activateState.call(this,e,t)}),this.$element.bind("tabs-load",function(e){var t;n._setState(e),!0===n.options.startCollapsed||"accordion"===n.options.startCollapsed&&"accordion"===n.state||(t=n._getStartTab(),n._openTab(e,t),n.options.load.call(this,e,t))}),this.$element.trigger("tabs-load")},i.prototype._loadElements=function(){var t=this,n=this.$element.children("ul"),r=[],i=0;return this.$element.addClass("r-tabs"),n.addClass("r-tabs-nav"),e("li",n).each(function(){var o,u,a,f,l,n=e(this);if(!n.hasClass(t.options.classes.stateExcluded)){l=(o=e("a",n)).attr("href"),u=e(l),a=e("<div></div>").insertBefore(u),f=e("<a></a>").attr("href",l).html(o.html()).appendTo(a);var c={_ignoreHashChange:!1,id:i,disabled:-1!==e.inArray(i,t.options.disabled),tab:e(this),anchor:e("a",n),panel:u,selector:l,accordionTab:a,accordionAnchor:f,active:!1};i++,r.push(c)}}),r},i.prototype._loadClasses=function(){for(var e=0;e<this.tabs.length;e++)this.tabs[e].tab.addClass(this.options.classes.stateDefault).addClass(this.options.classes.tab),this.tabs[e].anchor.addClass(this.options.classes.anchor),this.tabs[e].panel.addClass(this.options.classes.stateDefault).addClass(this.options.classes.panel),this.tabs[e].accordionTab.addClass(this.options.classes.accordionTitle),this.tabs[e].accordionAnchor.addClass(this.options.classes.anchor),this.tabs[e].disabled&&(this.tabs[e].tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),this.tabs[e].accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},i.prototype._loadEvents=function(){for(var e=this,n=function(n){var r=e._getCurrentTab(),i=n.data.tab;n.preventDefault(),i.disabled||(e.options.setHash&&(history.pushState?history.pushState(null,null,i.selector):t.location.hash=i.selector),n.data.tab._ignoreHashChange=!0,(r!==i||e._isCollapisble())&&(e._closeTab(n,r),(r!==i||!e._isCollapisble())&&e._openTab(n,i,!1,!0)))},r=0;r<this.tabs.length;r++)this.tabs[r].anchor.on(e.options.event,{tab:e.tabs[r]},n),this.tabs[r].accordionAnchor.on(e.options.event,{tab:e.tabs[r]},n)},i.prototype._getStartTab=function(){var e=this._getTabRefBySelector(t.location.hash);return e>=0&&!this._getTab(e).disabled?this._getTab(e):this.options.active>0&&!this._getTab(this.options.active).disabled?this._getTab(this.options.active):this._getTab(0)},i.prototype._setState=function(t){var o,r=e("ul",this.$element),i=this.state,s="string"==typeof this.options.startCollapsed;r.is(":visible")?this.state="tabs":this.state="accordion",this.state!==i&&(this.$element.trigger("tabs-activate-state",{oldState:i,newState:this.state}),i&&s&&this.options.startCollapsed!==this.state&&this._getCurrentTab()===n&&(o=this._getStartTab(t),this._openTab(t,o)))},i.prototype._openTab=function(t,n,r,i){var s=this;r&&this._closeTab(t,this._getCurrentTab()),i&&this.rotateInterval>0&&this.stopRotation(),n.active=!0,n.tab.removeClass(s.options.classes.stateDefault).addClass(s.options.classes.stateActive),n.accordionTab.removeClass(s.options.classes.stateDefault).addClass(s.options.classes.stateActive),s._doTransition(n.panel,s.options.animation,"open",function(){n.panel.removeClass(s.options.classes.stateDefault).addClass(s.options.classes.stateActive),"accordion"===s.getState()&&s.options.scrollToAccordion&&!s._isInView(n.accordionTab)&&(s.options.duration>0?e("html, body").animate({scrollTop:n.accordionTab.offset().top},s.options.duration):e("html, body").scrollTop(n.accordionTab.offset().top))}),this.$element.trigger("tabs-activate",n)},i.prototype._closeTab=function(e,t){var s,r=this,i="string"==typeof r.options.animationQueue;t!==n&&(s=!(!i||r.getState()!==r.options.animationQueue)||!i&&r.options.animationQueue,t.active=!1,t.tab.removeClass(r.options.classes.stateActive).addClass(r.options.classes.stateDefault),r._doTransition(t.panel,r.options.animation,"close",function(){t.accordionTab.removeClass(r.options.classes.stateActive).addClass(r.options.classes.stateDefault),t.panel.removeClass(r.options.classes.stateActive).addClass(r.options.classes.stateDefault)},!s),this.$element.trigger("tabs-deactivate",t))},i.prototype._doTransition=function(e,t,n,r,i){var s,o=this;switch(t){case"slide":s="open"===n?"slideDown":"slideUp";break;case"fade":s="open"===n?"fadeIn":"fadeOut";break;default:s="open"===n?"show":"hide",o.options.duration=0}this.$queue.queue("responsive-tabs",function(i){e[s]({duration:o.options.duration,complete:function(){r.call(e,t,n),i()}})}),("open"===n||i)&&this.$queue.dequeue("responsive-tabs")},i.prototype._isCollapisble=function(){return"boolean"==typeof this.options.collapsible&&this.options.collapsible||"string"==typeof this.options.collapsible&&this.options.collapsible===this.getState()},i.prototype._getTab=function(e){return this.tabs[e]},i.prototype._getTabRefBySelector=function(e){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].selector===e)return t;return-1},i.prototype._getCurrentTab=function(){return this._getTab(this._getCurrentTabRef())},i.prototype._getNextTabRef=function(e){var t=e||this._getCurrentTabRef(),n=t===this.tabs.length-1?0:t+1;return this._getTab(n).disabled?this._getNextTabRef(n):n},i.prototype._getPreviousTabRef=function(){return 0===this._getCurrentTabRef()?this.tabs.length-1:this._getCurrentTabRef()-1},i.prototype._getCurrentTabRef=function(){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].active)return e;return-1},i.prototype._isInView=function(n){var r=e(t).scrollTop(),i=r+e(t).height(),s=n.offset().top;return s+n.height()<=i&&s>=r},i.prototype.activate=function(e,t){var n=jQuery.Event("tabs-activate"),r=this._getTab(e);r.disabled||this._openTab(n,r,!0,t||!0)},i.prototype.deactivate=function(e){var t=jQuery.Event("tabs-dectivate"),n=this._getTab(e);n.disabled||this._closeTab(t,n)},i.prototype.enable=function(e){var t=this._getTab(e);t&&(t.disabled=!1,t.tab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled),t.accordionTab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled))},i.prototype.disable=function(e){var t=this._getTab(e);t&&(t.disabled=!0,t.tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),t.accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},i.prototype.getState=function(){return this.state},i.prototype.startRotation=function(t){var n=this;if(!(this.tabs.length>this.options.disabled.length))throw new Error("Rotation is not possible if all tabs are disabled");this.rotateInterval=setInterval(function(){var e=jQuery.Event("rotate");n._openTab(e,n._getTab(n._getNextTabRef()),!0)},t||(e.isNumeric(n.options.rotate)?n.options.rotate:4e3))},i.prototype.stopRotation=function(){t.clearInterval(this.rotateInterval),this.rotateInterval=0},e.fn.responsiveTabs=function(t){var r=arguments;return t===n||"object"==typeof t?this.each(function(){e.data(this,"responsivetabs")||e.data(this,"responsivetabs",new i(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var n=e.data(this,"responsivetabs");n instanceof i&&"function"==typeof n[t]&&n[t].apply(n,Array.prototype.slice.call(r,1)),"destroy"===t&&e.data(this,"responsivetabs",null)}):void 0}}(jQuery,window),function(root,factory){"use strict";var moment;if("object"==typeof exports){try{moment=require("moment")}catch(e){}module.exports=factory(moment)}else"function"==typeof define&&define.amd?define(function(req){try{moment=req("moment")}catch(e){}return factory(moment)}):root.Pikaday=factory(root.moment)}(this,function(moment){"use strict";var hasMoment="function"==typeof moment,hasEventListeners=!!window.addEventListener,document=window.document,sto=window.setTimeout,addEvent=function(el,e,callback,capture){hasEventListeners?el.addEventListener(e,callback,!!capture):el.attachEvent("on"+e,callback)},removeEvent=function(el,e,callback,capture){hasEventListeners?el.removeEventListener(e,callback,!!capture):el.detachEvent("on"+e,callback)},fireEvent=function(el,eventName,data){var ev;document.createEvent?((ev=document.createEvent("HTMLEvents")).initEvent(eventName,!0,!1),ev=extend(ev,data),el.dispatchEvent(ev)):document.createEventObject&&(ev=document.createEventObject(),ev=extend(ev,data),el.fireEvent("on"+eventName,ev))},trim=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")},hasClass=function(el,cn){return-1!==(" "+el.className+" ").indexOf(" "+cn+" ")},addClass=function(el,cn){hasClass(el,cn)||(el.className=""===el.className?cn:el.className+" "+cn)},removeClass=function(el,cn){el.className=trim((" "+el.className+" ").replace(" "+cn+" "," "))},isArray=function(obj){return/Array/.test(Object.prototype.toString.call(obj))},isDate=function(obj){return/Date/.test(Object.prototype.toString.call(obj))&&!isNaN(obj.getTime())},isWeekend=function(date){var day=date.getDay();return 0===day||6===day},isLeapYear=function(year){return year%4==0&&year%100!=0||year%400==0},getDaysInMonth=function(year,month){return[31,isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},setToStartOfDay=function(date){isDate(date)&&date.setHours(0,0,0,0)},compareDates=function(a,b){return a.getTime()===b.getTime()},extend=function(to,from,overwrite){var prop,hasProp;for(prop in from)(hasProp=void 0!==to[prop])&&"object"==typeof from[prop]&&null!==from[prop]&&void 0===from[prop].nodeName?isDate(from[prop])?overwrite&&(to[prop]=new Date(from[prop].getTime())):isArray(from[prop])?overwrite&&(to[prop]=from[prop].slice(0)):to[prop]=extend({},from[prop],overwrite):!overwrite&&hasProp||(to[prop]=from[prop]);return to},adjustCalendar=function(calendar){return calendar.month<0&&(calendar.year-=Math.ceil(Math.abs(calendar.month)/12),calendar.month+=12),calendar.month>11&&(calendar.year+=Math.floor(Math.abs(calendar.month)/12),calendar.month-=12),calendar},defaults={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},renderDayName=function(opts,day,abbr){for(day+=opts.firstDay;day>=7;)day-=7;return abbr?opts.i18n.weekdaysShort[day]:opts.i18n.weekdays[day]},renderDay=function(d,m,y,isSelected,isToday,isDisabled,isEmpty){if(isEmpty)return'<td class="is-empty"></td>';var arr=[];return isDisabled&&arr.push("is-disabled"),isToday&&arr.push("is-today"),isSelected&&arr.push("is-selected"),'<td data-day="'+d+'" class="'+arr.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+y+'" data-pika-month="'+m+'" data-pika-day="'+d+'">'+d+"</button></td>"},renderWeek=function(d,m,y){var onejan=new Date(y,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(y,m,d)-onejan)/864e5+onejan.getDay()+1)/7)+"</td>"},renderRow=function(days,isRTL){return"<tr>"+(isRTL?days.reverse():days).join("")+"</tr>"},renderBody=function(rows){return"<tbody>"+rows.join("")+"</tbody>"},renderHead=function(opts){var i,arr=[];for(opts.showWeekNumber&&arr.push("<th></th>"),i=0;i<7;i++)arr.push('<th scope="col"><abbr title="'+renderDayName(opts,i)+'">'+renderDayName(opts,i,!0)+"</abbr></th>");return"<thead>"+(opts.isRTL?arr.reverse():arr).join("")+"</thead>"},renderTitle=function(instance,c,year,month,refYear){var i,j,arr,monthHtml,yearHtml,opts=instance._o,isMinYear=year===opts.minYear,isMaxYear=year===opts.maxYear,html='<div class="pika-title">',prev=!0,next=!0;for(arr=[],i=0;i<12;i++)arr.push('<option value="'+(year===refYear?i-c:12+i-c)+'"'+(i===month?" selected":"")+(isMinYear&&i<opts.minMonth||isMaxYear&&i>opts.maxMonth?"disabled":"")+">"+opts.i18n.months[i]+"</option>");for(monthHtml='<div class="pika-label">'+opts.i18n.months[month]+'<select class="pika-select pika-select-month" tabindex="-1">'+arr.join("")+"</select></div>",isArray(opts.yearRange)?(i=opts.yearRange[0],j=opts.yearRange[1]+1):(i=year-opts.yearRange,j=1+year+opts.yearRange),arr=[];i<j&&i<=opts.maxYear;i++)i>=opts.minYear&&arr.push('<option value="'+i+'"'+(i===year?" selected":"")+">"+i+"</option>");return yearHtml='<div class="pika-label">'+year+opts.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+arr.join("")+"</select></div>",opts.showMonthAfterYear?html+=yearHtml+monthHtml:html+=monthHtml+yearHtml,isMinYear&&(0===month||opts.minMonth>=month)&&(prev=!1),isMaxYear&&(11===month||opts.maxMonth<=month)&&(next=!1),0===c&&(html+='<button class="pika-prev'+(prev?"":" is-disabled")+'" type="button">'+opts.i18n.previousMonth+"</button>"),c===instance._o.numberOfMonths-1&&(html+='<button class="pika-next'+(next?"":" is-disabled")+'" type="button">'+opts.i18n.nextMonth+"</button>"),html+="</div>"},renderTable=function(opts,data){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+renderHead(opts)+renderBody(data)+"</table>"},Pikaday=function(options){var self=this,opts=self.config(options);self._onMouseDown=function(e){if(self._v){var target=(e=e||window.event).target||e.srcElement;if(target){if(!hasClass(target.parentNode,"is-disabled")){if(hasClass(target,"pika-button")&&!hasClass(target,"is-empty"))return self.setDate(new Date(target.getAttribute("data-pika-year"),target.getAttribute("data-pika-month"),target.getAttribute("data-pika-day"))),void(opts.bound&&sto(function(){self.hide(),opts.field&&opts.field.blur()},100));hasClass(target,"pika-prev")?self.prevMonth():hasClass(target,"pika-next")&&self.nextMonth()}if(hasClass(target,"pika-select"))self._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}}},self._onChange=function(e){var target=(e=e||window.event).target||e.srcElement;target&&(hasClass(target,"pika-select-month")?self.gotoMonth(target.value):hasClass(target,"pika-select-year")&&self.gotoYear(target.value))},self._onInputChange=function(e){var date;e.firedBy!==self&&(date=hasMoment?(date=moment(opts.field.value,opts.format))&&date.isValid()?date.toDate():null:new Date(Date.parse(opts.field.value)),isDate(date)&&self.setDate(date),self._v||self.show())},self._onInputFocus=function(){self.show()},self._onInputClick=function(){self.show()},self._onInputBlur=function(){var pEl=document.activeElement;do{if(hasClass(pEl,"pika-single"))return}while(pEl=pEl.parentNode);self._c||(self._b=sto(function(){self.hide()},50)),self._c=!1},self._onClick=function(e){var target=(e=e||window.event).target||e.srcElement,pEl=target;if(target){!hasEventListeners&&hasClass(target,"pika-select")&&(target.onchange||(target.setAttribute("onchange","return;"),addEvent(target,"change",self._onChange)));do{if(hasClass(pEl,"pika-single")||pEl===opts.trigger)return}while(pEl=pEl.parentNode);self._v&&target!==opts.trigger&&pEl!==opts.trigger&&self.hide()}},self.el=document.createElement("div"),self.el.className="pika-single"+(opts.isRTL?" is-rtl":"")+(opts.theme?" "+opts.theme:""),addEvent(self.el,"ontouchend"in document?"touchend":"mousedown",self._onMouseDown,!0),addEvent(self.el,"change",self._onChange),opts.field&&(opts.container?opts.container.appendChild(self.el):opts.bound?document.body.appendChild(self.el):opts.field.parentNode.insertBefore(self.el,opts.field.nextSibling),addEvent(opts.field,"change",self._onInputChange),opts.defaultDate||(hasMoment&&opts.field.value?opts.defaultDate=moment(opts.field.value,opts.format).toDate():opts.defaultDate=new Date(Date.parse(opts.field.value)),opts.setDefaultDate=!0));var defDate=opts.defaultDate;isDate(defDate)?opts.setDefaultDate?self.setDate(defDate,!0):self.gotoDate(defDate):self.gotoDate(new Date),opts.bound?(this.hide(),self.el.className+=" is-bound",addEvent(opts.trigger,"click",self._onInputClick),addEvent(opts.trigger,"focus",self._onInputFocus),addEvent(opts.trigger,"blur",self._onInputBlur)):this.show()};return Pikaday.prototype={config:function(options){this._o||(this._o=extend({},defaults,!0));var opts=extend(this._o,options,!0);opts.isRTL=!!opts.isRTL,opts.field=opts.field&&opts.field.nodeName?opts.field:null,opts.theme="string"==typeof opts.theme&&opts.theme?opts.theme:null,opts.bound=!!(void 0!==opts.bound?opts.field&&opts.bound:opts.field),opts.trigger=opts.trigger&&opts.trigger.nodeName?opts.trigger:opts.field,opts.disableWeekends=!!opts.disableWeekends,opts.disableDayFn="function"==typeof opts.disableDayFn?opts.disableDayFn:null;var nom=parseInt(opts.numberOfMonths,10)||1;if(opts.numberOfMonths=nom>4?4:nom,isDate(opts.minDate)||(opts.minDate=!1),isDate(opts.maxDate)||(opts.maxDate=!1),opts.minDate&&opts.maxDate&&opts.maxDate<opts.minDate&&(opts.maxDate=opts.minDate=!1),opts.minDate&&this.setMinDate(opts.minDate),opts.maxDate&&(setToStartOfDay(opts.maxDate),opts.maxYear=opts.maxDate.getFullYear(),opts.maxMonth=opts.maxDate.getMonth()),isArray(opts.yearRange)){var fallback=(new Date).getFullYear()-10;opts.yearRange[0]=parseInt(opts.yearRange[0],10)||fallback,opts.yearRange[1]=parseInt(opts.yearRange[1],10)||fallback}else opts.yearRange=Math.abs(parseInt(opts.yearRange,10))||defaults.yearRange,opts.yearRange>100&&(opts.yearRange=100);return opts},toString:function(format){return isDate(this._d)?hasMoment?moment(this._d).format(format||this._o.format):this._d.toDateString():""},getMoment:function(){return hasMoment?moment(this._d):null},setMoment:function(date,preventOnSelect){hasMoment&&moment.isMoment(date)&&this.setDate(date.toDate(),preventOnSelect)},getDate:function(){return isDate(this._d)?new Date(this._d.getTime()):null},setDate:function(date,preventOnSelect){if(!date)return this._d=null,this._o.field&&(this._o.field.value="",fireEvent(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof date&&(date=new Date(Date.parse(date))),isDate(date)){var min=this._o.minDate,max=this._o.maxDate;isDate(min)&&date<min?date=min:isDate(max)&&date>max&&(date=max),this._d=new Date(date.getTime()),setToStartOfDay(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),fireEvent(this._o.field,"change",{firedBy:this})),preventOnSelect||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(date){var newCalendar=!0;if(isDate(date)){if(this.calendars){var firstVisibleDate=new Date(this.calendars[0].year,this.calendars[0].month,1),lastVisibleDate=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),visibleDate=date.getTime();lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1),lastVisibleDate.setDate(lastVisibleDate.getDate()-1),newCalendar=visibleDate<firstVisibleDate.getTime()||lastVisibleDate.getTime()<visibleDate}newCalendar&&(this.calendars=[{month:date.getMonth(),year:date.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=adjustCalendar(this.calendars[0]);for(var c=1;c<this._o.numberOfMonths;c++)this.calendars[c]=adjustCalendar({month:this.calendars[0].month+c,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(month){isNaN(month)||(this.calendars[0].month=parseInt(month,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(year){isNaN(year)||(this.calendars[0].year=parseInt(year,10),this.adjustCalendars())},setMinDate:function(value){setToStartOfDay(value),this._o.minDate=value,this._o.minYear=value.getFullYear(),this._o.minMonth=value.getMonth()},setMaxDate:function(value){this._o.maxDate=value},draw:function(force){if(this._v||force){var opts=this._o,minYear=opts.minYear,maxYear=opts.maxYear,minMonth=opts.minMonth,maxMonth=opts.maxMonth,html="";this._y<=minYear&&(this._y=minYear,!isNaN(minMonth)&&this._m<minMonth&&(this._m=minMonth)),this._y>=maxYear&&(this._y=maxYear,!isNaN(maxMonth)&&this._m>maxMonth&&(this._m=maxMonth));for(var c=0;c<opts.numberOfMonths;c++)html+='<div class="pika-lendar">'+renderTitle(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year)+this.render(this.calendars[c].year,this.calendars[c].month)+"</div>";if(this.el.innerHTML=html,opts.bound&&"hidden"!==opts.field.type&&sto(function(){opts.trigger.focus()},1),"function"==typeof this._o.onDraw){var self=this;sto(function(){self._o.onDraw.call(self)},0)}}},adjustPosition:function(){var field,pEl,width,height,viewportWidth,viewportHeight,scrollTop,left,top,clientRect;if(!this._o.container){if(this.el.style.position="absolute",field=this._o.trigger,pEl=field,width=this.el.offsetWidth,height=this.el.offsetHeight,viewportWidth=window.innerWidth||document.documentElement.clientWidth,viewportHeight=window.innerHeight||document.documentElement.clientHeight,scrollTop=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,"function"==typeof field.getBoundingClientRect)left=(clientRect=field.getBoundingClientRect()).left+window.pageXOffset,top=clientRect.bottom+window.pageYOffset;else for(left=pEl.offsetLeft,top=pEl.offsetTop+pEl.offsetHeight;pEl=pEl.offsetParent;)left+=pEl.offsetLeft,top+=pEl.offsetTop;(this._o.reposition&&left+width>viewportWidth||this._o.position.indexOf("right")>-1&&left-width+field.offsetWidth>0)&&(left=left-width+field.offsetWidth),(this._o.reposition&&top+height>viewportHeight+scrollTop||this._o.position.indexOf("top")>-1&&top-height-field.offsetHeight>0)&&(top=top-height-field.offsetHeight),this.el.style.left=left+"px",this.el.style.top=top+"px"}},render:function(year,month){var opts=this._o,now=new Date,days=getDaysInMonth(year,month),before=new Date(year,month,1).getDay(),data=[],row=[];setToStartOfDay(now),opts.firstDay>0&&(before-=opts.firstDay)<0&&(before+=7);for(var cells=days+before,after=cells;after>7;)after-=7;cells+=7-after;for(var i=0,r=0;i<cells;i++){var day=new Date(year,month,i-before+1),isSelected=!!isDate(this._d)&&compareDates(day,this._d),isToday=compareDates(day,now),isEmpty=i<before||i>=days+before,isDisabled=opts.minDate&&day<opts.minDate||opts.maxDate&&day>opts.maxDate||opts.disableWeekends&&isWeekend(day)||opts.disableDayFn&&opts.disableDayFn(day);row.push(renderDay(i-before+1,month,year,isSelected,isToday,isDisabled,isEmpty)),7==++r&&(opts.showWeekNumber&&row.unshift(renderWeek(i-before,month,year)),data.push(renderRow(row,opts.isRTL)),row=[],r=0)}return renderTable(opts,data)},isVisible:function(){return this._v},show:function(){this._v||(removeClass(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(addEvent(document,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var v=this._v;!1!==v&&(this._o.bound&&removeEvent(document,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",addClass(this.el,"is-hidden"),this._v=!1,void 0!==v&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),removeEvent(this.el,"mousedown",this._onMouseDown,!0),removeEvent(this.el,"change",this._onChange),this._o.field&&(removeEvent(this._o.field,"change",this._onInputChange),this._o.bound&&(removeEvent(this._o.trigger,"click",this._onInputClick),removeEvent(this._o.trigger,"focus",this._onInputFocus),removeEvent(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},Pikaday}),function(root,factory){"use strict";"object"==typeof exports?factory(require("jquery"),require("../pikaday")):"function"==typeof define&&define.amd?define(["jquery","pikaday"],factory):factory(root.jQuery,root.Pikaday)}(this,function($,Pikaday){"use strict";$.fn.pikaday=function(){var args=arguments;return args&&args.length||(args=[{}]),this.each(function(){var self=$(this),plugin=self.data("pikaday");if(plugin instanceof Pikaday)"string"==typeof args[0]&&"function"==typeof plugin[args[0]]&&plugin[args[0]].apply(plugin,Array.prototype.slice.call(args,1));else if("object"==typeof args[0]){var options=$.extend({},args[0]);options.field=self[0],self.data("pikaday",new Pikaday(options))}})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(d);if(d.value==f.attr("placeholder")&&f.hasClass(m.customClass))if(f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),!0===b)return f[0].value=c;f.focus()}else d.value="",f.removeClass(m.customClass),d==e()&&d.select()}function d(){var d,e=this,f=a(e),g=this.id;if(""===e.value){if("password"===e.type){if(!f.data("placeholder-textinput")){try{d=f.clone().attr({type:"text"})}catch(h){d=a("<input>").attr(a.extend(b(this),{type:"text"}))}d.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",c),f.data({"placeholder-textinput":d,"placeholder-id":g}).before(d)}f=f.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g).show()}f.addClass(m.customClass),f[0].value=f.attr("placeholder")}else f.removeClass(m.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!h,j="placeholder"in document.createElement("textarea")&&!h,k=a.valHooks,l=a.propHooks;if(i&&j)g=a.fn.placeholder=function(){return this},g.input=g.textarea=!0;else{var m={};(g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};m=a.extend({},e,b);var f=this;return f.filter((i?"textarea":":input")+"[placeholder]").not("."+m.customClass).bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),f}).input=i,g.textarea=j,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass(m.customClass)?"":b.value},set:function(b,f){var g=a(b),h=g.data("placeholder-password");return h?h[0].value=f:g.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):g.hasClass(m.customClass)?c.call(b,!0,f)||(b.value=f):b.value=f,g):b.value=f}},i||(k.input=f,l.value=f),j||(k.textarea=f,l.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+m.customClass,this).each(c);setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){a("."+m.customClass).each(function(){this.value=""})})}}),function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory(require,exports,module):root.scrollReveal=factory()}(this,function(require,exports,module){return window.scrollReveal=function(window){"use strict";function scrollReveal(config){(self=this).elems={},self.serial=1,self.blocked=!1,self.config=_extend(self.defaults,config),self.isMobile()&&!self.config.mobile||!self.isSupported()?self.destroy():(self.config.viewport===window.document.documentElement?(window.addEventListener("scroll",_handler,!1),window.addEventListener("resize",_handler,!1)):self.config.viewport.addEventListener("scroll",_handler,!1),self.init(!0))}var _requestAnimFrame,_extend,_handler,self;return scrollReveal.prototype={defaults:{enter:"bottom",move:"8px",over:"0.6s",wait:"0s",easing:"ease",scale:{direction:"up",power:"5%"},rotate:{x:0,y:0,z:0},opacity:0,mobile:!1,reset:!1,viewport:window.document.documentElement,delay:"once",vFactor:.6,complete:function(el){}},init:function(flag){var serial,elem;Array.prototype.slice.call(self.config.viewport.querySelectorAll("[data-sr]")).forEach(function(el){serial=self.serial++,(elem=self.elems[serial]={domEl:el}).config=self.configFactory(elem),elem.styles=self.styleFactory(elem),elem.seen=!1,el.removeAttribute("data-sr"),el.setAttribute("style",elem.styles.inline+elem.styles.initial)}),self.scrolled=self.scrollY(),self.animate(flag)},animate:function(flag){var key,elem,visible;for(key in self.elems)self.elems.hasOwnProperty(key)&&(elem=self.elems[key],(visible=self.isElemInViewport(elem))?("always"===self.config.delay||"onload"===self.config.delay&&flag||"once"===self.config.delay&&!elem.seen?elem.domEl.setAttribute("style",elem.styles.inline+elem.styles.target+elem.styles.transition):elem.domEl.setAttribute("style",elem.styles.inline+elem.styles.target+elem.styles.reset),elem.seen=!0,elem.config.reset||elem.animating||(elem.animating=!0,function(key){var elem=self.elems[key];setTimeout(function(){elem.domEl.setAttribute("style",elem.styles.inline),elem.config.complete(elem.domEl),delete self.elems[key]},elem.styles.duration)}(key))):!visible&&elem.config.reset&&elem.domEl.setAttribute("style",elem.styles.inline+elem.styles.initial+elem.styles.reset));self.blocked=!1},configFactory:function(elem){var parsed={},config={},words=elem.domEl.getAttribute("data-sr").split(/[, ]+/);return words.forEach(function(keyword,i){switch(keyword){case"enter":parsed.enter=words[i+1];break;case"wait":parsed.wait=words[i+1];break;case"move":parsed.move=words[i+1];break;case"ease":parsed.move=words[i+1],parsed.ease="ease";break;case"ease-in":if("up"==words[i+1]||"down"==words[i+1]){parsed.scale.direction=words[i+1],parsed.scale.power=words[i+2],parsed.easing="ease-in";break}parsed.move=words[i+1],parsed.easing="ease-in";break;case"ease-in-out":if("up"==words[i+1]||"down"==words[i+1]){parsed.scale.direction=words[i+1],parsed.scale.power=words[i+2],parsed.easing="ease-in-out";break}parsed.move=words[i+1],parsed.easing="ease-in-out";break;case"ease-out":if("up"==words[i+1]||"down"==words[i+1]){parsed.scale.direction=words[i+1],parsed.scale.power=words[i+2],parsed.easing="ease-out";break}parsed.move=words[i+1],parsed.easing="ease-out";break;case"hustle":if("up"==words[i+1]||"down"==words[i+1]){parsed.scale.direction=words[i+1],parsed.scale.power=words[i+2],parsed.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )";break}parsed.move=words[i+1],parsed.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )";break;case"over":parsed.over=words[i+1];break;case"flip":case"pitch":parsed.rotate=parsed.rotate||{},parsed.rotate.x=words[i+1];break;case"spin":case"yaw":parsed.rotate=parsed.rotate||{},parsed.rotate.y=words[i+1];break;case"roll":parsed.rotate=parsed.rotate||{},parsed.rotate.z=words[i+1];break;case"reset":"no"==words[i-1]?parsed.reset=!1:parsed.reset=!0;break;case"scale":if(parsed.scale={},"up"==words[i+1]||"down"==words[i+1]){parsed.scale.direction=words[i+1],parsed.scale.power=words[i+2];break}parsed.scale.power=words[i+1];break;case"vFactor":case"vF":parsed.vFactor=words[i+1];break;case"opacity":parsed.opacity=words[i+1];break;default:return}}),config=_extend(config,self.config),config=_extend(config,parsed),"top"===config.enter||"bottom"===config.enter?config.axis="Y":"left"!==config.enter&&"right"!==config.enter||(config.axis="X"),"top"!==config.enter&&"left"!==config.enter||(config.move="-"+config.move),config},styleFactory:function(elem){function build(){0!==parseInt(cfg.move)&&(initial+=" translate"+cfg.axis+"("+cfg.move+")",target+=" translate"+cfg.axis+"(0)"),0!==parseInt(cfg.scale.power)&&("up"===cfg.scale.direction?cfg.scale.value=1-.01*parseFloat(cfg.scale.power):"down"===cfg.scale.direction&&(cfg.scale.value=1+.01*parseFloat(cfg.scale.power)),initial+=" scale("+cfg.scale.value+")",target+=" scale(1)"),cfg.rotate.x&&(initial+=" rotateX("+cfg.rotate.x+")",target+=" rotateX(0)"),cfg.rotate.y&&(initial+=" rotateY("+cfg.rotate.y+")",target+=" rotateY(0)"),cfg.rotate.z&&(initial+=" rotateZ("+cfg.rotate.z+")",target+=" rotateZ(0)"),initial+="; opacity: "+cfg.opacity+"; ",target+="; opacity: 1; "}var inline,initial,reset,target,transition,cfg=elem.config,duration=1e3*(parseFloat(cfg.over)+parseFloat(cfg.wait));return inline=elem.domEl.getAttribute("style")?elem.domEl.getAttribute("style")+"; visibility: visible; ":"visibility: visible; ",transition="-webkit-transition: -webkit-transform "+cfg.over+" "+cfg.easing+" "+cfg.wait+", opacity "+cfg.over+" "+cfg.easing+" "+cfg.wait+"; transition: transform "+cfg.over+" "+cfg.easing+" "+cfg.wait+", opacity "+cfg.over+" "+cfg.easing+" "+cfg.wait+"; -webkit-perspective: 1000;-webkit-backface-visibility: hidden;",reset="-webkit-transition: -webkit-transform "+cfg.over+" "+cfg.easing+" 0s, opacity "+cfg.over+" "+cfg.easing+" 0s; transition: transform "+cfg.over+" "+cfg.easing+" 0s, opacity "+cfg.over+" "+cfg.easing+" 0s; -webkit-perspective: 1000; -webkit-backface-visibility: hidden; ",initial="transform:",target="transform:",build(),initial+="-webkit-transform:",target+="-webkit-transform:",build(),{transition:transition,initial:initial,target:target,reset:reset,inline:inline,duration:duration}},getViewportH:function(){var client=self.config.viewport.clientHeight,inner=window.innerHeight;return self.config.viewport===window.document.documentElement&&client<inner?inner:client},scrollY:function(){return self.config.viewport===window.document.documentElement?window.pageYOffset:self.config.viewport.scrollTop+self.config.viewport.offsetTop},getOffset:function(el){var offsetTop=0,offsetLeft=0;do{isNaN(el.offsetTop)||(offsetTop+=el.offsetTop),isNaN(el.offsetLeft)||(offsetLeft+=el.offsetLeft)}while(el=el.offsetParent);return{top:offsetTop,left:offsetLeft}},isElemInViewport:function(elem){var elHeight=elem.domEl.offsetHeight,elTop=self.getOffset(elem.domEl).top,elBottom=elTop+elHeight,vFactor=elem.config.vFactor||0;return function(){var top=elTop+elHeight*vFactor,bottom=elBottom-elHeight*vFactor,viewBottom=self.scrolled+self.getViewportH(),viewTop=self.scrolled;return top<viewBottom&&bottom>viewTop}()||function(){var el=elem.domEl;return"fixed"===(el.currentStyle||window.getComputedStyle(el,null)).position}()},isMobile:function(){var agent=navigator.userAgent||navigator.vendor||window.opera;return!(!/(ipad|playbook|silk|android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(agent)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(agent.substr(0,4)))},isSupported:function(){for(var sensor=document.createElement("sensor"),tests=("transition "+"Webkit,Moz,O,".split(",").join("transition,")).split(","),i=0;i<tests.length;i++)if(""===!sensor.style[tests[i]])return!1;return!0},destroy:function(){var node=self.config.viewport;Array.prototype.slice.call(node.querySelectorAll("[data-sr]")).forEach(function(el){el.removeAttribute("data-sr")})}},_handler=function(e){self.blocked||(self.blocked=!0,self.scrolled=self.scrollY(),_requestAnimFrame(function(){self.animate()}))},_extend=function(target,src){for(var prop in src)src.hasOwnProperty(prop)&&(target[prop]=src[prop]);return target},_requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}(),scrollReveal}(window),scrollReveal}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof exports?require("jquery"):a.jQuery)}(this,function(a){"use strict";function b(a){var b,c,d,e,f,g,h,i={};for(h=0,g=(f=a.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(",")).length;g>h&&-1===(c=f[h]).search(/^(http|https|ftp):\/\//)&&-1!==c.search(":");h++)b=c.indexOf(":"),d=c.substring(0,b),(e=c.substring(b+1))||(e=void 0),"string"==typeof e&&(e="true"===e||"false"!==e&&e),"string"==typeof e&&(e=isNaN(e)?e:+e),i[d]=e;return null==d&&null==e?a:i}function c(a){var b,c,d,e=(a=""+a).split(/\s+/),f="50%",g="50%";for(d=0,b=e.length;b>d;d++)c=e[d],"left"===c?f="0%":"right"===c?f="100%":"top"===c?g="0%":"bottom"===c?g="100%":"center"===c?0===d?f="50%":g="50%":0===d?f=c:g=c;return{x:f,y:g}}function d(b,c){var d=function(){c(this.src)};a('<img src="'+b+'.gif">').load(d),a('<img src="'+b+'.jpg">').load(d),a('<img src="'+b+'.jpeg">').load(d),a('<img src="'+b+'.png">').load(d)}function e(c,d,e){if(this.$element=a(c),"string"==typeof d&&(d=b(d)),e?"string"==typeof e&&(e=b(e)):e={},"string"==typeof d)d=d.replace(/\.\w*$/,"");else if("object"==typeof d)for(var f in d)d.hasOwnProperty(f)&&(d[f]=d[f].replace(/\.\w*$/,""));this.settings=a.extend({},g,e),this.path=d,this.init()}var f="vide",g={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect",resizing:!0};e.prototype.init=function(){var b,e=this,g=c(e.settings.position),h="";e.$wrapper=a("<div>").css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":g.x+" "+g.y}),b=e.path,"object"==typeof e.path&&(e.path.poster?b=e.path.poster:e.path.mp4?b=e.path.mp4:e.path.webm?b=e.path.webm:e.path.ogv&&(b=e.path.ogv)),"detect"===e.settings.posterType?d(b,function(a){e.$wrapper.css("background-image","url("+a+")")}):"none"!==e.settings.posterType&&e.$wrapper.css("background-image","url("+b+"."+e.settings.posterType+")"),"static"===e.$element.css("position")&&e.$element.css("position","relative"),e.$element.prepend(e.$wrapper),"object"==typeof e.path?(e.path.mp4&&(h+='<source src="'+e.path.mp4+'.mp4" type="video/mp4">'),e.path.webm&&(h+='<source src="'+e.path.webm+'.webm" type="video/webm">'),e.path.ogv&&(h+='<source src="'+e.path.ogv+'.ogv" type="video/ogv">'),e.$video=a("<video>"+h+"</video>")):e.$video=a('<video><source src="'+e.path+'.mp4" type="video/mp4"><source src="'+e.path+'.webm" type="video/webm"><source src="'+e.path+'.ogv" type="video/ogg"></video>'),e.$video.prop({autoplay:e.settings.autoplay,loop:e.settings.loop,volume:e.settings.volume,muted:e.settings.muted,defaultMuted:e.settings.muted,playbackRate:e.settings.playbackRate,defaultPlaybackRate:e.settings.playbackRate}).css({margin:"auto",position:"absolute","z-index":-1,top:g.y,left:g.x,"-webkit-transform":"translate(-"+g.x+", -"+g.y+")","-ms-transform":"translate(-"+g.x+", -"+g.y+")","-moz-transform":"translate(-"+g.x+", -"+g.y+")",transform:"translate(-"+g.x+", -"+g.y+")",visibility:"hidden"}).one("canplaythrough."+f,function(){e.resize()}).one("playing."+f,function(){e.$video.css("visibility","visible"),e.$wrapper.css("background-image","none")}),e.$element.on("resize."+f,function(){e.settings.resizing&&e.resize()}),e.$wrapper.append(e.$video)},e.prototype.getVideoObject=function(){return this.$video[0]},e.prototype.resize=function(){if(this.$video){var a=this.$video[0].videoHeight,b=this.$video[0].videoWidth,c=this.$wrapper.height(),d=this.$wrapper.width();this.$video.css(d/b>c/a?{width:d+2,height:"auto"}:{width:"auto",height:c+2})}},e.prototype.destroy=function(){this.$element.off(f),this.$video&&this.$video.off(f),delete a[f].lookup[this.index],this.$element.removeData(f),this.$wrapper.remove()},a[f]={lookup:[]},a.fn[f]=function(b,c){var d;return this.each(function(){(d=a.data(this,f))&&d.destroy(),(d=new e(this,b,c)).index=a[f].lookup.push(d)-1,a.data(this,f,d)}),this},a(document).ready(function(){var b=a(window);b.on("resize."+f,function(){for(var b,c=a[f].lookup.length,d=0;c>d;d++)(b=a[f].lookup[d])&&b.settings.resizing&&b.resize()}),b.on("unload."+f,function(){return!1}),a(document).find("[data-vide-bg]").each(function(b,c){var d=a(c),e=d.data(f+"-options"),g=d.data(f+"-bg");d[f](g,e)})})}),function(a){a&&(a.fn.headroom=function(b){return this.each(function(){var c=a(this),d=c.data("headroom"),e="object"==typeof b&&b;e=a.extend(!0,{},Headroom.options,e),d||((d=new Headroom(this,e)).init(),c.data("headroom",d)),"string"==typeof b&&d[b]()})},a("[data-headroom]").each(function(){var b=a(this);b.headroom(b.data())}))}(window.Zepto||window.jQuery),function(t){var i=t(window);t.fn.visible=function(t,e,o){if(!(this.length<1)){var r=this.length>1?this.eq(0):this,n=r.get(0),f=i.width(),h=i.height(),o=o||"both",l=!0!==e||n.offsetWidth*n.offsetHeight;if("function"==typeof n.getBoundingClientRect){var g=n.getBoundingClientRect(),u=g.top>=0&&g.top<h,s=g.bottom>0&&g.bottom<=h,c=g.left>=0&&g.left<f,a=g.right>0&&g.right<=f,v=t?u||s:u&&s,b=t?c||a:c&&a;if("both"===o)return l&&v&&b;if("vertical"===o)return l&&v;if("horizontal"===o)return l&&b}else{var d=i.scrollTop(),p=d+h,w=i.scrollLeft(),m=w+f,y=r.offset(),z=y.top,B=z+r.height(),C=y.left,R=C+r.width(),j=!0===t?B:z,q=!0===t?z:B,H=!0===t?R:C,L=!0===t?C:R;if("both"===o)return!!l&&p>=q&&j>=d&&m>=L&&H>=w;if("vertical"===o)return!!l&&p>=q&&j>=d;if("horizontal"===o)return!!l&&m>=L&&H>=w}}}}(jQuery),function(a,b){"use strict";function c(a){this.callback=a,this.ticking=!1}function d(b){return b&&void 0!==a&&(b===a||b.nodeType)}function e(a){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var b,c,f=a||{};for(c=1;c<arguments.length;c++){var g=arguments[c]||{};for(b in g)f[b]="object"!=typeof f[b]||d(f[b])?f[b]||g[b]:e(f[b],g[b])}return f}function f(a){return a===Object(a)?a:{down:a,up:a}}function g(a,b){b=e(b,g.options),this.lastKnownScrollY=0,this.elem=a,this.debouncer=new c(this.update.bind(this)),this.tolerance=f(b.tolerance),this.classes=b.classes,this.offset=b.offset,this.scroller=b.scroller,this.initialised=!1,this.onPin=b.onPin,this.onUnpin=b.onUnpin,this.onTop=b.onTop,this.onNotTop=b.onNotTop}var h={bind:!!function(){}.bind,classList:"classList"in b.documentElement,rAF:!!(a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame)};a.requestAnimationFrame=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,c.prototype={constructor:c,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},g.prototype={constructor:g,init:function(){return g.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var a=this.classes;this.initialised=!1,this.elem.classList.remove(a.unpinned,a.pinned,a.top,a.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var a=this.elem.classList,b=this.classes;(a.contains(b.pinned)||!a.contains(b.unpinned))&&(a.add(b.unpinned),a.remove(b.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var a=this.elem.classList,b=this.classes;a.contains(b.unpinned)&&(a.remove(b.unpinned),a.add(b.pinned),this.onPin&&this.onPin.call(this))},top:function(){var a=this.elem.classList,b=this.classes;a.contains(b.top)||(a.add(b.top),a.remove(b.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var a=this.elem.classList,b=this.classes;a.contains(b.notTop)||(a.add(b.notTop),a.remove(b.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(b.documentElement||b.body.parentNode||b.body).scrollTop},getViewportHeight:function(){return a.innerHeight||b.documentElement.clientHeight||b.body.clientHeight},getDocumentHeight:function(){var a=b.body,c=b.documentElement;return Math.max(a.scrollHeight,c.scrollHeight,a.offsetHeight,c.offsetHeight,a.clientHeight,c.clientHeight)},getElementHeight:function(a){return Math.max(a.scrollHeight,a.offsetHeight,a.clientHeight)},getScrollerHeight:function(){return this.scroller===a||this.scroller===b.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(a){var b=0>a,c=a+this.getViewportHeight()>this.getScrollerHeight();return b||c},toleranceExceeded:function(a,b){return Math.abs(a-this.lastKnownScrollY)>=this.tolerance[b]},shouldUnpin:function(a,b){var c=a>this.lastKnownScrollY,d=a>=this.offset;return c&&d&&b},shouldPin:function(a,b){var c=a<this.lastKnownScrollY,d=a<=this.offset;return c&&b||d},update:function(){var a=this.getScrollY(),b=a>this.lastKnownScrollY?"down":"up",c=this.toleranceExceeded(a,b);this.isOutOfBounds(a)||(a<=this.offset?this.top():this.notTop(),this.shouldUnpin(a,c)?this.unpin():this.shouldPin(a,c)&&this.pin(),this.lastKnownScrollY=a)}},g.options={tolerance:{up:0,down:0},offset:0,scroller:a,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},g.cutsTheMustard=void 0!==h&&h.rAF&&h.bind&&h.classList,a.Headroom=g}(window,document),function($){var srt=function(){var ul=$(this),nodes=[],columns={},rows={},col=0,row=0;for(void 0==ul.data("hgLiSortColumnNodes")&&ul.data("hgLiSortColumnNodes",ul.find("li")),ul.data("hgLiSortColumnNodes").each(function(i,node){void 0==columns[node.offsetLeft]&&(columns[node.offsetLeft]=col++),void 0==rows[columns[node.offsetLeft]]&&(rows[columns[node.offsetLeft]]=0),++rows[columns[node.offsetLeft]]>row&&(row=rows[columns[node.offsetLeft]]),nodes.push(node)}),ul.empty(),y=0;y<row;y++)for(x=0;x<col;x++)void 0!=nodes[x*row+y]?ul.append(nodes[x*row+y]):ul.append("<li/>")};$.fn.hgLiSortColumn=function(){void 0==$(this).data("hgLiSortColumn")&&($(this).data("hgLiSortColumn",!0),$(window).resize($.proxy(srt,this))),$.proxy(srt,this)()}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(obj){function F(){}return F.prototype=obj,new F}),function($,window,document,undefined){var ElevateZoom={init:function(options,elem){var self=this;self.elem=elem,self.$elem=$(elem),self.imageSrc=self.$elem.data("zoom-image")?self.$elem.data("zoom-image"):self.$elem.attr("src"),self.options=$.extend({},$.fn.elevateZoom.options,options),self.options.tint&&(self.options.lensColour="none",self.options.lensOpacity="1"),"inner"==self.options.zoomType&&(self.options.showLens=!1),self.$elem.parent().removeAttr("title").removeAttr("alt"),self.zoomImage=self.imageSrc,self.refresh(1),$("#"+self.options.gallery+" a").click(function(e){return self.options.galleryActiveClass&&($("#"+self.options.gallery+" a").removeClass(self.options.galleryActiveClass),$(this).addClass(self.options.galleryActiveClass)),e.preventDefault(),$(this).data("zoom-image")?self.zoomImagePre=$(this).data("zoom-image"):self.zoomImagePre=$(this).data("image"),self.swaptheimage($(this).data("image"),self.zoomImagePre),!1})},refresh:function(length){var self=this;setTimeout(function(){self.fetch(self.imageSrc)},length||self.options.refresh)},fetch:function(imgsrc){var self=this,newImg=new Image;newImg.onload=function(){self.largeWidth=newImg.width,self.largeHeight=newImg.height,self.startZoom(),self.currentImage=self.imageSrc,self.options.onZoomedImageLoaded(self.$elem)},newImg.src=imgsrc},startZoom:function(){var self=this;if(self.nzWidth=self.$elem.width(),self.nzHeight=self.$elem.height(),self.isWindowActive=!1,self.isLensActive=!1,self.isTintActive=!1,self.overWindow=!1,self.options.imageCrossfade&&(self.zoomWrap=self.$elem.wrap('<div style="height:'+self.nzHeight+"px;width:"+self.nzWidth+'px;" class="zoomWrapper" />'),self.$elem.css("position","absolute")),self.zoomLock=1,self.scrollingLock=!1,self.changeBgSize=!1,self.currentZoomLevel=self.options.zoomLevel,self.nzOffset=self.$elem.offset(),self.widthRatio=self.largeWidth/self.currentZoomLevel/self.nzWidth,self.heightRatio=self.largeHeight/self.currentZoomLevel/self.nzHeight,"window"==self.options.zoomType&&(self.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(self.options.zoomWindowBgColour)+";width: "+String(self.options.zoomWindowWidth)+"px;height: "+String(self.options.zoomWindowHeight)+"px;float: left;background-size: "+self.largeWidth/self.currentZoomLevel+"px "+self.largeHeight/self.currentZoomLevel+"px;display: none;z-index:100;border: "+String(self.options.borderSize)+"px solid "+self.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==self.options.zoomType){var borderWidth=self.$elem.css("border-left-width");self.zoomWindowStyle="overflow: hidden;margin-left: "+String(borderWidth)+";margin-top: "+String(borderWidth)+";background-position: 0px 0px;width: "+String(self.nzWidth)+"px;height: "+String(self.nzHeight)+"px;px;float: left;display: none;cursor:"+self.options.cursor+";px solid "+self.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==self.options.zoomType&&(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio?lensHeight=self.nzHeight:lensHeight=String(self.options.zoomWindowHeight/self.heightRatio),self.largeWidth<self.options.zoomWindowWidth?lensWidth=self.nzWidth:lensWidth=self.options.zoomWindowWidth/self.widthRatio,self.lensStyle="background-position: 0px 0px;width: "+String(self.options.zoomWindowWidth/self.widthRatio)+"px;height: "+String(self.options.zoomWindowHeight/self.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+self.options.lensOpacity+";filter: alpha(opacity = "+100*self.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+self.options.lensColour+";cursor:"+self.options.cursor+";border: "+self.options.lensBorderSize+"px solid "+self.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),self.tintStyle="display: block;position: absolute;background-color: "+self.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+self.nzWidth+"px;height: "+self.nzHeight+"px;",self.lensRound="","lens"==self.options.zoomType&&(self.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(self.options.borderSize)+"px solid "+self.options.borderColour+";width:"+String(self.options.lensSize)+"px;height:"+String(self.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==self.options.lensShape&&(self.lensRound="border-top-left-radius: "+String(self.options.lensSize/2+self.options.borderSize)+"px;border-top-right-radius: "+String(self.options.lensSize/2+self.options.borderSize)+"px;border-bottom-left-radius: "+String(self.options.lensSize/2+self.options.borderSize)+"px;border-bottom-right-radius: "+String(self.options.lensSize/2+self.options.borderSize)+"px;"),self.zoomContainer=$('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+self.nzOffset.left+"px;top:"+self.nzOffset.top+"px;height:"+self.nzHeight+"px;width:"+self.nzWidth+'px;"></div>'),$("body").append(self.zoomContainer),self.options.containLensZoom&&"lens"==self.options.zoomType&&self.zoomContainer.css("overflow","hidden"),"inner"!=self.options.zoomType&&(self.zoomLens=$("<div class='zoomLens' style='"+self.lensStyle+self.lensRound+"'>&nbsp;</div>").appendTo(self.zoomContainer).click(function(){self.$elem.trigger("click")}),self.options.tint&&(self.tintContainer=$("<div/>").addClass("tintContainer"),self.zoomTint=$("<div class='zoomTint' style='"+self.tintStyle+"'></div>"),self.zoomLens.wrap(self.tintContainer),self.zoomTintcss=self.zoomLens.after(self.zoomTint),self.zoomTintImage=$('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+self.nzWidth+"px; height: "+self.nzHeight+'px;" src="'+self.imageSrc+'">').appendTo(self.zoomLens).click(function(){self.$elem.trigger("click")}))),isNaN(self.options.zoomWindowPosition)?self.zoomWindow=$("<div style='z-index:999;left:"+self.windowOffsetLeft+"px;top:"+self.windowOffsetTop+"px;"+self.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){self.$elem.trigger("click")}):self.zoomWindow=$("<div style='z-index:999;left:"+self.windowOffsetLeft+"px;top:"+self.windowOffsetTop+"px;"+self.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(self.zoomContainer).click(function(){self.$elem.trigger("click")}),self.zoomWindowContainer=$("<div/>").addClass("zoomWindowContainer").css("width",self.options.zoomWindowWidth),self.zoomWindow.wrap(self.zoomWindowContainer),"lens"==self.options.zoomType&&self.zoomLens.css({backgroundImage:"url('"+self.imageSrc+"')"}),"window"==self.options.zoomType&&self.zoomWindow.css({backgroundImage:"url('"+self.imageSrc+"')"}),"inner"==self.options.zoomType&&self.zoomWindow.css({backgroundImage:"url('"+self.imageSrc+"')"}),self.$elem.bind("touchmove",function(e){e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)}),self.zoomContainer.bind("touchmove",function(e){"inner"==self.options.zoomType&&self.showHideWindow("show"),e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)}),self.zoomContainer.bind("touchend",function(e){self.showHideWindow("hide"),self.options.showLens&&self.showHideLens("hide"),self.options.tint&&"inner"!=self.options.zoomType&&self.showHideTint("hide")}),self.$elem.bind("touchend",function(e){self.showHideWindow("hide"),self.options.showLens&&self.showHideLens("hide"),self.options.tint&&"inner"!=self.options.zoomType&&self.showHideTint("hide")}),self.options.showLens&&(self.zoomLens.bind("touchmove",function(e){e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)}),self.zoomLens.bind("touchend",function(e){self.showHideWindow("hide"),self.options.showLens&&self.showHideLens("hide"),self.options.tint&&"inner"!=self.options.zoomType&&self.showHideTint("hide")})),self.$elem.bind("mousemove",function(e){0==self.overWindow&&self.setElements("show"),self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),self.zoomContainer.bind("mousemove",function(e){0==self.overWindow&&self.setElements("show"),self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),"inner"!=self.options.zoomType&&self.zoomLens.bind("mousemove",function(e){self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),self.options.tint&&"inner"!=self.options.zoomType&&self.zoomTint.bind("mousemove",function(e){self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),"inner"==self.options.zoomType&&self.zoomWindow.bind("mousemove",function(e){self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),self.zoomContainer.add(self.$elem).mouseenter(function(e){0==self.overWindow&&self.setElements("show")}).mouseleave(function(){self.scrollLock||(self.setElements("hide"),self.options.onDestroy(self.$elem))}),"inner"!=self.options.zoomType&&self.zoomWindow.mouseenter(function(){self.overWindow=!0,self.setElements("hide")}).mouseleave(function(){self.overWindow=!1}),self.options.zoomLevel,self.options.minZoomLevel?self.minZoomLevel=self.options.minZoomLevel:self.minZoomLevel=2*self.options.scrollZoomIncrement,self.options.scrollZoom&&self.zoomContainer.add(self.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){self.scrollLock=!0,clearTimeout($.data(this,"timer")),$.data(this,"timer",setTimeout(function(){self.scrollLock=!1},250));var theEvent=e.originalEvent.wheelDelta||-1*e.originalEvent.detail;return e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),theEvent/120>0?self.currentZoomLevel>=self.minZoomLevel&&self.changeZoomLevel(self.currentZoomLevel-self.options.scrollZoomIncrement):self.options.maxZoomLevel?self.currentZoomLevel<=self.options.maxZoomLevel&&self.changeZoomLevel(parseFloat(self.currentZoomLevel)+self.options.scrollZoomIncrement):self.changeZoomLevel(parseFloat(self.currentZoomLevel)+self.options.scrollZoomIncrement),!1})},setElements:function(type){if(0!=this.options.onSetElement(this,type)){var self=this;if(!self.options.zoomEnabled)return!1;"show"==type&&self.isWindowSet&&("inner"==self.options.zoomType&&self.showHideWindow("show"),"window"==self.options.zoomType&&self.showHideWindow("show"),self.options.showLens&&self.showHideLens("show"),self.options.tint&&"inner"!=self.options.zoomType&&self.showHideTint("show")),"hide"==type&&("window"==self.options.zoomType&&self.showHideWindow("hide"),self.options.tint||self.showHideWindow("hide"),self.options.showLens&&self.showHideLens("hide"),self.options.tint&&self.showHideTint("hide"))}},setPosition:function(e){var self=this;if(!self.options.zoomEnabled)return!1;self.nzHeight=self.$elem.height(),self.nzWidth=self.$elem.width(),self.nzOffset=self.$elem.offset(),self.options.tint&&"inner"!=self.options.zoomType&&(self.zoomTint.css({top:0}),self.zoomTint.css({left:0})),self.options.responsive&&!self.options.scrollZoom&&self.options.showLens&&(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio?lensHeight=self.nzHeight:lensHeight=String(self.options.zoomWindowHeight/self.heightRatio),self.largeWidth<self.options.zoomWindowWidth?lensWidth=self.nzWidth:lensWidth=self.options.zoomWindowWidth/self.widthRatio,self.widthRatio=self.largeWidth/self.nzWidth,self.heightRatio=self.largeHeight/self.nzHeight,"lens"!=self.options.zoomType&&(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio?lensHeight=self.nzHeight:lensHeight=String(self.options.zoomWindowHeight/self.heightRatio),self.nzWidth<self.options.zoomWindowHeight/self.heightRatio?lensWidth=self.nzWidth:lensWidth=String(self.options.zoomWindowWidth/self.widthRatio),self.zoomLens.css("width",lensWidth),self.zoomLens.css("height",lensHeight),self.options.tint&&(self.zoomTintImage.css("width",self.nzWidth),self.zoomTintImage.css("height",self.nzHeight))),"lens"==self.options.zoomType&&self.zoomLens.css({width:String(self.options.lensSize)+"px",height:String(self.options.lensSize)+"px"})),self.zoomContainer.css({top:self.nzOffset.top}),self.zoomContainer.css({left:self.nzOffset.left}),self.mouseLeft=parseInt(e.pageX-self.nzOffset.left),self.mouseTop=parseInt(e.pageY-self.nzOffset.top),"window"==self.options.zoomType&&(self.Etoppos=self.mouseTop<self.zoomLens.height()/2,self.Eboppos=self.mouseTop>self.nzHeight-self.zoomLens.height()/2-2*self.options.lensBorderSize,self.Eloppos=self.mouseLeft<0+self.zoomLens.width()/2,self.Eroppos=self.mouseLeft>self.nzWidth-self.zoomLens.width()/2-2*self.options.lensBorderSize),"inner"==self.options.zoomType&&(self.Etoppos=self.mouseTop<self.nzHeight/2/self.heightRatio,self.Eboppos=self.mouseTop>self.nzHeight-self.nzHeight/2/self.heightRatio,self.Eloppos=self.mouseLeft<0+self.nzWidth/2/self.widthRatio,self.Eroppos=self.mouseLeft>self.nzWidth-self.nzWidth/2/self.widthRatio-2*self.options.lensBorderSize),self.mouseLeft<0||self.mouseTop<0||self.mouseLeft>self.nzWidth||self.mouseTop>self.nzHeight?self.setElements("hide"):(self.options.showLens&&(self.lensLeftPos=String(Math.floor(self.mouseLeft-self.zoomLens.width()/2)),self.lensTopPos=String(Math.floor(self.mouseTop-self.zoomLens.height()/2))),self.Etoppos&&(self.lensTopPos=0),self.Eloppos&&(self.windowLeftPos=0,self.lensLeftPos=0,self.tintpos=0),"window"==self.options.zoomType&&(self.Eboppos&&(self.lensTopPos=Math.max(self.nzHeight-self.zoomLens.height()-2*self.options.lensBorderSize,0)),self.Eroppos&&(self.lensLeftPos=self.nzWidth-self.zoomLens.width()-2*self.options.lensBorderSize)),"inner"==self.options.zoomType&&(self.Eboppos&&(self.lensTopPos=Math.max(self.nzHeight-2*self.options.lensBorderSize,0)),self.Eroppos&&(self.lensLeftPos=self.nzWidth-self.nzWidth-2*self.options.lensBorderSize)),"lens"==self.options.zoomType&&(self.windowLeftPos=String(-1*((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomLens.width()/2)),self.windowTopPos=String(-1*((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomLens.height()/2)),self.zoomLens.css({backgroundPosition:self.windowLeftPos+"px "+self.windowTopPos+"px"}),self.changeBgSize&&(self.nzHeight>self.nzWidth?("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})):("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"})),self.changeBgSize=!1),self.setWindowPostition(e)),self.options.tint&&"inner"!=self.options.zoomType&&self.setTintPosition(e),"window"==self.options.zoomType&&self.setWindowPostition(e),"inner"==self.options.zoomType&&self.setWindowPostition(e),self.options.showLens&&(self.fullwidth&&"lens"!=self.options.zoomType&&(self.lensLeftPos=0),self.zoomLens.css({left:self.lensLeftPos+"px",top:self.lensTopPos+"px"})))},showHideWindow:function(change){var self=this;"show"==change&&(self.isWindowActive||(self.options.zoomWindowFadeIn?self.zoomWindow.stop(!0,!0,!1).fadeIn(self.options.zoomWindowFadeIn):self.zoomWindow.show(),self.isWindowActive=!0)),"hide"==change&&self.isWindowActive&&(self.options.zoomWindowFadeOut?self.zoomWindow.stop(!0,!0).fadeOut(self.options.zoomWindowFadeOut,function(){self.loop&&(clearInterval(self.loop),self.loop=!1)}):self.zoomWindow.hide(),self.isWindowActive=!1)},showHideLens:function(change){var self=this;"show"==change&&(self.isLensActive||(self.options.lensFadeIn?self.zoomLens.stop(!0,!0,!1).fadeIn(self.options.lensFadeIn):self.zoomLens.show(),self.isLensActive=!0)),"hide"==change&&self.isLensActive&&(self.options.lensFadeOut?self.zoomLens.stop(!0,!0).fadeOut(self.options.lensFadeOut):self.zoomLens.hide(),self.isLensActive=!1)},showHideTint:function(change){var self=this;"show"==change&&(self.isTintActive||(self.options.zoomTintFadeIn?self.zoomTint.css({opacity:self.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(self.zoomTint.css({opacity:self.options.tintOpacity}).animate(),self.zoomTint.show()),self.isTintActive=!0)),"hide"==change&&self.isTintActive&&(self.options.zoomTintFadeOut?self.zoomTint.stop(!0,!0).fadeOut(self.options.zoomTintFadeOut):self.zoomTint.hide(),self.isTintActive=!1)},setLensPostition:function(e){},setWindowPostition:function(e){var self=this;if(isNaN(self.options.zoomWindowPosition))self.externalContainer=$("#"+self.options.zoomWindowPosition),self.externalContainerWidth=self.externalContainer.width(),self.externalContainerHeight=self.externalContainer.height(),self.externalContainerOffset=self.externalContainer.offset(),self.windowOffsetTop=self.externalContainerOffset.top,self.windowOffsetLeft=self.externalContainerOffset.left;else switch(self.options.zoomWindowPosition){case 1:self.windowOffsetTop=self.options.zoomWindowOffety,self.windowOffsetLeft=+self.nzWidth;break;case 2:self.options.zoomWindowHeight>self.nzHeight&&(self.windowOffsetTop=-1*(self.options.zoomWindowHeight/2-self.nzHeight/2),self.windowOffsetLeft=self.nzWidth);break;case 3:self.windowOffsetTop=self.nzHeight-self.zoomWindow.height()-2*self.options.borderSize,self.windowOffsetLeft=self.nzWidth;break;case 4:self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=self.nzWidth;break;case 5:self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=self.nzWidth-self.zoomWindow.width()-2*self.options.borderSize;break;case 6:self.options.zoomWindowHeight>self.nzHeight&&(self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=-1*(self.options.zoomWindowWidth/2-self.nzWidth/2+2*self.options.borderSize));break;case 7:self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=0;break;case 8:self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=-1*(self.zoomWindow.width()+2*self.options.borderSize);break;case 9:self.windowOffsetTop=self.nzHeight-self.zoomWindow.height()-2*self.options.borderSize,self.windowOffsetLeft=-1*(self.zoomWindow.width()+2*self.options.borderSize);break;case 10:self.options.zoomWindowHeight>self.nzHeight&&(self.windowOffsetTop=-1*(self.options.zoomWindowHeight/2-self.nzHeight/2),self.windowOffsetLeft=-1*(self.zoomWindow.width()+2*self.options.borderSize));break;case 11:self.windowOffsetTop=self.options.zoomWindowOffety,self.windowOffsetLeft=-1*(self.zoomWindow.width()+2*self.options.borderSize);break;case 12:self.windowOffsetTop=-1*(self.zoomWindow.height()+2*self.options.borderSize),self.windowOffsetLeft=-1*(self.zoomWindow.width()+2*self.options.borderSize);break;case 13:self.windowOffsetTop=-1*(self.zoomWindow.height()+2*self.options.borderSize),self.windowOffsetLeft=0;break;case 14:self.options.zoomWindowHeight>self.nzHeight&&(self.windowOffsetTop=-1*(self.zoomWindow.height()+2*self.options.borderSize),self.windowOffsetLeft=-1*(self.options.zoomWindowWidth/2-self.nzWidth/2+2*self.options.borderSize));break;case 15:self.windowOffsetTop=-1*(self.zoomWindow.height()+2*self.options.borderSize),self.windowOffsetLeft=self.nzWidth-self.zoomWindow.width()-2*self.options.borderSize;break;case 16:self.windowOffsetTop=-1*(self.zoomWindow.height()+2*self.options.borderSize),self.windowOffsetLeft=self.nzWidth;break;default:self.windowOffsetTop=self.options.zoomWindowOffety,self.windowOffsetLeft=self.nzWidth}self.isWindowSet=!0,self.windowOffsetTop=self.windowOffsetTop+self.options.zoomWindowOffety,self.windowOffsetLeft=self.windowOffsetLeft+self.options.zoomWindowOffetx,self.zoomWindow.css({top:self.windowOffsetTop}),self.zoomWindow.css({left:self.windowOffsetLeft}),"inner"==self.options.zoomType&&(self.zoomWindow.css({top:0}),self.zoomWindow.css({left:0})),self.windowLeftPos=String(-1*((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomWindow.width()/2)),self.windowTopPos=String(-1*((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomWindow.height()/2)),self.Etoppos&&(self.windowTopPos=0),self.Eloppos&&(self.windowLeftPos=0),self.Eboppos&&(self.windowTopPos=-1*(self.largeHeight/self.currentZoomLevel-self.zoomWindow.height())),self.Eroppos&&(self.windowLeftPos=-1*(self.largeWidth/self.currentZoomLevel-self.zoomWindow.width())),self.fullheight&&(self.windowTopPos=0),self.fullwidth&&(self.windowLeftPos=0),"window"!=self.options.zoomType&&"inner"!=self.options.zoomType||(1==self.zoomLock&&(self.widthRatio<=1&&(self.windowLeftPos=0),self.heightRatio<=1&&(self.windowTopPos=0)),"window"==self.options.zoomType&&(self.largeHeight<self.options.zoomWindowHeight&&(self.windowTopPos=0),self.largeWidth<self.options.zoomWindowWidth&&(self.windowLeftPos=0)),self.options.easing?(self.xp||(self.xp=0),self.yp||(self.yp=0),self.loop||(self.loop=setInterval(function(){self.xp+=(self.windowLeftPos-self.xp)/self.options.easingAmount,self.yp+=(self.windowTopPos-self.yp)/self.options.easingAmount,self.scrollingLock?(clearInterval(self.loop),self.xp=self.windowLeftPos,self.yp=self.windowTopPos,self.xp=-1*((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomWindow.width()/2),self.yp=-1*((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomWindow.height()/2),self.changeBgSize&&(self.nzHeight>self.nzWidth?("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})):("lens"!=self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"})),self.changeBgSize=!1),self.zoomWindow.css({backgroundPosition:self.windowLeftPos+"px "+self.windowTopPos+"px"}),self.scrollingLock=!1,self.loop=!1):Math.round(Math.abs(self.xp-self.windowLeftPos)+Math.abs(self.yp-self.windowTopPos))<1?(clearInterval(self.loop),self.zoomWindow.css({backgroundPosition:self.windowLeftPos+"px "+self.windowTopPos+"px"}),self.loop=!1):(self.changeBgSize&&(self.nzHeight>self.nzWidth?("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})):("lens"!=self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"})),self.changeBgSize=!1),self.zoomWindow.css({backgroundPosition:self.xp+"px "+self.yp+"px"}))},16))):(self.changeBgSize&&(self.nzHeight>self.nzWidth?("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})):("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"}),self.largeHeight/self.newvaluewidth<self.options.zoomWindowHeight?self.zoomWindow.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"}):self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})),self.changeBgSize=!1),self.zoomWindow.css({backgroundPosition:self.windowLeftPos+"px "+self.windowTopPos+"px"})))},setTintPosition:function(e){var self=this;self.nzOffset=self.$elem.offset(),self.tintpos=String(-1*(e.pageX-self.nzOffset.left-self.zoomLens.width()/2)),self.tintposy=String(-1*(e.pageY-self.nzOffset.top-self.zoomLens.height()/2)),self.Etoppos&&(self.tintposy=0),self.Eloppos&&(self.tintpos=0),self.Eboppos&&(self.tintposy=-1*(self.nzHeight-self.zoomLens.height()-2*self.options.lensBorderSize)),self.Eroppos&&(self.tintpos=-1*(self.nzWidth-self.zoomLens.width()-2*self.options.lensBorderSize)),self.options.tint&&(self.fullheight&&(self.tintposy=0),self.fullwidth&&(self.tintpos=0),self.zoomTintImage.css({left:self.tintpos+"px"}),self.zoomTintImage.css({top:self.tintposy+"px"}))},swaptheimage:function(smallimage,largeimage){var self=this,newImg=new Image;self.options.loadingIcon&&(self.spinner=$("<div style=\"background: url('"+self.options.loadingIcon+"') no-repeat center;height:"+self.nzHeight+"px;width:"+self.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),self.$elem.after(self.spinner)),self.options.onImageSwap(self.$elem),newImg.onload=function(){self.largeWidth=newImg.width,self.largeHeight=newImg.height,self.zoomImage=largeimage,self.zoomWindow.css({"background-size":self.largeWidth+"px "+self.largeHeight+"px"}),self.swapAction(smallimage,largeimage)},newImg.src=largeimage},swapAction:function(smallimage,largeimage){var self=this,newImg2=new Image;if(newImg2.onload=function(){self.nzHeight=newImg2.height,self.nzWidth=newImg2.width,self.options.onImageSwapComplete(self.$elem),self.doneCallback()},newImg2.src=smallimage,self.currentZoomLevel=self.options.zoomLevel,self.options.maxZoomLevel=!1,"lens"==self.options.zoomType&&self.zoomLens.css({backgroundImage:"url('"+largeimage+"')"}),"window"==self.options.zoomType&&self.zoomWindow.css({backgroundImage:"url('"+largeimage+"')"}),"inner"==self.options.zoomType&&self.zoomWindow.css({backgroundImage:"url('"+largeimage+"')"}),self.currentImage=largeimage,self.options.imageCrossfade){var oldImg=self.$elem,newImg=oldImg.clone();if(self.$elem.attr("src",smallimage),self.$elem.after(newImg),newImg.stop(!0).fadeOut(self.options.imageCrossfade,function(){$(this).remove()}),self.$elem.width("auto").removeAttr("width"),self.$elem.height("auto").removeAttr("height"),oldImg.fadeIn(self.options.imageCrossfade),self.options.tint&&"inner"!=self.options.zoomType){var oldImgTint=self.zoomTintImage,newImgTint=oldImgTint.clone();self.zoomTintImage.attr("src",largeimage),self.zoomTintImage.after(newImgTint),newImgTint.stop(!0).fadeOut(self.options.imageCrossfade,function(){$(this).remove()}),oldImgTint.fadeIn(self.options.imageCrossfade),self.zoomTint.css({height:self.$elem.height()}),self.zoomTint.css({width:self.$elem.width()})}self.zoomContainer.css("height",self.$elem.height()),self.zoomContainer.css("width",self.$elem.width()),"inner"==self.options.zoomType&&(self.options.constrainType||(self.zoomWrap.parent().css("height",self.$elem.height()),self.zoomWrap.parent().css("width",self.$elem.width()),self.zoomWindow.css("height",self.$elem.height()),self.zoomWindow.css("width",self.$elem.width()))),self.options.imageCrossfade&&(self.zoomWrap.css("height",self.$elem.height()),self.zoomWrap.css("width",self.$elem.width()))}else self.$elem.attr("src",smallimage),self.options.tint&&(self.zoomTintImage.attr("src",largeimage),self.zoomTintImage.attr("height",self.$elem.height()),self.zoomTintImage.css({height:self.$elem.height()}),self.zoomTint.css({height:self.$elem.height()})),self.zoomContainer.css("height",self.$elem.height()),self.zoomContainer.css("width",self.$elem.width()),self.options.imageCrossfade&&(self.zoomWrap.css("height",self.$elem.height()),self.zoomWrap.css("width",self.$elem.width()));self.options.constrainType&&("height"==self.options.constrainType&&(self.zoomContainer.css("height",self.options.constrainSize),self.zoomContainer.css("width","auto"),self.options.imageCrossfade?(self.zoomWrap.css("height",self.options.constrainSize),self.zoomWrap.css("width","auto"),self.constwidth=self.zoomWrap.width()):(self.$elem.css("height",self.options.constrainSize),self.$elem.css("width","auto"),self.constwidth=self.$elem.width()),"inner"==self.options.zoomType&&(self.zoomWrap.parent().css("height",self.options.constrainSize),self.zoomWrap.parent().css("width",self.constwidth),self.zoomWindow.css("height",self.options.constrainSize),self.zoomWindow.css("width",self.constwidth)),self.options.tint&&(self.tintContainer.css("height",self.options.constrainSize),self.tintContainer.css("width",self.constwidth),self.zoomTint.css("height",self.options.constrainSize),self.zoomTint.css("width",self.constwidth),self.zoomTintImage.css("height",self.options.constrainSize),self.zoomTintImage.css("width",self.constwidth))),"width"==self.options.constrainType&&(self.zoomContainer.css("height","auto"),self.zoomContainer.css("width",self.options.constrainSize),self.options.imageCrossfade?(self.zoomWrap.css("height","auto"),self.zoomWrap.css("width",self.options.constrainSize),self.constheight=self.zoomWrap.height()):(self.$elem.css("height","auto"),self.$elem.css("width",self.options.constrainSize),self.constheight=self.$elem.height()),"inner"==self.options.zoomType&&(self.zoomWrap.parent().css("height",self.constheight),self.zoomWrap.parent().css("width",self.options.constrainSize),self.zoomWindow.css("height",self.constheight),self.zoomWindow.css("width",self.options.constrainSize)),self.options.tint&&(self.tintContainer.css("height",self.constheight),self.tintContainer.css("width",self.options.constrainSize),self.zoomTint.css("height",self.constheight),self.zoomTint.css("width",self.options.constrainSize),self.zoomTintImage.css("height",self.constheight),self.zoomTintImage.css("width",self.options.constrainSize))))},doneCallback:function(){var self=this;self.options.loadingIcon&&self.spinner.hide(),self.nzOffset=self.$elem.offset(),self.nzWidth=self.$elem.width(),self.nzHeight=self.$elem.height(),self.currentZoomLevel=self.options.zoomLevel,self.widthRatio=self.largeWidth/self.nzWidth,self.heightRatio=self.largeHeight/self.nzHeight,"window"==self.options.zoomType&&(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio?lensHeight=self.nzHeight:lensHeight=String(self.options.zoomWindowHeight/self.heightRatio),self.options.zoomWindowWidth<self.options.zoomWindowWidth?lensWidth=self.nzWidth:lensWidth=self.options.zoomWindowWidth/self.widthRatio,self.zoomLens&&(self.zoomLens.css("width",lensWidth),self.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var self=this;return self.gallerylist=[],self.options.gallery?$("#"+self.options.gallery+" a").each(function(){var img_src="";$(this).data("zoom-image")?img_src=$(this).data("zoom-image"):$(this).data("image")&&(img_src=$(this).data("image")),img_src==self.zoomImage?self.gallerylist.unshift({href:""+img_src,title:$(this).find("img").attr("title")}):self.gallerylist.push({href:""+img_src,title:$(this).find("img").attr("title")})}):self.gallerylist.push({href:""+self.zoomImage,title:$(this).find("img").attr("title")}),self.gallerylist},changeZoomLevel:function(value){var self=this;self.scrollingLock=!0,self.newvalue=parseFloat(value).toFixed(2),newvalue=parseFloat(value).toFixed(2),maxheightnewvalue=self.largeHeight/(self.options.zoomWindowHeight/self.nzHeight*self.nzHeight),maxwidthtnewvalue=self.largeWidth/(self.options.zoomWindowWidth/self.nzWidth*self.nzWidth),"inner"!=self.options.zoomType&&(maxheightnewvalue<=newvalue?(self.heightRatio=self.largeHeight/maxheightnewvalue/self.nzHeight,self.newvalueheight=maxheightnewvalue,self.fullheight=!0):(self.heightRatio=self.largeHeight/newvalue/self.nzHeight,self.newvalueheight=newvalue,self.fullheight=!1),maxwidthtnewvalue<=newvalue?(self.widthRatio=self.largeWidth/maxwidthtnewvalue/self.nzWidth,self.newvaluewidth=maxwidthtnewvalue,self.fullwidth=!0):(self.widthRatio=self.largeWidth/newvalue/self.nzWidth,self.newvaluewidth=newvalue,self.fullwidth=!1),"lens"==self.options.zoomType&&(maxheightnewvalue<=newvalue?(self.fullwidth=!0,self.newvaluewidth=maxheightnewvalue):(self.widthRatio=self.largeWidth/newvalue/self.nzWidth,self.newvaluewidth=newvalue,self.fullwidth=!1))),"inner"==self.options.zoomType&&(maxheightnewvalue=parseFloat(self.largeHeight/self.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(self.largeWidth/self.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(self.heightRatio=self.largeHeight/newvalue/self.nzHeight,newvalue>maxheightnewvalue?self.newvalueheight=maxheightnewvalue:self.newvalueheight=newvalue,self.fullheight=!0):(self.heightRatio=self.largeHeight/newvalue/self.nzHeight,newvalue>maxheightnewvalue?self.newvalueheight=maxheightnewvalue:self.newvalueheight=newvalue,self.fullheight=!1),maxwidthtnewvalue<=newvalue?(self.widthRatio=self.largeWidth/newvalue/self.nzWidth,newvalue>maxwidthtnewvalue?self.newvaluewidth=maxwidthtnewvalue:self.newvaluewidth=newvalue,self.fullwidth=!0):(self.widthRatio=self.largeWidth/newvalue/self.nzWidth,self.newvaluewidth=newvalue,self.fullwidth=!1)),scrcontinue=!1,"inner"==self.options.zoomType&&(self.nzWidth>=self.nzHeight&&(self.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,self.fullheight=!0,self.fullwidth=!0)),self.nzHeight>self.nzWidth&&(self.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,self.fullheight=!0,self.fullwidth=!0))),"inner"!=self.options.zoomType&&(scrcontinue=!0),scrcontinue&&(self.zoomLock=0,self.changeZoom=!0,self.options.zoomWindowHeight/self.heightRatio<=self.nzHeight&&(self.currentZoomLevel=self.newvalueheight,"lens"!=self.options.zoomType&&"inner"!=self.options.zoomType&&(self.changeBgSize=!0,self.zoomLens.css({height:String(self.options.zoomWindowHeight/self.heightRatio)+"px"})),"lens"!=self.options.zoomType&&"inner"!=self.options.zoomType||(self.changeBgSize=!0)),self.options.zoomWindowWidth/self.widthRatio<=self.nzWidth&&("inner"!=self.options.zoomType&&self.newvaluewidth>self.newvalueheight&&(self.currentZoomLevel=self.newvaluewidth),"lens"!=self.options.zoomType&&"inner"!=self.options.zoomType&&(self.changeBgSize=!0,self.zoomLens.css({width:String(self.options.zoomWindowWidth/self.widthRatio)+"px"})),"lens"!=self.options.zoomType&&"inner"!=self.options.zoomType||(self.changeBgSize=!0)),"inner"==self.options.zoomType&&(self.changeBgSize=!0,self.nzWidth>self.nzHeight&&(self.currentZoomLevel=self.newvaluewidth),self.nzHeight>self.nzWidth&&(self.currentZoomLevel=self.newvaluewidth))),self.setPosition(self.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(value){var self=this;"enable"==value&&(self.options.zoomEnabled=!0),"disable"==value&&(self.options.zoomEnabled=!1)}};$.fn.elevateZoom=function(options){return this.each(function(){var elevate=Object.create(ElevateZoom);elevate.init(options,this),$.data(this,"elevateZoom",elevate)})},$.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:$.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:$.noop,onImageSwapComplete:$.noop,onSetElement:function(o,type){return!0}}}(jQuery,window,document),(void 0==iexplorer||iexplorer>8)&&function(e,t,n){"use strict";!function o(e,t,n){function a(s,l){if(!t[s]){if(!e[s]){var i="function"==typeof require&&require;if(!l&&i)return i(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return a(n||t)},c,c.exports,o,e,t,n)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(o){var a,r,s,l,i=function(e){return e&&e.__esModule?e:{default:e}},u=o("./modules/handle-dom"),c=o("./modules/utils"),d=o("./modules/handle-swal-dom"),f=o("./modules/handle-click"),m=i(o("./modules/handle-key")),y=i(o("./modules/default-params")),g=i(o("./modules/set-params"));(s=l=function(){function o(e){var t=s;return t[e]===n?y.default[e]:t[e]}var s=arguments[0];if(u.addClass(t.body,"stop-scrolling"),d.resetInput(),s===n)return c.logStr("SweetAlert expects at least 1 attribute!"),!1;var i=c.extend({},y.default);switch(typeof s){case"string":i.title=s,i.text=arguments[1]||"",i.type=arguments[2]||"";break;case"object":if(s.title===n)return c.logStr('Missing "title" argument!'),!1;i.title=s.title;for(var p in y.default)i[p]=o(p);i.confirmButtonText=i.showCancelButton?"Confirm":y.default.confirmButtonText,i.confirmButtonText=o("confirmButtonText"),i.doneFunction=arguments[1]||null;break;default:return c.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof s),!1}g.default(i),d.fixVerticalPosition(),d.openModal(arguments[1]);for(var v=d.getModal(),h=v.querySelectorAll("button"),b=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],w=function(e){return f.handleButton(e,i,v)},C=0;C<h.length;C++)for(var S=0;S<b.length;S++){var x=b[S];h[C][x]=w}d.getOverlay().onclick=w,a=e.onkeydown;var k=function(e){return m.default(e,i,v)};e.onkeydown=k,e.onfocus=function(){setTimeout(function(){r!==n&&(r.focus(),r=n)},0)},l.enableButtons()}).setDefaults=l.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");c.extend(y.default,e)},s.close=l.close=function(){var o=d.getModal();u.fadeOut(d.getOverlay(),5),u.fadeOut(o,5),u.removeClass(o,"showSweetAlert"),u.addClass(o,"hideSweetAlert"),u.removeClass(o,"visible");var s=o.querySelector(".sa-icon.sa-success");u.removeClass(s,"animate"),u.removeClass(s.querySelector(".sa-tip"),"animateSuccessTip"),u.removeClass(s.querySelector(".sa-long"),"animateSuccessLong");var l=o.querySelector(".sa-icon.sa-error");u.removeClass(l,"animateErrorIcon"),u.removeClass(l.querySelector(".sa-x-mark"),"animateXMark");var i=o.querySelector(".sa-icon.sa-warning");return u.removeClass(i,"pulseWarning"),u.removeClass(i.querySelector(".sa-body"),"pulseWarningIns"),u.removeClass(i.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=o.getAttribute("data-custom-class");u.removeClass(o,e)},300),u.removeClass(t.body,"stop-scrolling"),e.onkeydown=a,e.previousActiveElement&&e.previousActiveElement.focus(),r=n,clearTimeout(o.timeout),!0},s.showInputError=l.showInputError=function(e){var t=d.getModal(),n=t.querySelector(".sa-input-error");u.addClass(n,"show");var o=t.querySelector(".sa-error-container");u.addClass(o,"show"),o.querySelector("p").innerHTML=e,setTimeout(function(){s.enableButtons()},1),t.querySelector("input").focus()},s.resetInputError=l.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=d.getModal(),n=t.querySelector(".sa-input-error");u.removeClass(n,"show");var o=t.querySelector(".sa-error-container");u.removeClass(o,"show")},s.disableButtons=l.disableButtons=function(){var e=d.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},s.enableButtons=l.enableButtons=function(){var e=d.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},void 0!==e?e.sweetAlert=e.swal=s:c.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n.default=o,t.exports=n.default},{}],3:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var a=t("./utils"),r=(t("./handle-swal-dom"),t("./handle-dom")),s=function(t,n,o){function s(e){m&&n.confirmButtonColor&&(p.style.backgroundColor=e)}var u,c,d,f=t||e.event,p=f.target||f.srcElement,m=-1!==p.className.indexOf("confirm"),v=-1!==p.className.indexOf("sweet-overlay"),y=r.hasClass(o,"visible"),h=n.doneFunction&&"true"===o.getAttribute("data-has-done-function");switch(m&&n.confirmButtonColor&&(u=n.confirmButtonColor,c=a.colorLuminance(u,-.04),d=a.colorLuminance(u,-.14)),f.type){case"mouseover":s(c);break;case"mouseout":s(u);break;case"mousedown":s(d);break;case"mouseup":s(c);break;case"focus":var g=o.querySelector("button.confirm"),b=o.querySelector("button.cancel");m?b.style.boxShadow="none":g.style.boxShadow="none";break;case"click":var w=o===p,C=r.isDescendant(o,p);if(!w&&!C&&y&&!n.allowOutsideClick)break;m&&h&&y?l(o,n):h&&y||v?i(o,n):r.isDescendant(o,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},l=function(e,t){var n=!0;r.hasClass(e,"show-input")&&((n=e.querySelector("input").value)||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},i=function(e,t){var n=String(t.doneFunction).replace(/\s/g,"");"function("===n.substring(0,9)&&")"!==n.substring(9,10)&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};o.default={handleButton:s,handleConfirm:l,handleCancel:i},n.exports=o.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},s=function(e,t){r(e,t)||(e.className+=" "+t)},l=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},i=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},u=function(e){e.style.opacity="",e.style.display="block"},c=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},d=function(e){e.style.opacity="",e.style.display="none"},f=function(e){if(e&&!e.length)return d(e);for(var t=0;t<e.length;++t)d(e[t])},p=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},m=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},v=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(o,t)});o()}e.style.display="block"},y=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(o,t):e.style.display="none"});o()},h=function(n){if("function"==typeof MouseEvent){var o=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(o)}else if(t.createEvent){var a=t.createEvent("MouseEvents");a.initEvent("click",!1,!1),n.dispatchEvent(a)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},g=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};a.hasClass=r,a.addClass=s,a.removeClass=l,a.escapeHtml=i,a._show=u,a.show=c,a._hide=d,a.hide=f,a.isDescendant=p,a.getTopMargin=m,a.fadeIn=v,a.fadeOut=y,a.fireClick=h,a.stopEventPropagation=g},{}],5:[function(t,o,a){Object.defineProperty(a,"__esModule",{value:!0});var r=t("./handle-dom"),s=t("./handle-swal-dom"),l=function(t,o,a){var l=t||e.event,i=l.keyCode||l.which,u=a.querySelector("button.confirm"),c=a.querySelector("button.cancel"),d=a.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(i)){for(var f=l.target||l.srcElement,p=-1,m=0;m<d.length;m++)if(f===d[m]){p=m;break}9===i?(f=-1===p?u:p===d.length-1?d[0]:d[p+1],r.stopEventPropagation(l),f.focus(),o.confirmButtonColor&&s.setFocusStyle(f,o.confirmButtonColor)):13===i?("INPUT"===f.tagName&&(f=u,u.focus()),f=-1===p?u:n):27===i&&!0===o.allowEscapeKey?(f=c,r.fireClick(f,l)):f=n}};a.default=l,o.exports=a.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,o,a){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0});var s=n("./utils"),l=n("./handle-dom"),u=r(n("./default-params")),d=r(n("./injected-html")),m=function(){var e=t.createElement("div");for(e.innerHTML=d.default;e.firstChild;)t.body.appendChild(e.firstChild)},v=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(".sweet-alert");return e||(m(),e=v()),e}),y=function(){var e=v();return e?e.querySelector("input"):void 0},h=function(){return t.querySelector(".sweet-overlay")},g=function(e,t){var n=s.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(n){var o=v();l.fadeIn(h(),10),l.show(o),l.addClass(o,"showSweetAlert"),l.removeClass(o,"hideSweetAlert"),e.previousActiveElement=t.activeElement,o.querySelector("button.confirm").focus(),setTimeout(function(){l.addClass(o,"visible")},500);var r=o.getAttribute("data-timer");if("null"!==r&&""!==r){var s=n;o.timeout=setTimeout(function(){(s||null)&&"true"===o.getAttribute("data-has-done-function")?s(null):sweetAlert.close()},r)}},w=function(){var e=v(),t=y();l.removeClass(e,"show-input"),t.value=u.default.inputValue,t.setAttribute("type",u.default.inputType),t.setAttribute("placeholder",u.default.inputPlaceholder),C()},C=function(e){if(e&&13===e.keyCode)return!1;var t=v(),n=t.querySelector(".sa-input-error");l.removeClass(n,"show");var o=t.querySelector(".sa-error-container");l.removeClass(o,"show")},S=function(){v().style.marginTop=l.getTopMargin(v())};a.sweetAlertInitialize=m,a.getModal=v,a.getOverlay=h,a.getInput=y,a.setFocusStyle=g,a.openModal=b,a.resetInput=w,a.resetInputError=C,a.fixVerticalPosition=S},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>',t.exports=n.default},{}],8:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var a=e("./utils"),r=e("./handle-swal-dom"),s=e("./handle-dom"),l=["error","warning","info","success","input","prompt"],i=function(e){var t=r.getModal(),o=t.querySelector("h2"),i=t.querySelector("p"),u=t.querySelector("button.cancel"),c=t.querySelector("button.confirm");if(o.innerHTML=e.html?e.title:s.escapeHtml(e.title).split("\n").join("<br>"),i.innerHTML=e.html?e.text:s.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&s.show(i),e.customClass)s.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var d=t.getAttribute("data-custom-class");s.removeClass(t,d),t.setAttribute("data-custom-class","")}if(s.hide(t.querySelectorAll(".sa-icon")),e.type&&!a.isIE8()){var f=function(){for(var o=!1,a=0;a<l.length;a++)if(e.type===l[a]){o=!0;break}if(!o)return logStr("Unknown alert type: "+e.type),{v:!1};var u=n;-1!==["success","error","warning","info"].indexOf(e.type)&&(u=t.querySelector(".sa-icon.sa-"+e.type),s.show(u));var c=r.getInput();switch(e.type){case"success":s.addClass(u,"animate"),s.addClass(u.querySelector(".sa-tip"),"animateSuccessTip"),s.addClass(u.querySelector(".sa-long"),"animateSuccessLong");break;case"error":s.addClass(u,"animateErrorIcon"),s.addClass(u.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":s.addClass(u,"pulseWarning"),s.addClass(u.querySelector(".sa-body"),"pulseWarningIns"),s.addClass(u.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":c.setAttribute("type",e.inputType),c.value=e.inputValue,c.setAttribute("placeholder",e.inputPlaceholder),s.addClass(t,"show-input"),setTimeout(function(){c.focus(),c.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof f)return f.v}if(e.imageUrl){var p=t.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+e.imageUrl+")",s.show(p);var m=80,v=80;if(e.imageSize){var y=e.imageSize.toString().split("x"),h=y[0],g=y[1];h&&g?(m=h,v=g):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+m+"px; height:"+v+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?u.style.display="inline-block":s.hide(u),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?c.style.display="inline-block":s.hide(c),e.cancelButtonText&&(u.innerHTML=s.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(c.innerHTML=s.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(c.style.backgroundColor=e.confirmButtonColor,c.style.borderLeftColor=e.confirmLoadingButtonColor,c.style.borderRightColor=e.confirmLoadingButtonColor,r.setFocusStyle(c,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=!!e.doneFunction;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};o.default=i,t.exports=o.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var a=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},s=function(){return e.attachEvent&&!e.addEventListener},l=function(t){e.console&&e.console.log("SweetAlert: "+t)},i=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,o,a="#";for(o=0;3>o;o++)n=parseInt(e.substr(2*o,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),a+=("00"+n).substr(n.length);return a};o.extend=a,o.hexToRgb=r,o.isIE8=s,o.logStr=l,o.colorLuminance=i},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(f){"function"==typeof define&&define.amd?define(["jquery"],f):f(window.jQuery||window.Zepto)}(function(f){var A=function(a,d,b){var m,p,h=this;a=f(a),d="function"==typeof d?d(a.val(),void 0,a,b):d;var c={getCaret:function(){try{var e,l=0,c=a.get(0),g=document.selection,d=c.selectionStart;return g&&!~navigator.appVersion.indexOf("MSIE 10")?((e=g.createRange()).moveStart("character",a.is("input")?-a.val().length:-a.text().length),l=e.text.length):(d||"0"===d)&&(l=d),l}catch(b){}},setCaret:function(e){try{if(a.is(":focus")){var l,c=a.get(0);c.setSelectionRange?c.setSelectionRange(e,e):c.createTextRange&&((l=c.createTextRange()).collapse(!0),l.moveEnd("character",e),l.moveStart("character",e),l.select())}}catch(g){}},events:function(){a.on("keydown.mask",function(){m=c.val()}).on("keyup.mask",c.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){a.keydown().keyup()},100)}).on("change.mask",function(){a.data("changed",!0)}).on("blur.mask",function(){m===a.val()||a.data("changed")||a.trigger("change"),a.data("changed",!1)}).on("focusout.mask",function(){b.clearIfNotMatch&&!p.test(c.val())&&c.val("")})},getRegexMask:function(){for(var a,c,g,b,e=[],k=0;k<d.length;k++)(a=h.translation[d[k]])?(c=a.pattern.toString().replace(/.{1}$|^.{1}/g,""),g=a.optional,(a=a.recursive)?(e.push(d[k]),b={digit:d[k],pattern:c}):e.push(g||a?c+"?":c)):e.push(d[k].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return e=e.join(""),b&&(e=e.replace(new RegExp("("+b.digit+"(.*"+b.digit+")?)"),"($1)?").replace(new RegExp(b.digit,"g"),b.pattern)),new RegExp(e)},destroyEvents:function(){a.off("keydown keyup paste drop change blur focusout DOMNodeInserted ".split(" ").join(".mask ")).removeData("changeCalled")},val:function(e){var c=a.is("input");return 0<arguments.length?c?a.val(e):a.text(e):c?a.val():a.text()},getMCharsBeforeCount:function(e,a){for(var c=0,b=0,f=d.length;b<f&&b<e;b++)h.translation[d.charAt(b)]||(e=a?e+1:e,c++);return c},caretPos:function(e,a,b,g){return h.translation[d.charAt(Math.min(e-1,d.length-1))]?Math.min(e+b-a-g,b):c.caretPos(e+1,a,b,g)},behaviour:function(a){var b=(a=a||window.event).keyCode||a.which;if(-1===f.inArray(b,h.byPassKeys)){var d=c.getCaret(),g=c.val(),t=g.length,k=d<t,m=c.getMasked(),n=m.length,p=c.getMCharsBeforeCount(n-1)-c.getMCharsBeforeCount(t-1);return m!==g&&c.val(m),!k||65===b&&a.ctrlKey||(8!==b&&46!==b&&(d=c.caretPos(d,t,n,p)),c.setCaret(d)),c.callbacks(a)}},getMasked:function(a){var q,v,l=[],f=c.val(),g=0,m=d.length,k=0,p=f.length,n=1,u="push",r=-1;for(b.reverse?(u="unshift",n=-1,q=0,g=m-1,k=p-1,v=function(){return-1<g&&-1<k}):(q=m-1,v=function(){return g<m&&k<p});v();){var w=d.charAt(g),x=f.charAt(k),s=h.translation[w];s?(x.match(s.pattern)?(l[u](x),s.recursive&&(-1===r?r=g:g===q&&(g=r-n),q===r&&(g-=n)),g+=n):s.optional&&(g+=n,k-=n),k+=n):(a||l[u](w),x===w&&(k+=n),g+=n)}return a=d.charAt(q),m!==p+1||h.translation[a]||l.push(a),l.join("")},callbacks:function(e){var f=c.val(),h=f!==m;!0===h&&"function"==typeof b.onChange&&b.onChange(f,e,a,b),!0===h&&"function"==typeof b.onKeyPress&&b.onKeyPress(f,e,a,b),"function"==typeof b.onComplete&&f.length===d.length&&b.onComplete(f,e,a,b)}};h.mask=d,h.options=b,h.remove=function(){var b;return c.destroyEvents(),c.val(h.getCleanVal()).removeAttr("maxlength"),b=c.getCaret(),c.setCaret(b-c.getMCharsBeforeCount(b)),a},h.getCleanVal=function(){return c.getMasked(!0)},h.init=function(){b=b||{},h.byPassKeys=[9,16,17,18,36,37,38,39,40,91],h.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},h.translation=f.extend({},h.translation,b.translation),h=f.extend(!0,{},h,b),p=c.getRegexMask(),!1!==b.maxlength&&a.attr("maxlength",d.length),b.placeholder&&a.attr("placeholder",b.placeholder),a.attr("autocomplete","off"),c.destroyEvents(),c.events();var e=c.getCaret();c.val(c.getMasked()),c.setCaret(e+c.getMCharsBeforeCount(e,!0))}()},y={},z=function(){var a=f(this),d={};a.attr("data-mask-reverse")&&(d.reverse=!0),"false"===a.attr("data-mask-maxlength")&&(d.maxlength=!1),a.attr("data-mask-clearifnotmatch")&&(d.clearIfNotMatch=!0),a.mask(a.attr("data-mask"),d)};f.fn.mask=function(a,d){var b=this.selector,h=function(){var b=f(this).data("mask"),h=JSON.stringify;if("object"!=typeof b||h(b.options)!==h(d)||b.mask!==a)return f(this).data("mask",new A(this,a,d))};this.each(h),b&&!y[b]&&(y[b]=!0,setTimeout(function(){f(document).on("DOMNodeInserted.mask",b,h)},500))},f.fn.unmask=function(){try{return this.each(function(){f(this).data("mask").remove().removeData("mask")})}catch(a){}},f.fn.cleanVal=function(){return this.data("mask").getCleanVal()},f("*[data-mask]").each(z),f(document).on("DOMNodeInserted.mask","*[data-mask]",z)}),function($){function all_ready(){function saveOptMonCookie(){var optionsToStore={},dynOptionsToStore={};for(var slug in allSeg){var options=allSeg[slug];optionsToStore[slug]=allSeg[slug],(new Date).getTime()-options.created>1e3*options.expire&&delete optionsToStore[slug],dynOptionsToStore[slug]={};for(var attribute in optionsToStore[slug])"disable"!=attribute&&"displayCount"!=attribute&&"created"!=attribute&&"inside"!=attribute&&"closed"!=attribute||(dynOptionsToStore[slug][attribute]=optionsToStore[slug][attribute])}$.cookie("hg-popup",btoa(JSON.stringify(dynOptionsToStore)),{path:"/",expires:7})}function disablePopup(options){options.disable=!0,saveOptMonCookie()}function displayPopup(options,delay){void 0===delay&&(delay=options.loadDelay),"exit-popup"==options.action?page_loaded_at+delay<Math.floor(Date.now()/1e3)&&tryOpenPopup(options):setTimeout(function(){tryOpenPopup(options)},1e3*delay)}function anyPopupOpen(){return $(".showSweetAlert, .popup.modal-is-open, .modal-is-open .pop-up, .popover-active, .filters-menu-button.open, .select2-container--open").length>0}function anyOngoingLead(){return $("input:focus, select:focus").length>0}function anyImageZooming(){return $(".pswp.pswp--open").length>0}function tryOpenPopup(options){if(anyPopupOpen()||anyOngoingLead()||anyImageZooming()){if(options.timeout)return;options.timeout=setInterval(function(){anyPopupOpen()||anyOngoingLead()||anyImageZooming()||(clearInterval(options.timeout),options.timeout=null,setTimeout(function(){tryOpenPopup(options)},5e3))},100)}else openPopup(options)}function centerPopup(popup){if(0!=$(popup).length){var left=($(window).width()-$(popup).outerWidth())/2,top=($(window).height()-$(popup).outerHeight())/2,matches=[];if($(popup).css("-webkit-transform"))var matrixRegex=/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/,matches=$(popup).css("-webkit-transform").match(matrixRegex);var scale=null===matches||isNaN(matches[1])?1:parseFloat(matches[1]);1==scale&&(top=Math.max(0,top));var height=parseInt($(window).height()),outerHeight=parseInt($(popup).outerHeight());if(scale<1&&height<outerHeight*scale&&(left=Math.max(($(window).width()-$(popup).outerWidth())/2,0-$(popup).offset().left),0==topFixed&&(topFixed=top),height-outerHeight*scale>$(popup).offset().top*scale?top=(height-outerHeight*scale)/2:(top=topFixed*scale,(is_tablet||is_mobile)&&(top=0))),$(popup).css({position:"absolute",left:left,top:top}),$(popup).find(".modal-header").next().width()&&$(popup).find(".modal-header").width()>$(popup).find(".modal-header").next().width()||$(popup).find(".modal-header").hasClass("was-resized")){var outside=$(popup).width(),inside=$(popup).find(".modal-header").next().width();$(popup).find(".modal-header").width(inside),$(popup).find(".modal-header").css("marginLeft",parseInt((outside-inside)/2)+"px"),$(popup).find(".modal-header").addClass("was-resized")}}}function openPopup(options){$("#"+options.formId).addClass("modal-is-open"),"popup"==options.type&&$("body").addClass("no-scroll"),options.displayCount++,saveOptMonCookie(),centerPopup($("#"+options.formId).find(".modal-dialog")),$(window).on("resize",function(){resizeTimer&&clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){centerPopup($("#"+options.formId).find(".modal-dialog"))},500)});try{$("#"+options.formId).find("img").each(function(){$(this).rwdImageMaps()})}catch(err){console.log("rwdImageMaps js library not loaded")}$("#"+options.formId).trigger("popup.modal.open")}if(documentReady&&popupReady&&geoReady&&void 0!=window.btoa&&void 0!=window.atob){$.cookie("hg-popup")&&(allSeg=JSON.parse(atob($.cookie("hg-popup")))),window.hgDisplayPopup=function(formId){displayPopup(allSeg[formId],0)},$("[data-role=hg-popup]").each(function(index,node){var options=$.extend({type:"popup",parentDom:"",action:"",formId:"",showBy:"",shapeData:[],displayCount:0,maxDisplayCount:0,created:(new Date).getTime(),disable:!1,showOn:"",showOnSelector:"",excludeSlug:"",disableOnSubmit:!1,disableOnPopupClose:!1,expire:0,inside:ip.undefined,showOnMobile:!0,timeout:null},$(node).data());delete options.role,$(node).find('script[type="application/json"]').each(function(index,node){options[$(node).data("propertyName")]=JSON.parse($(node).text())}),"overlay"==options.type&&""!=options.parentDom&&$(options.parentDom).append($(node)),void 0!=allSeg&&"object"==typeof allSeg||(allSeg={}),allSeg[options.formId]&&(options=$.extend(options,allSeg[options.formId])),"delayed-popup"!=options.action&&"show-popup"!=options.action&&"exit-popup"!=options.action||(allSeg[options.formId]=options,saveOptMonCookie()),setTimeout(function(){$(document).trigger("popupReady",[options])},1)}),$('div[id^="popup-"] button.close, div[id^="popup-"] area[data-modal-button="close"]').on("click",function(evt){var options=allSeg[$(this).parents('[data-role="hg-popup"]').data("formId")];options.closed=!0,options.disableOnPopupClose?disablePopup(options):saveOptMonCookie(),$(document).trigger("popupClose",[options]),$("#"+options.formId).trigger("popup.modal.close")}),$("body").on("submit-success",'div[id^="popup-"] form',function(evt){var options=allSeg[$(this).parents('[data-role="hg-popup"]').data("formId")];options.disableOnSubmit&&disablePopup(options)});for(var slug in allSeg){var options=allSeg[slug];!options.showOnMobile&&isMobile||function(options){if(!(!(options.showOn==$('meta[name="hg:pagename"]').attr("content")||$(options.showOnSelector).length>0||""==options.showOn&&""==options.showOnSelector)||0!=options.disable||"delayed-popup"!=options.action&&"show-popup"!=options.action&&"exit-popup"!=options.action||document.location.toString().match(options.excludeSlug)&&""!=options.excludeSlug))if("exit-popup"==options.action)document.addEventListener("mousemove",function(e){var scroll=window.pageYOffset||document.documentElement.scrollTop;e.pageY-scroll<7&&(0==options.maxDisplayCount||options.displayCount<options.maxDisplayCount)&&displayPopup(options)});else if("circle"==options.showBy||"polygon"==options.showBy||"competition"==options.showBy){if(options.inside==ip.inside&&(0==options.maxDisplayCount||options.displayCount<options.maxDisplayCount))displayPopup(options);else if(options.inside==ip.undefined){var message={action:"is_inside_"+options.showBy};options.shapeData&&options.shapeData.length>0&&(message.shapeData=options.shapeData),message.url=document.location.href,message.options=options,message.mobilePosition=mobilePosition,$.ajax({type:"POST",data:JSON.stringify(message),url:"/api/hg-popups.php",contentType:"application/json",dataType:"json",success:function(data){data.inside?options.inside=ip.inside:(options.inside=ip.outside,saveOptMonCookie()),data.inside&&(0==options.maxDisplayCount||options.displayCount<options.maxDisplayCount)&&displayPopup(options)}})}}else(0==options.maxDisplayCount||options.displayCount<options.maxDisplayCount)&&displayPopup(options)}(options)}}}var documentReady,popupReady,geoReady,topFixed=0,resizeTimer=null,popup_init=!1,page_loaded_at=Math.floor(Date.now()/1e3),allSeg={},mobilePosition={latitude:0,longitude:0},isMobile=/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());window.ip={undefined:0,inside:1,outside:2},isMobile&&navigator.geolocation&&$("[data-role=hg-popup]").length,geoReady=1,all_ready(),$(window).load(function(){$('div[data-role="hg-popup"]').length>0&&$.event.trigger("popupInit"),documentReady=1,all_ready()}),$(document).on("popupInit",function(event){popup_init||(popup_init=!0,popupReady=1,all_ready())})}(jQuery),function($){$(".toggle-animate-next").click(function(){$(this).hasClass("toggle-arrow")&&$(this).toggleClass("toggle-arrow-close").toggleClass("toggle-arrow-open"),$(this).next().toggleClass("toggle-hide").toggleClass("toggle-show")})}(jQuery);var g="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this;!function(global){var iteratorSupported=function(){try{return!!Symbol.iterator}catch(error){return!1}}(),createIterator=function(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value:value}}};return iteratorSupported&&(iterator[Symbol.iterator]=function(){return iterator}),iterator};"URLSearchParams"in global&&"a=1"===new URLSearchParams("?a=1").toString()||function(){var URLSearchParams=function(searchString){if(Object.defineProperty(this,"_entries",{value:{}}),"string"==typeof searchString){if(""!==searchString)for(var attribute,attributes=(searchString=searchString.replace(/^\?/,"")).split("&"),i=0;i<attributes.length;i++)attribute=attributes[i].split("="),this.append(decodeURIComponent(attribute[0]),attribute.length>1?decodeURIComponent(attribute[1]):"")}else if(searchString instanceof URLSearchParams){var _this=this;searchString.forEach(function(value,name){_this.append(value,name)})}},proto=URLSearchParams.prototype;proto.append=function(name,value){name in this._entries?this._entries[name].push(value.toString()):this._entries[name]=[value.toString()]},proto.delete=function(name){delete this._entries[name]},proto.get=function(name){return name in this._entries?this._entries[name][0]:null},proto.getAll=function(name){return name in this._entries?this._entries[name].slice(0):[]},proto.has=function(name){return name in this._entries},proto.set=function(name,value){this._entries[name]=[value.toString()]},proto.forEach=function(callback,thisArg){var entries;for(var name in this._entries)if(this._entries.hasOwnProperty(name)){entries=this._entries[name];for(var i=0;i<entries.length;i++)callback.call(thisArg,entries[i],name,this)}},proto.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),createIterator(items)},proto.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),createIterator(items)},proto.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),createIterator(items)},iteratorSupported&&(proto[Symbol.iterator]=proto.entries),proto.toString=function(){var searchString="";return this.forEach(function(value,name){searchString.length>0&&(searchString+="&"),searchString+=encodeURIComponent(name)+"="+encodeURIComponent(value)}),searchString},global.URLSearchParams=URLSearchParams}()}(g),function(global){if(function(){try{var u=new URL("b","http://a");return u.pathname="c%20d","http://a/c%20d"===u.href&&u.searchParams}catch(e){return!1}}()||function(){var _URL=global.URL,URL=function(url,base){"string"!=typeof url&&(url=String(url));var doc=document.implementation.createHTMLDocument("");if(window.doc=doc,base){var baseElement=doc.createElement("base");baseElement.href=base,doc.head.appendChild(baseElement)}var anchorElement=doc.createElement("a");if(anchorElement.href=url,doc.body.appendChild(anchorElement),anchorElement.href=anchorElement.href,":"===anchorElement.protocol||!/:/.test(anchorElement.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:anchorElement})},proto=URL.prototype,linkURLWithAnchorAttribute=function(attributeName){Object.defineProperty(proto,attributeName,{get:function(){return this._anchorElement[attributeName]},set:function(value){this._anchorElement[attributeName]=value},enumerable:!0})};["hash","host","hostname","port","protocol","search"].forEach(function(attributeName){linkURLWithAnchorAttribute(attributeName)}),Object.defineProperties(proto,{toString:{get:function(){var _this=this;return function(){return _this.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(value){this._anchorElement.href=value},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(value){this._anchorElement.pathname=value},enumerable:!0},origin:{get:function(){return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(this._anchorElement.port?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(value){},enumerable:!0},username:{get:function(){return""},set:function(value){},enumerable:!0},searchParams:{get:function(){var searchParams=new URLSearchParams(this.search),_this=this;return["append","delete","set"].forEach(function(methodName){var method=searchParams[methodName];searchParams[methodName]=function(){method.apply(searchParams,arguments),_this.search=searchParams.toString()}}),searchParams},enumerable:!0}}),URL.createObjectURL=function(blob){return _URL.createObjectURL.apply(_URL,arguments)},URL.revokeObjectURL=function(url){return _URL.revokeObjectURL.apply(_URL,arguments)},global.URL=URL}(),void 0!==global.location&&!("origin"in global.location)){var getOrigin=function(){return global.location.protocol+"//"+global.location.hostname+(global.location.port?":"+global.location.port:"")};try{Object.defineProperty(global.location,"origin",{get:getOrigin,enumerable:!0})}catch(e){setInterval(function(){global.location.origin=getOrigin()},100)}}}(g),function($){$(document).ready(function(){var $loaders=$("[data-role=hg-loader]"),isMobile=/android|webos|iphone|ipod|ipad|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),isDesktop=!isMobile;$.fn.hgLoader=hgJQueryPlugin({run:!0,domEventCollections:null},{init:function(PublicOptions){this.options=$.extend(this.options,this.element.data(),PublicOptions);var jsonData={};this.element.find('script[type="application/json"]').each(function(index,node){jsonData[$(node).data("propertyName")]=JSON.parse($(node).text())}),this.options=$.extend(this.options,this.element.data(),PublicOptions,jsonData),this.options.run&&this.run()},run:function(){var this_=this;$("form").on("submit-lead",$.proxy(this._showLoader,this)),$("form").on("submit-success",$.proxy(this._hideLoader,this)),$("form").on("submit-error",$.proxy(this._hideLoader,this)),$("[data-role=hg-compare]").on("compare",$.proxy(this._showLoader,this)),$("[data-role=hg-compare]").on("compare-success",$.proxy(this._hideLoader,this)),$.each(this.options.domEventCollections,function(k,v){this_._registerDomEvents(v)&&($(v.domElement).on(v.showLoaderEvent,$.proxy(this_._showLoader,this_)),$(v.domElement).on(v.hideLoaderEvent,$.proxy(this_._hideLoader,this_)))})},_showLoader:function(event){this.showTimeStamp=event.timeStamp,this.element.show()},_hideLoader:function(event){if(event.timeStamp-this.showTimeStamp<=10){var this_=this;setTimeout(function(){this_.element.hide()},500)}else this.element.hide()},_registerDomEvents:function(eventCollection){return!(isMobile&&"showOnMobile"in eventCollection&&!eventCollection.showOnMobile)&&!(isDesktop&&"showOnDesktop"in eventCollection&&!eventCollection.showOnDesktop)}}),$loaders.hgLoader()})}(jQuery),function($){var working=!1,showMessage=function(messageDomId,response){var dm=$("#"+messageDomId),confirmLabel=dm.data("confirmlabel"),cancelLabel=dm.data("cancellabel");swal({title:dm.find("[name=title]").text(),text:dm.find("[name=text]").html().replace(/(%([A-Za-z_\.]+)%)/g,function(a,b,c){return console.log(c),console.log(eval("response."+c)),eval("response."+c)}),type:dm.data("type"),html:!0,showCancelButton:void 0!=cancelLabel,confirmButtonText:confirmLabel||"Ok",cancelButtonText:cancelLabel||null},function(confirm){if(confirm){var url=dm.data("confirmurl");void 0!=url&&(document.location=url);var action=dm.data("confirmaction");void 0!=action&&eval(action+"()")}})};$("body").on("submit","[data-role='hg-lead-form'], .hg-lead-form",function(e){if(e.preventDefault(),working)return!1;var form=$(this);form.find("button").prop("disabled",!0),form.find("[required],[require]").each(function(index,node){var jNode=$(node);switch(jNode.attr("type")){case"text":jNode.toggleClass("error-input",!jNode.val());break;case"checkbox":form.find("[for="+jNode.attr("id")+"]").toggleClass("error-input",!jNode.is(":checked")),jNode.parents("label").toggleClass("error-input",!jNode.is(":checked"));break;case"email":jNode.toggleClass("error-input",!$(node)[0].checkValidity())}});$(this).closest(".modal");if(form.find(".error-input").length)return!1;form.attr("action");var post_data=form.serializeArray();post_data.push({name:"formname",value:form.attr("name")}),post_data.push({name:"currentUrl",value:document.location.href}),post_data.push({name:"referrer",value:document.referrer}),$.each(form.data(),function(name,value){post_data.push({name:name,value:value})}),form.data("action")||post_data.push({name:"action",value:"hgsendemail"});for(var postData={},i=0;i<post_data.length;i++)postData[post_data[i].name]=post_data[i].value;return form.trigger("submit-lead",[postData]),working=!0,$.ajax({type:"POST",url:hg_ajaxurl,data:post_data,dataType:"json",success:function(msg){if(msg=jQuery.extend({result:null},msg),console.log(msg),"error"==msg.result)return form.trigger("submit-error",[postData]),void showMessage(msg.exception,msg);form.trigger("submit-success",[postData]);var successUrl="";form.find("input[name=success-url]").length>0&&(successUrl=new URL(form.find("input[name=success-url]").val(),window.location.href)),form.data("success-url")&&(successUrl=new URL(form.data("success-url"),window.location.href)),msg&&msg.leadCount&&successUrl&&successUrl.searchParams.append("leadCount",msg.leadCount),successUrl&&(document.location=successUrl),form.data("success-overlay")&&($(".modal-is-open").removeClass("modal-is-open"),$("#thank-you-dialog").addClass("modal-is-open"),setTimeout(function(){$("#thank-you-dialog").removeClass("modal-is-open")},3e3)),working=!1}}),!1})}(jQuery),function($){$(window).load(function(){function hgForm(node){$(node).find("[placeholder]").each(function(index,node){$(node).attr("title",$(node).attr("placeholder"))}),node.steps=$(node).find("[data-role='hg-step']"),node.stepIndex=0,node.steps.hide(),node.steps.eq(0).show(),$(node).find("[data-role='hg-form-navigation']").click(function(){var button=$(this),direction=button.data("direction"),form=$(this).parents("form");node.steps.length>0&&(form=node.steps.eq(node.stepIndex)),("next"==direction||"submit"==button.attr("type"))&&form.find("[required],[require]").each(function(index,node){var jNode=$(node);switch(jNode.attr("type")){case"text":jNode.toggleClass("error-input",!jNode.val());break;case"checkbox":form.find("[for="+jNode.attr("id")+"]").toggleClass("error-input",!jNode.is(":checked")),jNode.parents("label").toggleClass("error-input",!jNode.is(":checked"));break;case"email":jNode.toggleClass("error-input",!$(node)[0].checkValidity())}jNode.attr("required")&&jNode.find("select")&&jNode.toggleClass("error-input",!jNode.val())}),$(node).find(".required-checkbox").each(function(index,checkboxes){if($(checkboxes).find("input[type=checkbox]").removeClass("error-input"),!$(checkboxes).find("input[type=checkbox]:checked").length)return $(checkboxes).find("input[type=checkbox]").addClass("error-input"),!1});var formIsValid=0==form.find(".error-input").length;return"next"==direction&&formIsValid&&node.stepIndex++,"prev"==direction&&node.stepIndex--,node.steps.hide(),node.steps.eq(node.stepIndex).show(),"submit"==$(this).attr("type")&&formIsValid})}$.fn.hgForm=function(){$(this).each(function(index,node){$.proxy(hgForm,this)(node)})},$("[data-role='hg-form']").hgForm()})}(jQuery),jQuery(function($){$.fn.hgMedia=hgJQueryPlugin({vin:null,type:null,stock:null},{init:function(options){this.options=$.extend(this.options,this.element.data(),options),this.viewer360=null,$(this.element).find("[data-action]").on("click",$.proxy(this.onActionClick,this)),$.ajax({type:"GET",async:!0,url:hgregoire.webServiceUrl+"inventory/vin/"+encodeURI(this.options.vin)+"/document?latest=1&types="+encodeURI(this.options.type),cache:!0,data:{},dataType:"json",success:$.proxy(this.onDocument,this)}),setInterval($.proxy(this.onRefresh,this),100)},show:function(){var imageUrl=this.vehicleDocument.Url;return UA.isMobile()&&(imageUrl=this.vehicleDocument.Url.replace("https://",hgregoire.staticUrl+"/photos/by-size/"+this.options.stock+"/4096x/")),this.viewer360=pannellum.viewer(this.element.find(".viewer").get(0),{type:"equirectangular",panorama:imageUrl,autoLoad:!0,showControls:!1}),$(this.element).show(),!0},onRefresh:function(e){if(null!=this.viewer360){var vl=200-Math.round(this.viewer360.getHfov())+"%";this.caption!=vl&&(this.element.find(".caption").text(200-Math.round(this.viewer360.getHfov())+"%"),this.caption=vl)}},onActionClick:function(e){switch($(e.target).data("action")){case"close":this.viewer360.destroy(),$(this.element).hide(),this.viewer360=null;break;case"zoom-in":this.viewer360.setHfov(this.viewer360.getHfov()-15);break;case"zoom-out":this.viewer360.setHfov(this.viewer360.getHfov()+15)}return!0},onDocument:function(vehicleDocuments){0!=vehicleDocuments.length&&(this.vehicleDocument=vehicleDocuments[0],$(this.element).trigger("media"))}}),$(document).ready(function(){$('[data-role="hg-media"]').hgMedia({})})}),function($){$.fn.hgDom=hgJQueryPlugin({selector:"",toggleclass:"",event:"click"},{init:function(publicOptions){this.options=$.extend(this.options,this.element.data(),publicOptions),this.element.on(this.options.event,jQuery.proxy(this._onUserEvent,this))},_onUserEvent:function(){this.options.selector&&$(this.options.selector).toggleClass(this.options.toggleclass),""===this.options.selector&&this.element.toggleClass(this.options.toggleclass)}}),$(document).on("ready",function(){$("[data-role=hg-dom]").hgDom()})}(jQuery),HgClickSafe=function(){function HgClickSafe(){this.lastClickedTime=0,this.lastEventTime=0,this.lastEventTag=""}return HgClickSafe.prototype={isSingleClick:function(){return 0==this.lastClickedTime?(this.lastClickedTime=(new Date).getTime(),!0):(new Date).getTime()-this.lastClickedTime<800?(this.lastClickedTime=0,!1):(this.lastClickedTime=(new Date).getTime(),!0)},isSingleEvent:function(theEventTag){return 0==this.lastEventTime||""==this.lastEventTag?(this.lastEventTime=(new Date).getTime(),this.lastEventTag=theEventTag,!0):(new Date).getTime()-this.lastEventTime<200&&this.lastEventTag==theEventTag?(this.lastEventTime=0,this.lastEventTag="",!1):(this.lastEventTime=(new Date).getTime(),this.lastEventTag=theEventTag,!0)},isTouchInterface:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}},HgClickSafe}(),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.salvattore=t()}(this,function(){return window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===r.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(){"use strict";if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,n=!1,r=0,a=[],i=function(t){clearTimeout(r),r=setTimeout(function(){for(var t=0,n=a.length;n>t;t++){var r=a[t].mql,i=a[t].listeners||[],o=e(r.media).matches;if(o!==r.matches){r.matches=o;for(var c=0,l=i.length;l>c;c++)i[c].call(window,r)}}},30)};window.matchMedia=function(r){var o=e(r),c=[],l=0;return o.addListener=function(e){t&&(n||(n=!0,window.addEventListener("resize",i,!0)),0===l&&(l=a.push({mql:o,listeners:c})),c.push(e))},o.removeListener=function(e){for(var t=0,n=c.length;n>t;t++)c[t]===e&&c.splice(t,1)},o}}(),function(){"use strict";for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),a=Math.max(0,16-(r-e)),i=window.setTimeout(function(){t(r+a)},a);return e=r+a,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),"function"!=typeof window.CustomEvent&&function(){"use strict";function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(e,t,n){"use strict";var r={},a=[],i=[],o=[],c=function(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+t,n)};return r.obtainGridSettings=function(t){var r=e.getComputedStyle(t,":before").getPropertyValue("content").slice(1,-1),a=r.match(/^\s*(\d+)(?:\s?\.(.+))?\s*$/),i=1,o=[];return a?(i=a[1],o=a[2],o=o?o.split("."):["column"]):(a=r.match(/^\s*\.(.+)\s+(\d+)\s*$/))&&(o=a[1],(i=a[2])&&(i=i.split("."))),{numberOfColumns:i,columnClasses:o}},r.addColumns=function(e,n){for(var a,i=r.obtainGridSettings(e),o=i.numberOfColumns,l=i.columnClasses,s=new Array(+o),u=t.createDocumentFragment(),d=o;0!=d--;)a="[data-columns] > *:nth-child("+o+"n-"+d+")",s.push(n.querySelectorAll(a));s.forEach(function(e){var n=t.createElement("div"),r=t.createDocumentFragment();n.className=l.join(" "),Array.prototype.forEach.call(e,function(e){r.appendChild(e)}),n.appendChild(r),u.appendChild(n)}),e.appendChild(u),c(e,"columns",o)},r.removeColumns=function(n){var r=t.createRange();r.selectNodeContents(n);var a=Array.prototype.filter.call(r.extractContents().childNodes,function(t){return t instanceof e.HTMLElement}),i=a.length,o=a[0].childNodes.length,l=new Array(o*i);Array.prototype.forEach.call(a,function(e,t){Array.prototype.forEach.call(e.children,function(e,n){l[n*i+t]=e})});var s=t.createElement("div");return c(s,"columns",0),l.filter(function(e){return!!e}).forEach(function(e){s.appendChild(e)}),s},r.recreateColumns=function(t){e.requestAnimationFrame(function(){r.addColumns(t,r.removeColumns(t));var e=new CustomEvent("columnsChange");t.dispatchEvent(e)})},r.mediaQueryChange=function(e){e.matches&&Array.prototype.forEach.call(a,r.recreateColumns)},r.getCSSRules=function(e){var t;try{t=e.sheet.cssRules||e.sheet.rules}catch(n){return[]}return t||[]},r.getStylesheets=function(){var e=Array.prototype.slice.call(t.querySelectorAll("style"));return e.forEach(function(t,n){"text/css"!==t.type&&""!==t.type&&e.splice(n,1)}),Array.prototype.concat.call(e,Array.prototype.slice.call(t.querySelectorAll("link[rel='stylesheet']")))},r.mediaRuleHasColumnsSelector=function(e){var t,n;try{t=e.length}catch(r){t=0}for(;t--;)if((n=e[t]).selectorText&&n.selectorText.match(/\[data-columns\](.*)::?before$/))return!0;return!1},r.scanMediaQueries=function(){var t=[];if(e.matchMedia){r.getStylesheets().forEach(function(e){Array.prototype.forEach.call(r.getCSSRules(e),function(e){try{e.media&&e.cssRules&&r.mediaRuleHasColumnsSelector(e.cssRules)&&t.push(e)}catch(n){}})});var n=i.filter(function(e){return-1===t.indexOf(e)});o.filter(function(e){return-1!==n.ind}).forEach(function(e){e.mql.removeListener(r.mediaQueryChange)}),o=o.filter(function(e){return-1===n.indexOf(e.rule)}),t.filter(function(e){return-1==i.indexOf(e)}).forEach(function(t){var n=e.matchMedia(t.media.mediaText);n.addListener(r.mediaQueryChange),o.push({rule:t,mql:n})}),i.length=0,i=t}},r.rescanMediaQueries=function(){r.scanMediaQueries(),Array.prototype.forEach.call(a,r.recreateColumns)},r.nextElementColumnIndex=function(e,t){var n,r,a,i=e.children,o=i.length,c=0,l=0;for(a=0;o>a;a++)n=i[a],r=n.children.length+(t[a].children||t[a].childNodes).length,0===c&&(c=r),c>r&&(l=a,c=r);return l},r.createFragmentsList=function(e){for(var n=new Array(e),r=0;r!==e;)n[r]=t.createDocumentFragment(),r++;return n},r.appendElements=function(e,t){var n=e.children,a=n.length,i=r.createFragmentsList(a);Array.prototype.forEach.call(t,function(t){var n=r.nextElementColumnIndex(e,i);i[n].appendChild(t)}),Array.prototype.forEach.call(n,function(e,t){e.appendChild(i[t])})},r.prependElements=function(e,n){var a=e.children,i=a.length,o=r.createFragmentsList(i),c=i-1;n.forEach(function(e){var t=o[c];t.insertBefore(e,t.firstChild),0===c?c=i-1:c--}),Array.prototype.forEach.call(a,function(e,t){e.insertBefore(o[t],e.firstChild)});for(var l=t.createDocumentFragment(),s=n.length%i;0!=s--;)l.appendChild(e.lastChild);e.insertBefore(l,e.firstChild)},r.registerGrid=function(n){if("none"!==e.getComputedStyle(n).display){var i=t.createRange();i.selectNodeContents(n);var o=t.createElement("div");o.appendChild(i.extractContents()),c(o,"columns",0),r.addColumns(n,o),a.push(n)}},r.init=function(){var e=t.createElement("style");e.innerHTML="[data-columns]::before{display:block;visibility:hidden;position:absolute;font-size:1px;}",t.head.appendChild(e);var n=t.querySelectorAll("[data-columns]");Array.prototype.forEach.call(n,r.registerGrid),r.scanMediaQueries()},r.init(),{appendElements:r.appendElements,prependElements:r.prependElements,registerGrid:r.registerGrid,recreateColumns:r.recreateColumns,rescanMediaQueries:r.rescanMediaQueries,init:r.init,append_elements:r.appendElements,prepend_elements:r.prependElements,register_grid:r.registerGrid,recreate_columns:r.recreateColumns,rescan_media_queries:r.rescanMediaQueries}}(window,window.document)}),function($){$.md5=function(string){function RotateLeft(lValue,iShiftBits){return lValue<<iShiftBits|lValue>>>32-iShiftBits}function AddUnsigned(lX,lY){var lX4,lY4,lX8,lY8,lResult;return lX8=2147483648&lX,lY8=2147483648&lY,lX4=1073741824&lX,lY4=1073741824&lY,lResult=(1073741823&lX)+(1073741823&lY),lX4&lY4?2147483648^lResult^lX8^lY8:lX4|lY4?1073741824&lResult?3221225472^lResult^lX8^lY8:1073741824^lResult^lX8^lY8:lResult^lX8^lY8}function F(x,y,z){return x&y|~x&z}function G(x,y,z){return x&z|y&~z}function H(x,y,z){return x^y^z}function I(x,y,z){return y^(x|~z)}function FF(a,b,c,d,x,s,ac){return a=AddUnsigned(a,AddUnsigned(AddUnsigned(F(b,c,d),x),ac)),AddUnsigned(RotateLeft(a,s),b)}function GG(a,b,c,d,x,s,ac){return a=AddUnsigned(a,AddUnsigned(AddUnsigned(G(b,c,d),x),ac)),AddUnsigned(RotateLeft(a,s),b)}function HH(a,b,c,d,x,s,ac){return a=AddUnsigned(a,AddUnsigned(AddUnsigned(H(b,c,d),x),ac)),AddUnsigned(RotateLeft(a,s),b)}function II(a,b,c,d,x,s,ac){return a=AddUnsigned(a,AddUnsigned(AddUnsigned(I(b,c,d),x),ac)),AddUnsigned(RotateLeft(a,s),b)}function WordToHex(lValue){var lCount,WordToHexValue="",WordToHexValue_temp="";for(lCount=0;lCount<=3;lCount++)WordToHexValue+=(WordToHexValue_temp="0"+(lValue>>>8*lCount&255).toString(16)).substr(WordToHexValue_temp.length-2,2);return WordToHexValue}var k,AA,BB,CC,DD,a,b,c,d,x=Array();for(x=function(string){for(var lWordCount,lMessageLength=string.length,lNumberOfWords_temp1=lMessageLength+8,lNumberOfWords=16*((lNumberOfWords_temp1-lNumberOfWords_temp1%64)/64+1),lWordArray=Array(lNumberOfWords-1),lBytePosition=0,lByteCount=0;lByteCount<lMessageLength;)lBytePosition=lByteCount%4*8,lWordArray[lWordCount=(lByteCount-lByteCount%4)/4]=lWordArray[lWordCount]|string.charCodeAt(lByteCount)<<lBytePosition,lByteCount++;return lWordCount=(lByteCount-lByteCount%4)/4,lBytePosition=lByteCount%4*8,lWordArray[lWordCount]=lWordArray[lWordCount]|128<<lBytePosition,lWordArray[lNumberOfWords-2]=lMessageLength<<3,lWordArray[lNumberOfWords-1]=lMessageLength>>>29,lWordArray}(string=function(string){string=string.replace(/\r\n/g,"\n");for(var utftext="",n=0;n<string.length;n++){var c=string.charCodeAt(n);c<128?utftext+=String.fromCharCode(c):c>127&&c<2048?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(63&c|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(63&c|128))}return utftext}(string)),a=1732584193,b=4023233417,c=2562383102,d=271733878,k=0;k<x.length;k+=16)AA=a,BB=b,CC=c,DD=d,b=II(b=II(b=II(b=II(b=HH(b=HH(b=HH(b=HH(b=GG(b=GG(b=GG(b=GG(b=FF(b=FF(b=FF(b=FF(b,c=FF(c,d=FF(d,a=FF(a,b,c,d,x[k+0],7,3614090360),b,c,x[k+1],12,3905402710),a,b,x[k+2],17,606105819),d,a,x[k+3],22,3250441966),c=FF(c,d=FF(d,a=FF(a,b,c,d,x[k+4],7,4118548399),b,c,x[k+5],12,1200080426),a,b,x[k+6],17,2821735955),d,a,x[k+7],22,4249261313),c=FF(c,d=FF(d,a=FF(a,b,c,d,x[k+8],7,1770035416),b,c,x[k+9],12,2336552879),a,b,x[k+10],17,4294925233),d,a,x[k+11],22,2304563134),c=FF(c,d=FF(d,a=FF(a,b,c,d,x[k+12],7,1804603682),b,c,x[k+13],12,4254626195),a,b,x[k+14],17,2792965006),d,a,x[k+15],22,1236535329),c=GG(c,d=GG(d,a=GG(a,b,c,d,x[k+1],5,4129170786),b,c,x[k+6],9,3225465664),a,b,x[k+11],14,643717713),d,a,x[k+0],20,3921069994),c=GG(c,d=GG(d,a=GG(a,b,c,d,x[k+5],5,3593408605),b,c,x[k+10],9,38016083),a,b,x[k+15],14,3634488961),d,a,x[k+4],20,3889429448),c=GG(c,d=GG(d,a=GG(a,b,c,d,x[k+9],5,568446438),b,c,x[k+14],9,3275163606),a,b,x[k+3],14,4107603335),d,a,x[k+8],20,1163531501),c=GG(c,d=GG(d,a=GG(a,b,c,d,x[k+13],5,2850285829),b,c,x[k+2],9,4243563512),a,b,x[k+7],14,1735328473),d,a,x[k+12],20,2368359562),c=HH(c,d=HH(d,a=HH(a,b,c,d,x[k+5],4,4294588738),b,c,x[k+8],11,2272392833),a,b,x[k+11],16,1839030562),d,a,x[k+14],23,4259657740),c=HH(c,d=HH(d,a=HH(a,b,c,d,x[k+1],4,2763975236),b,c,x[k+4],11,1272893353),a,b,x[k+7],16,4139469664),d,a,x[k+10],23,3200236656),c=HH(c,d=HH(d,a=HH(a,b,c,d,x[k+13],4,681279174),b,c,x[k+0],11,3936430074),a,b,x[k+3],16,3572445317),d,a,x[k+6],23,76029189),c=HH(c,d=HH(d,a=HH(a,b,c,d,x[k+9],4,3654602809),b,c,x[k+12],11,3873151461),a,b,x[k+15],16,530742520),d,a,x[k+2],23,3299628645),c=II(c,d=II(d,a=II(a,b,c,d,x[k+0],6,4096336452),b,c,x[k+7],10,1126891415),a,b,x[k+14],15,2878612391),d,a,x[k+5],21,4237533241),c=II(c,d=II(d,a=II(a,b,c,d,x[k+12],6,1700485571),b,c,x[k+3],10,2399980690),a,b,x[k+10],15,4293915773),d,a,x[k+1],21,2240044497),c=II(c,d=II(d,a=II(a,b,c,d,x[k+8],6,1873313359),b,c,x[k+15],10,4264355552),a,b,x[k+6],15,2734768916),d,a,x[k+13],21,1309151649),c=II(c,d=II(d,a=II(a,b,c,d,x[k+4],6,4149444226),b,c,x[k+11],10,3174756917),a,b,x[k+2],15,718787259),d,a,x[k+9],21,3951481745),a=AddUnsigned(a,AA),b=AddUnsigned(b,BB),c=AddUnsigned(c,CC),d=AddUnsigned(d,DD);return(WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d)).toLowerCase()}}(jQuery),function($){var working=!1;$("body").on("submit",'[data-role="hg-unsubscribe"]',function(e){if(e.preventDefault(),working)return!1;var form=$(this),post_data=form.serializeArray();working=!0,$.ajax({type:"POST",url:"//webservice.hgregoire.com/unsubscribe/index",data:post_data,dataType:"jsonp",success:function(msg){working=!1,form.data("success-url")&&(document.location=form.data("success-url"))}})})}(jQuery),function($){$(document).ready(function(){"undefined"!=typeof CarProofBadge&&CarProofBadge.isDomReady(function(){var hgCarProofBadge=CarProofBadge.fill;CarProofBadge.fill=function(vin,data){if(!data){var $carproofLink=jQuery("[data-role=carproof-report-link]");return $carproofLink.length&&""!=$carproofLink.data("url")&&$carproofLink.data("url").indexOf("hgregoire.com")>=0&&jQuery('div#carproof-badge[data-vin="'+vin+'"]').parent().removeClass("hidden"),!1}jQuery('div#carproof-badge[data-vin="'+vin+'"]').parent().removeClass("hidden"),hgCarProofBadge(vin,data)}})})}(jQuery),jQuery(function($){$.fn.hgBanner=hgJQueryPlugin({dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,accessibility:!1,autoplay:!0,autoplaySpeed:3e3,responsive:[]},{init:function(options){this.element.children('script[type="application/json"]').each(function(index,node){options[$(node).data("propertyName")]=JSON.parse($(node).text())}),this.options=$.extend(this.options,this.element.data(),options),$(window).on("hg-breakpoint-change",$.proxy(this.adjustBannerBreakpoint,this)),this.element.slick(this.options)},adjustBannerBreakpoint:function(event,breakpoint){this.element.find("img[data-"+breakpoint+"]").each(function(i,node){$(node).attr("src",$(this).data(breakpoint)),$(node).attr("width",""),$(node).attr("height","")})}}),$(document).ready(function(){$(".hg-banners").hgBanner({}),$('[data-role="hg-banners"]').hgBanner({})})}),function($){$(document).on("ready",function(){var is_mobile=window.innerWidth<=750,isMobileDevice=UA.isMobile();$.fn.hgImageSlider=hgJQueryPlugin({useRange:!1,images:[],run:!0,initialized:!1,hideOnMobile:!1,tagName:"img",gridViewColumnsBreakpoint:null,gridViewColumnsCount:null,runOnBreakpointRange:null,disableOnMobileDevice:!1},{init:function(PublicOptions){isMobileDevice&&this.element.addClass("is-mobile-device"),this.options=$.extend(this.options,this.element.data(),PublicOptions),this.options.run&&this.run()},run:function(){if($(window).on("resize",$.proxy(this.onSlickResize,this)),!(isMobileDevice&&this.options.disableOnMobileDevice||this.options.runOnBreakpointRange&&!1===this._runByRange(this.options.runOnBreakpointRange)||this.options.initialized)){this.options.images=this.element.find("[data-src]").map(function(){return $(this).data("src")}).get();var settings=$.extend({lazyLoad:!0},this._slickSettings());this.element.on("init",$.proxy(this.onSlickReady,this)),this.options.gridViewColumnsCount&&(this.options.gridViewColumnsBreakpoint?window.innerWidth<=this.options.gridViewColumnsBreakpoint?this.element.find(".slick-row").length<=0&&this._setGrid():this.element.find(".slick-row").length>0&&this._unGrid():this._setGrid()),this.element.slick(settings),this.element.find("button.slick-arrow").on("click",function(){return!1}),this.element.find(".slick-dots button").on("click",$.proxy(this._dotClick,this)),this.options.initialized=!0}},_runByRange:function(range){return!(range[0]&&window.innerWidth<range[0])&&!(range[1]&&window.innerWidth>range[1])},refresh:function(run){run=run||this.options.run,this.options.initialized&&this.element.slick("unslick"),this.options.initialized=!1,this.init({run:run})},setPosition:function(){this.options.initialized&&this.element.slick("setPosition")},onSlickReady:function(event,slick){this.element.trigger("slickReady",slick)},goTo:function(position,dontAnimate){this.element.slick("slickGoTo",position,dontAnimate)},goToLessViewed:function(){var slideViewed=this._getDisplayedSlideCookie(),$lessViewedSlide=this._getLessViewedSlideElem(slideViewed);if(null!==$lessViewedSlide){this.goTo(this.element.find("[data-slide-id]").index($lessViewedSlide),!1);var slideId=$lessViewedSlide.data("slide-id"),count=void 0!==slideViewed[slideId]?slideViewed[slideId]:0;slideViewed[slideId]=count+1,this._setDisplayedSlideCookie(slideViewed)}},onSlickResize:function(event){clearTimeout(this.resizeTimer);var refresh=!1;this.resizeTimer=setTimeout(function(){this.options.runOnBreakpointRange&&(!1===this._runByRange(this.options.runOnBreakpointRange)?this.options.initialized&&(refresh=!0):this.options.initialized||(refresh=!0)),this.options.gridViewColumnsBreakpoint&&(refresh=!0),refresh?this.refresh():(is_mobile=window.innerWidth<=750)||this.run()}.bind(this),100)},_setGrid:function(){var _this=this,$row=$("<div />",{class:"slick-row"}),$newRow=$row.clone();this.element.children().each(function(k,node){k&&k%_this.options.gridViewColumnsCount==0&&(_this.element.append($newRow),$newRow=$row.clone());var $newNode=$(node).clone();$(node).remove(),$newRow.append($newNode)}),_this.element.append($newRow),$newRow=$row.clone()},_unGrid:function(){var _this=this;this.element.children(".slick-row").each(function(i,node){_this.element.append($(node).children().clone().end()),$(node).remove()})},_dotClick:function(event){this._setTagImg($(event.target).text()-1)},_getDisplayedSlideCookie:function(elementId){if(void 0===$.cookie)return{};var jsonString=$.cookie(this.element.attr("id")+"_slide-viewed"),toReturn={};return jsonString&&"[]"!=jsonString&&"null"!=jsonString&&jsonString!=[]&&"%5B%5D"!=jsonString&&(toReturn=JSON.parse(jsonString)),toReturn},_setDisplayedSlideCookie:function(content){$.cookie(this.element.attr("id")+"_slide-viewed",JSON.stringify(content),{expires:3,path:"/"})},_getLessViewedSlideElem:function(slideViewed){for(var elements=this.element.find("[data-slide-id]").not(".slick-cloned").toArray(),currentViewCount=1e6,$lowestCountElement=null,slideId=null,x=0;x<elements.length;x++){if(void 0!==(slideId=$(elements[x]).data("slide-id"))&&void 0===slideViewed[slideId])return $(elements[x]);void 0!==slideId&&currentViewCount>slideViewed[slideId]&&(currentViewCount=slideViewed[slideId],$lowestCountElement=$(elements[x]))}return $lowestCountElement},_camelCase:function(s){return s.replace(/-([a-z])/g,function(g){return g[1].toUpperCase()})},_slickSettings:function(){var settings={},responsive=[];responsive[0]={},responsive[0].settings={};var _this=this;return $.each(this.element.get(0).attributes,function(i,attrib){var value=attrib.value;if("true"!=value&&"false"!=value||(value="true"==attrib.value),$.isNumeric(value)&&(value=parseInt(attrib.value)),match=attrib.name.match("^slick-settings-responsive-settings-(.*)")){attribute=_this._getResponsiveAttribute(match[1]);null==responsive[attribute.count].settings&&(responsive[attribute.count].settings={}),responsive[attribute.count].settings[_this._camelCase(attribute.name)]=value}else if(match=attrib.name.match("^slick-settings-responsive-(.*)")){var attribute=_this._getResponsiveAttribute(match[1]);null==responsive[attribute.count]&&(responsive[attribute.count]={}),responsive[attribute.count][_this._camelCase(attribute.name)]=value}else(match=attrib.name.match("^slick-settings-(.*)"))&&(settings[_this._camelCase(match[1])]=value)}),settings.responsive=responsive,settings},_getResponsiveAttribute:function(attrib){var attribute={};return attribute.count=0,attribute.name=attrib,(match=attrib.match(/-([0-9])$/))&&(attribute.count=match[1],attribute.name=attrib.replace(match[0],"")),attribute},_setTagImg:function(imgIndex){var $tag=this.element.find('[data-lazy="'+this.options.images[imgIndex]+'"]');if(!($tag.length<=0)){switch(this.options.tagName){case"img":$tag.attr("src",this.options.images[imgIndex]);break;case"div":$tag.css("background-image","url("+this.options.images[imgIndex]+")")}$tag.removeAttr("data-lazy")}}});var $sliders=$("[data-role=hg-image-slider]");$sliders.length>0&&($sliders.hgImageSlider(),$(document).trigger("hg-image-slider.ready"))}),$(".slick-prev, .slick-next").click(function(e){return e.preventDefault(),!1}),$(document).on("ready",function(e,s,d,h){$("[data-role=hg-image-slider][data-show=less-viewed]").each(function(){$(this).hgImageSlider("goToLessViewed")})})}(jQuery),function($){$.fn.hgFloatingCta=hgJQueryPlugin({selector:".close",cookieName:"myCta",cookieValue:1},{init:function(publicOptions){this.options=$.extend(this.options,this.element.data(),publicOptions),this.element.find(this.options.selector).on("click",$.proxy(this.onCloseClick,this));var cookieValue=$.cookie(this.options.cookieName);this.element.toggleClass("visible",void 0===cookieValue||this.options.cookieValue>cookieValue)},onCloseClick:function(e){return $.cookie(this.options.cookieName,this.options.cookieValue,{expires:1,path:"/"}),"a"==this.options.selector||(this.element.hide(),!1)}}),$(document).ready(function(){$("[data-role=hg-floating-cta]").hgFloatingCta({})})}(jQuery),function($){$.ggtrkevent=function(){function hgEventTracking(trackerElem,index){var selectorElem="document"==trackerElem.data("selector")?document:trackerElem.data("selector");if(0!=$(selectorElem).length){var trackerLabel=trackerElem.data("label"),trackerEventSelector=trackerElem.data("eventSelector");$(selectorElem).on(trackerEventSelector,function(e){var i=Math.max(index-1,0),targetElem=$(e.target);if("ajax"==trackerElem.data("eventSelector").substring(0,4)&&$(this).context!=$($(trackerElem.data("selector")).get(i)).context)return!0;var label=targetElem.get(0).tagName;if(!targetElem.is(document)&&targetElem.attr("class")&&(label+="."+targetElem.attr("class").split(/\s+/).join(".")),targetElem.data("trackerLabel")?label=targetElem.data("trackerLabel"):targetElem.attr("name")?label=targetElem.attr("name"):targetElem.attr("href")&&"#"==targetElem.attr("href").charAt(0)&&targetElem.attr("href").length>1?label=targetElem.attr("href").substring(1):targetElem.attr("id")&&(label=targetElem.attr("id")),trackerLabel){var captions={Mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),BestLabel:label};label=(label=trackerLabel.replace(new RegExp("%([a-zA-Z0-9._]+)%"),function(match,captionName,offset,input_string){return captions[captionName]?captions[captionName]:""})).replace(new RegExp("\\[([a-zA-Z0-9._]+):(([^\\]]+))\\]"),function(match,captionName,captionValue,offset,input_string){return captions[captionName]?captionValue:""})}gaTrackEvent(trackerElem.data("category")?"tracking:"+trackerElem.data("category"):"tracking:"+targetElem.get(0).tagName,trackerElem.data("action")?trackerElem.data("action"):e.type,label,trackerElem.data("value")?trackerElem.data("value"):0)})}}function hgEventTrackingFormatted(trackerElem,index){var viewed=trackerElem.visible()?1:0;if("tap"!=trackerElem.data("eventSelector")&&"click"!=trackerElem.data("eventSelector")||trackerElem.data("eventSelector",isTouchInterface?"tap":"click"),"visible"==trackerElem.data("eventSelector"))viewed&&gaTrackFormattedEvent(trackerElem),trackerElem.attr("data-tracking-viewport",viewed);else if(trackerElem.data("eventSelector")){var selectorElem=$(trackerElem.data("selector")).length?$(trackerElem.data("selector")):trackerElem;$(selectorElem).on(trackerElem.data("eventSelector"),function(){gaTrackFormattedEvent(trackerElem)})}else gaTrackFormattedEvent(trackerElem)}function gaTrackEvent(eventCategory,eventAction,eventLabel,eventValue){eventCategory&&eventAction&&eventLabel&&$('[data-role="hg-analytic-tracker"]').length&&hgClickSafeGa.isSingleEvent(eventCategory+","+eventAction+","+eventLabel)&&$('[data-role="hg-analytic-tracker"]').each(function(){var method=$(this).data("trackerName")?$(this).data("trackerName")+".send":"send";ga(method,{hitType:"event",eventCategory:eventCategory,eventAction:eventAction,eventLabel:eventLabel,eventValue:eventValue})})}function gaTrackFormattedEvent(trackerElem){var selectorElem=trackerElem.data("selector")?trackerElem.data("selector"):$(this);if(0!=$(selectorElem).length){var trackingLabel=trackerElem.data("trackingLabel"),trackingValue=trackerElem.data("trackingValue"),viewed=1,suffix=trackerElem.data("trackingSuffix")?":"+trackerElem.data("trackingSuffix"):"",eventType="views";if(trackerElem.data("trackingClasses")){eventType="unassigned";for(var trackClasses=trackerElem.data("trackingClasses").split(";"),i=0;i<trackClasses.length;i++)trackerElem.hasClass(trackClasses[i])&&(eventType=trackClasses[i])}else trackerElem.data("trackingType")&&(eventType=trackerElem.data("trackingType"));"visible"==trackerElem.data("eventSelector")&&0==trackerElem.visible()?viewed=0:"tap"!=trackerElem.data("eventSelector")&&"click"!=trackerElem.data("eventSelector")||trackerElem.data("eventSelector",isTouchInterface?"tap":"click"),gaTrackEvent("tracking:"+eventType,(trackerElem.data("action")?trackerElem.data("action"):gaTrackingDefaultAction())+suffix,trackingLabel+":"+trackingValue,viewed)}}function gaTrackingDefaultAction(){return $('meta[name="hg:pagename"]').length?$('meta[name="hg:pagename"]').attr("content"):window.location.pathname}var hgClickSafeGa=new HgClickSafe,isTouchInterface=hgClickSafeGa.isTouchInterface(),viewTrackIntervalMaxLoop=240,viewTrackIntervalForVisible=setInterval(function(){viewTrackIntervalMaxLoop--,$('[data-role="hg-event-tracking"][data-tracking-viewport="0"]').each(function(){$(this).visible()&&($(this).attr("data-tracking-viewport",1),gaTrackFormattedEvent($(this)))}),0==viewTrackIntervalMaxLoop&&clearInterval(viewTrackIntervalForVisible)},750);$(".ggtrkevent").on("click submit submit-success",function(e){e.type==$(this).data("gg-event")&&gaTrackEvent($(this).data("gg-category")?$(this).data("gg-category"):"button",$(this).data("gg-action")?$(this).data("gg-action"):"click",$(this).data("gg-label"),$(this).data("gg-value")?$(this).data("gg-value"):1)}),$('[data-role="hg-event-tracking"]').each(function(index){var trackerElem=$(this);return trackerElem.data("trackingLabel")||trackerElem.data("trackingValue")?hgEventTrackingFormatted(trackerElem,index):hgEventTracking(trackerElem,index)})},$(window).load(function(){$.ggtrkevent()}),$(document).on("page-segment-load",function(){$.ggtrkevent()})}(jQuery),function(a){a.fn.rwdImageMaps=function(){var c=this,b=function(){c.each(function(){if(void 0!==a(this).attr("usemap")){var d=a(this);a("<img />").on("load",function(){var n=d.attr("width"),j=d.attr("height");if(!n||!j){var o=new Image;o.src=d.attr("src"),n||(n=o.width),j||(j=o.height)}var f=d.width()/100,k=d.height()/100,i=d.attr("usemap").replace("#",""),l="coords";a('map[name="'+i+'"]').find("area").each(function(){var r=a(this);r.data(l)||r.data(l,r.attr(l));for(var q=r.data(l).split(","),p=new Array(q.length),h=0;h<p.length;++h)p[h]=h%2==0?parseInt(q[h]/n*100*f):parseInt(q[h]/j*100*k);r.attr(l,p.toString())})}).attr("src",d.attr("src"))}})};return a(window).resize(b).trigger("resize"),this}}(jQuery),function($){$(document).ready(function(){var pageHash=window.location.hash;$(window).on("hashchange",function(){pageHash=window.location.hash}),$("#top-bar nav a").click(function(){var hash=this.hash;""!=hash&&null!=hash&&hash!=pageHash&&window.location.reload()})})}(jQuery),jQuery(function($){$.fn.hgTabs=hgJQueryPlugin({navigationPreAction:null,navigationAction:"show"},{init:function(options){this.options=$.extend(this.options,this.element.data(),options),this.element.find('[data-role="hg-tab"]').on("click",$.proxy(this._onNavigationEvent,this))},_onNavigationEvent:function(event){this.element.trigger("tab.activate.start"),this.options.navigationPreAction&&this.element.find('[data-role="hg-panel"]')[this.options.navigationPreAction]();var $tagetTab=$(event.target),$targetPanel=this.element.find('[data-role="hg-panel"][id="'+$tagetTab.attr("href").replace("#","")+'"]');$targetPanel[this.options.navigationAction](),this.element.trigger("tab.activate.end",[$tagetTab,$targetPanel])}}),$(document).ready(function(){$('[data-role="hg-tabs"]').hgTabs({})})}),jQuery(function($){$.fn.hgGoogleMapAutoComplete=hgJQueryPlugin({componentRestrictions:{country:"ca"}},{init:function(options){this.options=$.extend(this.options,this.element.data(),options);var autocomplete=new google.maps.places.Autocomplete($(this.element)[0],this.options);autocomplete.addListener("place_changed",$.proxy(this._onPlaceChangedEvent,this,autocomplete))},_onPlaceChangedEvent:function(autocomplete){var place=autocomplete.getPlace();$(this.element).val(place.formatted_address)}}),$(document).ready(function(){$('[data-role="hg-google-map-autocomplete"]').hgGoogleMapAutoComplete({})})}),function(f){"function"==typeof define&&define.amd?define(["jquery"],f):f(window.jQuery||window.Zepto)}(function(f){var A=function(a,d,b){var m,p,h=this;a=f(a),d="function"==typeof d?d(a.val(),void 0,a,b):d;var c={getCaret:function(){try{var e,l=0,c=a.get(0),g=document.selection,d=c.selectionStart;return g&&!~navigator.appVersion.indexOf("MSIE 10")?((e=g.createRange()).moveStart("character",a.is("input")?-a.val().length:-a.text().length),l=e.text.length):(d||"0"===d)&&(l=d),l}catch(b){}},setCaret:function(e){try{if(a.is(":focus")){var l,c=a.get(0);c.setSelectionRange?c.setSelectionRange(e,e):c.createTextRange&&((l=c.createTextRange()).collapse(!0),l.moveEnd("character",e),l.moveStart("character",e),l.select())}}catch(g){}},events:function(){a.on("keydown.mask",function(){m=c.val()}).on("keyup.mask",c.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){a.keydown().keyup()},100)}).on("change.mask",function(){a.data("changed",!0)}).on("blur.mask",function(){m===a.val()||a.data("changed")||a.trigger("change"),a.data("changed",!1)}).on("focusout.mask",function(){b.clearIfNotMatch&&!p.test(c.val())&&c.val("")})},getRegexMask:function(){for(var a,c,g,b,e=[],k=0;k<d.length;k++)(a=h.translation[d[k]])?(c=a.pattern.toString().replace(/.{1}$|^.{1}/g,""),g=a.optional,(a=a.recursive)?(e.push(d[k]),b={digit:d[k],pattern:c}):e.push(g||a?c+"?":c)):e.push(d[k].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return e=e.join(""),b&&(e=e.replace(new RegExp("("+b.digit+"(.*"+b.digit+")?)"),"($1)?").replace(new RegExp(b.digit,"g"),b.pattern)),new RegExp(e)},destroyEvents:function(){a.off("keydown keyup paste drop change blur focusout DOMNodeInserted ".split(" ").join(".mask ")).removeData("changeCalled")},val:function(e){var c=a.is("input");return 0<arguments.length?c?a.val(e):a.text(e):c?a.val():a.text()},getMCharsBeforeCount:function(e,a){for(var c=0,b=0,f=d.length;b<f&&b<e;b++)h.translation[d.charAt(b)]||(e=a?e+1:e,c++);return c},caretPos:function(e,a,b,g){return h.translation[d.charAt(Math.min(e-1,d.length-1))]?Math.min(e+b-a-g,b):c.caretPos(e+1,a,b,g)},behaviour:function(a){var b=(a=a||window.event).keyCode||a.which;if(-1===f.inArray(b,h.byPassKeys)){var d=c.getCaret(),g=c.val(),t=g.length,k=d<t,m=c.getMasked(),n=m.length,p=c.getMCharsBeforeCount(n-1)-c.getMCharsBeforeCount(t-1);return m!==g&&c.val(m),!k||65===b&&a.ctrlKey||(8!==b&&46!==b&&(d=c.caretPos(d,t,n,p)),c.setCaret(d)),c.callbacks(a)}},getMasked:function(a){var q,v,l=[],f=c.val(),g=0,m=d.length,k=0,p=f.length,n=1,u="push",r=-1;for(b.reverse?(u="unshift",n=-1,q=0,g=m-1,k=p-1,v=function(){return-1<g&&-1<k}):(q=m-1,v=function(){return g<m&&k<p});v();){var w=d.charAt(g),x=f.charAt(k),s=h.translation[w];s?(x.match(s.pattern)?(l[u](x),s.recursive&&(-1===r?r=g:g===q&&(g=r-n),q===r&&(g-=n)),g+=n):s.optional&&(g+=n,k-=n),k+=n):(a||l[u](w),x===w&&(k+=n),g+=n)}return a=d.charAt(q),m!==p+1||h.translation[a]||l.push(a),l.join("")},callbacks:function(e){var f=c.val(),h=f!==m;!0===h&&"function"==typeof b.onChange&&b.onChange(f,e,a,b),!0===h&&"function"==typeof b.onKeyPress&&b.onKeyPress(f,e,a,b),"function"==typeof b.onComplete&&f.length===d.length&&b.onComplete(f,e,a,b)}};h.mask=d,h.options=b,h.remove=function(){var b;return c.destroyEvents(),c.val(h.getCleanVal()).removeAttr("maxlength"),b=c.getCaret(),c.setCaret(b-c.getMCharsBeforeCount(b)),a},h.getCleanVal=function(){return c.getMasked(!0)},h.init=function(){b=b||{},h.byPassKeys=[9,16,17,18,36,37,38,39,40,91],h.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},h.translation=f.extend({},h.translation,b.translation),h=f.extend(!0,{},h,b),p=c.getRegexMask(),!1!==b.maxlength&&a.attr("maxlength",d.length),b.placeholder&&a.attr("placeholder",b.placeholder),a.attr("autocomplete","off"),c.destroyEvents(),c.events();var e=c.getCaret();c.val(c.getMasked()),c.setCaret(e+c.getMCharsBeforeCount(e,!0))}()},y={},z=function(){var a=f(this),d={};a.attr("data-mask-reverse")&&(d.reverse=!0),"false"===a.attr("data-mask-maxlength")&&(d.maxlength=!1),a.attr("data-mask-clearifnotmatch")&&(d.clearIfNotMatch=!0),a.mask(a.attr("data-mask"),d)};f.fn.mask=function(a,d){var b=this.selector,h=function(){var b=f(this).data("mask"),h=JSON.stringify;if("object"!=typeof b||h(b.options)!==h(d)||b.mask!==a)return f(this).data("mask",new A(this,a,d))};this.each(h),b&&!y[b]&&(y[b]=!0,setTimeout(function(){f(document).on("DOMNodeInserted.mask",b,h)},500))},f.fn.unmask=function(){try{return this.each(function(){f(this).data("mask").remove().removeData("mask")})}catch(a){}},f.fn.cleanVal=function(){return this.data("mask").getCleanVal()},f("*[data-mask]").each(z),f(document).on("DOMNodeInserted.mask","*[data-mask]",z)}),function($){jQuery(document).ready(function($){if("undefined"!=typeof hgCarSearch){var posttype=jQuery(".hg-car-search").data("posttype"),taxonomy=jQuery(".hg-car-search").data("taxonomy"),perpage=parseInt(jQuery(".hg-car-search").data("perpage")),category=jQuery(".hg-car-search").data("category"),location=jQuery(".hg-car-search").data("location"),sorting=jQuery(".hg-car-search").data("sorting"),city=jQuery(".hg-car-search").data("city"),carType=jQuery(".hg-car-search").data("cartype"),isDemo=jQuery(".hg-car-search").data("isDemo"),curPage=0,searchButtonPressed=!1,request={posttype:posttype,taxonomy:taxonomy,perpage:perpage,ajaxSearch:!!hgCarSearch.ajaxSearch||""},sortingOptions={city:6},onNewServerResponse=function(response){hgCarSearch.ajaxSearch?($(".listings-list").replaceWith(response.cars),window.history&&window.history.pushState&&history.pushState({},"",response.query.url)):searchButtonPressed&&(document.location=response.query.url),$(".hg-car-search").trigger("hg-result-updated",[response]),jQuery(".hg-car-search").removeClass("working")};$("#priceMin").mask("000,000,000",{reverse:!0}),$("#priceMax").mask("000,000,000",{reverse:!0});var modelOpts=$("#car-model").clone(!0),syncModels=function(selectModel){var makeId=$("#car-make").val(),modelId=$("#car-model").val();makeId?($("#car-model").empty(),$("#car-model").append(modelOpts.find("option:eq(0)").clone(!0)),$("#car-model").append(modelOpts.find("[data-make="+makeId+"]").clone(!0))):($("#car-model").empty(),$("#car-model").append(modelOpts.find("option").clone(!0))),makeId||($("#car-model").append(modelOpts.find("option").clone(!0)),$("#car-model").val("")),selectModel&&$("#car-model").val(modelId)};$("#car-make, #car-model").on("change",function(){category="","car-make"==$(this).attr("id")&&syncModels(!1),"car-model"==$(this).attr("id")&&$(this).find("option:selected").val()&&$("#car-make").val($(this).find("option:selected").data("make")),$("#price").val("")}),syncModels(!0);var makeId=$("#car-make").val();makeId&&($("#car-model option[data-make!="+makeId+"]").hide(),$("#car-model option:eq(0)").show()),$("#year-min").on("change",function(){$("#year-min").val()>$("#year-max").val()&&$("#year-max").val($("#year-min").val())}),$("#year-max").on("change",function(){$("#year-max").val()<$("#year-min").val()&&$("#year-min").val($("#year-max").val())}),$(document).on("click",".hg-car-nav-item a",function(){return curPage=$(this).data("page"),searchButtonPressed=!0,$(".hg-car-search").hgCarSearch("_search"),!1}),$(document).on("click",".hg-car-nav-item",function(){return curPage=$(this).data("page"),$(".hg-car-search").hgCarSearch("_search"),!1});var showCities=function(el){$(el).next("select").fadeIn(300,function(){$(el).next("select").focus()}),""!=city&&($(el).val(sortingOptions.city),$(el).next("select").val(city))};$("#search-button").on("click",function(){searchButtonPressed=!0,$(".hg-car-search").hgCarSearch("_search")}),$(".hg-car-search-function").on("change",function(){curPage=0,jQuery("#search").val(""),$(".hg-car-search").hgCarSearch("_search")}),$("input.hg-car-search-function").keypress(function(event){13==event.keyCode&&$(".hg-car-search").hgCarSearch("_search")}),$("#car-type").on("change",function(){var url=$(this).val();return document.location=url,!1}),$("#price-sort").on("change",function(){searchButtonPressed=!0,sorting=$(this).val(),$(this).next("select").fadeOut(),sorting==sortingOptions.city?showCities($(this)):$(".hg-car-search").hgCarSearch("_search")}),""!=city&&void 0!=city&&showCities($("#price-sort")),$("#price-sort+select").on("change",function(){searchButtonPressed=!0,city=$(this).val(),sorting=sortingOptions.city,$(".hg-car-search").hgCarSearch("_search")}),$("#segmentation-filter").on("segmentation.selected",function(e,buttonPressed,search){searchButtonPressed=buttonPressed,updateResult(search)}),$.fn.hgCarSearch=hgJQueryPlugin({location:[]},{init:function(PublicOptions){this.options=$.extend(this.options,this.element.data(),PublicOptions)},setLocation:function(location){this.options.location=location.join(",")},getLocation:function(){return this.options.location.toString().split(",")},search:function(){searchButtonPressed=!0,this._search()},_search:function(){var search="";$(".hg-car-search :input").each(function($){jQuery(this).val()&&0==jQuery(this).hasClass("defaultHidden")&&(search+=(search?"&":"")+jQuery(this).attr("name")+"="+jQuery(this).val().replace(",",""))}),1!=curPage&&(search+=curPage?(search?"&":"")+"onPage="+curPage:"");var qry=jQuery("#search").val();qry&&""!=search&&(search+=qry?(search?"&":"")+"q="+qry:""),category&&(search+=curPage?(search?"&":"")+"car_category="+category:""),location&&(search+=curPage?(search?"&":"")+"location="+location:""),carType&&(search+=(search?"&":"")+"car_type="+carType),""!=sorting&&(search+=(search?"&":"")+"price_sort="+sorting,sorting==sortingOptions.city&&(search+=(search?"&":"")+"city="+city)),""!=isDemo&&(search+=(search?"&":"")+"is_demo="+isDemo),this.options.location&&(search+=(search?"&":"")+"location="+this.options.location);var data=$.extend({},request,{action:"update_fields",make:$("#car-make").val(),model:$("#car-model").val(),lang:"en",term:search,paged:curPage});0==searchButtonPressed&&jQuery(".hg-car-search").addClass("working"),$.ajax({type:"POST",url:hgCarSearch.ajaxUrl,data:data,dataType:"json",success:onNewServerResponse})}}),$(".hg-car-search").hgCarSearch()}})}(jQuery),function($){"use strict";$.fn.bjqs=function(o){var defaults={width:700,height:300,animtype:"fade",animduration:450,animspeed:4e3,automatic:!0,showcontrols:!0,centercontrols:!0,nexttext:"Next",prevtext:"Prev",showmarkers:!0,centermarkers:!0,keyboardnav:!0,hoverpause:!0,usecaptions:!0,randomstart:!1,responsive:!1},settings=$.extend({},defaults,o),$wrapper=this,$slider=$wrapper.find("ul.bjqs"),$slides=$slider.children("li"),$c_wrapper=null,$c_fwd=null,$c_prev=null,$m_wrapper=null,$m_markers=null,$canvas=null,$clone_first=null,$clone_last=null,state={slidecount:$slides.length,animating:!1,paused:!1,currentslide:1,nextslide:0,currentindex:0,nextindex:0,interval:null},responsive={width:null,height:null,ratio:null},vars={fwd:"forward",prev:"previous"},conf_responsive=function(){responsive.width=$wrapper.outerWidth(),responsive.ratio=responsive.width/settings.width,responsive.height=settings.height*responsive.ratio,"fade"===settings.animtype&&($slides.css({height:settings.height,width:"100%"}),$slides.children("img").css({height:settings.height,width:"100%"}),$slider.css({height:settings.height,width:"100%"}),$wrapper.css({height:settings.height,"max-width":settings.width,position:"relative"}),responsive.width<settings.width&&($slides.css({height:responsive.height}),$slides.children("img").css({height:responsive.height}),$slider.css({height:responsive.height}),$wrapper.css({height:responsive.height})),$(window).resize(function(){responsive.width=$wrapper.outerWidth(),responsive.ratio=responsive.width/settings.width,responsive.height=settings.height*responsive.ratio,$slides.css({height:responsive.height}),$slides.children("img").css({height:responsive.height}),$slider.css({height:responsive.height}),$wrapper.css({height:responsive.height})})),"slide"===settings.animtype&&($slides.css({height:settings.height,width:settings.width}),$slides.children("img").css({height:settings.height,width:settings.width}),$slider.css({height:settings.height,width:settings.width*settings.slidecount}),$wrapper.css({height:settings.height,"max-width":settings.width,position:"relative"}),responsive.width<settings.width&&($slides.css({height:responsive.height}),$slides.children("img").css({height:responsive.height}),$slider.css({height:responsive.height}),$wrapper.css({height:responsive.height})),$(window).resize(function(){responsive.width=$wrapper.outerWidth(),responsive.ratio=responsive.width/settings.width,responsive.height=settings.height*responsive.ratio,$slides.css({height:responsive.height,width:responsive.width}),$slides.children("img").css({height:responsive.height,width:responsive.width}),$slider.css({height:responsive.height,width:responsive.width*settings.slidecount}),$wrapper.css({height:responsive.height}),$canvas.css({height:responsive.height,width:responsive.width}),resize_complete(function(){go(!1,state.currentslide)},200,"some unique string")}))},resize_complete=function(){var timers={};return function(callback,ms,uniqueId){uniqueId||(uniqueId="Don't call this twice without a uniqueId"),timers[uniqueId]&&clearTimeout(timers[uniqueId]),timers[uniqueId]=setTimeout(callback,ms)}}(),conf_static=function(){$slides.css({height:settings.height,width:settings.width}),$slider.css({height:settings.height,width:settings.width}),$wrapper.css({height:settings.height,width:settings.width,position:"relative"})},conf_slide=function(){$clone_first=$slides.eq(0).clone(),$clone_last=$slides.eq(state.slidecount-1).clone(),$clone_first.attr({"data-clone":"last","data-slide":0}).appendTo($slider).show(),$clone_last.attr({"data-clone":"first","data-slide":0}).prependTo($slider).show(),$slides=$slider.children("li"),state.slidecount=$slides.length,$canvas=$('<div class="bjqs-wrapper"></div>'),settings.responsive&&responsive.width<settings.width?($canvas.css({width:responsive.width,height:responsive.height,overflow:"hidden",position:"relative"}),$slider.css({width:responsive.width*(state.slidecount+2),left:-responsive.width*state.currentslide})):($canvas.css({width:settings.width,height:settings.height,overflow:"hidden",position:"relative"}),$slider.css({width:settings.width*(state.slidecount+2),left:-settings.width*state.currentslide})),$slides.css({float:"left",position:"relative",display:"list-item"}),$canvas.prependTo($wrapper),$slider.appendTo($canvas)},conf_controls=function(){if($c_wrapper=$('<ul class="bjqs-controls"></ul>'),$c_fwd=$('<li class="bjqs-next"><a href="#" data-direction="'+vars.fwd+'">'+settings.nexttext+"</a></li>"),$c_prev=$('<li class="bjqs-prev"><a href="#" data-direction="'+vars.prev+'">'+settings.prevtext+"</a></li>"),$c_wrapper.on("click","a",function(e){e.preventDefault();var direction=$(this).attr("data-direction");state.animating||(direction===vars.fwd&&go(vars.fwd,!1),direction===vars.prev&&go(vars.prev,!1))}),$c_prev.appendTo($c_wrapper),$c_fwd.appendTo($c_wrapper),$c_wrapper.appendTo($wrapper),settings.centercontrols){$c_wrapper.addClass("v-centered");var offset=($wrapper.height()-$c_fwd.children("a").outerHeight())/2/settings.height*100+"%";$c_fwd.find("a").css("top",offset),$c_prev.find("a").css("top",offset)}},conf_markers=function(){if($m_wrapper=$('<ol class="bjqs-markers"></ol>'),$.each($slides,function(key,slide){var slidenum=key+1,gotoslide=key+1;"slide"===settings.animtype&&(gotoslide=key+2);var marker=$('<li id="sliderMark'+slidenum+'"><a href="#">'+slidenum+"</a></li>");slidenum===state.currentslide&&marker.addClass("active-marker"),marker.on("click","a",function(e){e.preventDefault(),state.animating||state.currentslide===gotoslide||go(!1,gotoslide)}),marker.appendTo($m_wrapper)}),$m_wrapper.appendTo($wrapper),$m_markers=$m_wrapper.find("li"),settings.centermarkers){$m_wrapper.addClass("h-centered");var offset=(settings.width-$m_wrapper.width())/2;$m_wrapper.css("left",offset)}},conf_keynav=function(){$(document).keyup(function(event){state.paused||(clearInterval(state.interval),state.paused=!0),state.animating||(39===event.keyCode?(event.preventDefault(),go(vars.fwd,!1)):37===event.keyCode&&(event.preventDefault(),go(vars.prev,!1))),state.paused&&settings.automatic&&(state.interval=setInterval(function(){go(vars.fwd)},settings.animspeed),state.paused=!1)})},conf_hoverpause=function(){$wrapper.hover(function(){state.paused||(clearInterval(state.interval),state.paused=!0)},function(){state.paused&&(state.interval=setInterval(function(){go(vars.fwd,!1)},settings.animspeed),state.paused=!1)})},conf_captions=function(){$.each($slides,function(key,slide){var caption=$(slide).children("img:first-child").attr("title");caption||(caption=$(slide).children("a").find("img:first-child").attr("title")),caption&&(caption=$('<p class="bjqs-caption">'+caption+"</p>")).appendTo($(slide))})},conf_random=function(){var rand=Math.floor(Math.random()*state.slidecount)+1;state.currentslide=rand,state.currentindex=rand-1},set_next=function(direction){direction===vars.fwd?$slides.eq(state.currentindex).next().length?(state.nextindex=state.currentindex+1,state.nextslide=state.currentslide+1):(state.nextindex=0,state.nextslide=1):$slides.eq(state.currentindex).prev().length?(state.nextindex=state.currentindex-1,state.nextslide=state.currentslide-1):(state.nextindex=state.slidecount-1,state.nextslide=state.slidecount)},go=function(direction,position){if(!state.animating&&(state.animating=!0,position?(state.nextslide=position,state.nextindex=position-1):set_next(direction),"fade"===settings.animtype&&(settings.showmarkers&&($m_markers.removeClass("active-marker"),$m_markers.eq(state.nextindex).addClass("active-marker")),$slides.eq(state.currentindex).fadeOut(settings.animduration),$slides.eq(state.nextindex).fadeIn(settings.animduration,function(){state.animating=!1,state.currentslide=state.nextslide,state.currentindex=state.nextindex})),"slide"===settings.animtype)){if(settings.showmarkers){var markerindex=state.nextindex-1;markerindex===state.slidecount-2?markerindex=0:-1===markerindex&&(markerindex=state.slidecount-3),$m_markers.removeClass("active-marker"),$m_markers.eq(markerindex).addClass("active-marker")}settings.responsive&&responsive.width<settings.width?state.slidewidth=responsive.width:state.slidewidth=settings.width,$slider.animate({left:-state.nextindex*state.slidewidth},settings.animduration,function(){state.currentslide=state.nextslide,state.currentindex=state.nextindex,"last"===$slides.eq(state.currentindex).attr("data-clone")?($slider.css({left:-state.slidewidth}),state.currentslide=2,state.currentindex=1):"first"===$slides.eq(state.currentindex).attr("data-clone")&&($slider.css({left:-state.slidewidth*(state.slidecount-2)}),state.currentslide=state.slidecount-1,state.currentindex=state.slidecount-2),state.animating=!1})}};!function(){$slides.addClass("bjqs-slide"),settings.responsive?conf_responsive():conf_static(),state.slidecount>1?(settings.randomstart&&conf_random(),settings.showcontrols&&conf_controls(),settings.showmarkers&&conf_markers(),settings.keyboardnav&&conf_keynav(),settings.hoverpause&&settings.automatic&&conf_hoverpause(),"slide"===settings.animtype&&conf_slide()):settings.automatic=!1,settings.usecaptions&&conf_captions(),"slide"!==settings.animtype||settings.randomstart||(state.currentindex=1,state.currentslide=2),$slider.show(),$slides.eq(state.currentindex).show(),settings.automatic&&(state.interval=setInterval(function(){go(vars.fwd,!1)},settings.animspeed))}()}}(jQuery),function($){$(document).on("page-segment-load",function(){$("[data-role=hg-car-favorite]").hgCarFavorite({})}),$(document).ready(function(){$.fn.hgCarFavorite=hgJQueryPlugin({cookieUhash:"bookmark-uhash",cookieFavoritesOld:"bookmark-cars",cookieFavorites:"bookmark-vehicles",maxFavorites:24},{favorites:{},init:function(PublicOptions){this.updated=0,this.uhashWasChecked=!1,this.options=$.extend(this.options,this.element.data(),PublicOptions),this.favorites={},this.uhash=this._getUHashFromCookie(),this.favorites=this._getCarFavoriteFromCookie(),this._updateCarFavoriteFromDB(),setTimeout($.proxy(this._requestUpdateView,this),1e3)},email:function(hgCarFavoriteEmail){this.favorites=this._getCarFavoriteFromCookie(),this._setCarFavoriteEmail(this.favorites,hgCarFavoriteEmail)},save:function(hgCarFavoriteEntry){Object.keys(this.favorites).length>=this.options.maxFavorites?(this._requestUpdateView(),this._triggerError({id:"1",code:"TOO_MANY_FAVORITES",param:hgCarFavoriteEntry})):(this.favorites[hgCarFavoriteEntry.vehicle_id]=hgCarFavoriteEntry.follow.priceDrop?"1":"0",hgCarFavoriteEntry.deleted=0,this._setCarFavorite(hgCarFavoriteEntry),this.element.trigger("update",[this.favorites]),this.element.trigger("save",[hgCarFavoriteEntry]))},unSave:function(hgCarFavoriteEntry){delete this.favorites[hgCarFavoriteEntry.vehicle_id],hgCarFavoriteEntry.deleted=1,this._setCarFavorite(hgCarFavoriteEntry),this.element.trigger("update",[this.favorites]),this.element.trigger("unsave",[hgCarFavoriteEntry])},refresh:function(){this._requestUpdateView()},_requestUpdateView:function(){var triggerName="update";void 0!==this.favorites&&this.favorites||(triggerName="ready",this.favorites=this._getCarFavoriteFromCookie()),this.element.trigger(triggerName,[this.favorites])},_requestUserEmail:function(hgCarFavoriteEntry){this.element.trigger("noUser",[hgCarFavoriteEntry])},_triggerError:function(hgCarFavoriteError){this.element.trigger("error",[hgCarFavoriteError])},_isValidUserHash:function(uhash){return!!this._isUserHashString(uhash)&&(this._checkCarFavoriteUserOnce(uhash),!0)},_isUserHashString:function(uhash){return/[0-9A-Fa-f]{32}/g.test(uhash)},_getUHashFromCookie:function(){this._tryConvertUhashCoockie();var json=$.cookie(this.options.cookieUhash),obj=this._parseJsonToObject(json);return this.updated=void 0!==obj.updated?obj.updated:this.updated,this._isUserHashString(obj.uhash)?obj.uhash:null},_getCarFavoriteFromCookie:function(){if(void 0===$.cookie)return{};this._tryConvertVehicleCookie();var json=$.cookie(this.options.cookieFavorites);return this._parseJsonToObject(json)},_updateCarFavoriteCookie:function(uhash,hgCarFavoriteSaves){if(this._isUserHashString(uhash)){this.uhash=uhash;var HgCarFavoriteUhash={uhash:uhash,updated:Date.now()};$.cookie(this.options.cookieUhash,JSON.stringify(HgCarFavoriteUhash),{expires:365,path:"/"})}!1!==hgCarFavoriteSaves&&(this.favorites=void 0!==hgCarFavoriteSaves.length&&0===hgCarFavoriteSaves.length?{}:hgCarFavoriteSaves,$.cookie(this.options.cookieFavorites,JSON.stringify(this.favorites),{expires:365,path:"/"}))},_parseJsonToObject:function(jsonString){var toReturn={};return jsonString&&"[]"!=jsonString&&"null"!=jsonString&&jsonString!=[]&&"%5B%5D"!=jsonString&&(toReturn=JSON.parse(jsonString)),toReturn},_updateCarFavoriteFromDB:function(){if(this.favorites=this._getCarFavoriteFromCookie(),this.uhash=this._getUHashFromCookie(),this._isUserHashString(this.uhash))if(this.updated>Date.now()-18e5);else{var message=JSON.stringify({do:"get",uhash:this.uhash,page_url:document.location.href,vehicle_ids:this.favorites});$.ajax({type:"POST",url:hgCarFavorite.ajaxUrl,data:message,contentType:"application/json; charset=utf-8",dataType:"json",success:$.proxy(this._onAjaxGetSuccess,this)})}else;},_onAjaxGetSuccess:function(data){this._isUserHashString(data.uhash)&&void 0!==data.vehicle_ids&&(this._updateCarFavoriteCookie(data.uhash,data.vehicle_ids),this._requestUpdateView())},_setCarFavorite:function(hgCarFavoriteEntry){if(this._isValidUserHash(this.uhash)){var message=JSON.stringify({do:"set",uhash:this.uhash,page_url:document.location.href,vehicle_ids:this.favorites,entry:hgCarFavoriteEntry});$.ajax({type:"POST",url:hgCarFavorite.ajaxUrl,data:message,contentType:"application/json; charset=utf-8",dataType:"json",success:$.proxy(this._onAjaxSetSuccess,this)})}else this._updateCarFavoriteCookie(!1,this.favorites),this._requestUpdateView(),this._requestUserEmail(hgCarFavoriteEntry);this._updateCarFavoriteCookie(!1,this.favorites)},_onAjaxSetSuccess:function(data){this._isUserHashString(data.uhash)&&void 0!==data.vehicle_ids&&(this._updateCarFavoriteCookie(data.uhash,data.vehicle_ids),this._requestUpdateView())},_setCarFavoriteEmail:function(vehicleIds,hgCarFavoriteEmail){var message=JSON.stringify({do:"email",page_url:document.location.href,vehicle_ids:vehicleIds,email:hgCarFavoriteEmail.email});$.ajax({type:"POST",url:hgCarFavorite.ajaxUrl,data:message,contentType:"application/json; charset=utf-8",dataType:"json",success:$.proxy(this._onAjaxEmailSuccess,this)})},_onAjaxEmailSuccess:function(data){this._isUserHashString(data.uhash)&&(this._updateCarFavoriteCookie(data.uhash,data.vehicle_ids),this._requestUpdateView())},_checkCarFavoriteUserOnce:function(uhash){if(!1===this.uhashWasChecked){var message=JSON.stringify({do:"user",page_url:document.location.href,uhash:uhash});$.ajax({type:"POST",url:hgCarFavorite.ajaxUrl,data:message,contentType:"application/json; charset=utf-8",dataType:"json",success:$.proxy(this._onAjaxCheckUserSuccess,this)})}this.uhashWasChecked=!0},_onAjaxCheckUserSuccess:function(data){data.message,"invalid uhash"==data.message&&this._updateCarFavoriteCookie(data.uhash,this._getCarFavoriteFromCookie())},_tryConvertVehicleCookie:function(){var json=$.cookie(this.options.cookieFavoritesOld);if(json&&"null"!=json){var message=JSON.stringify({do:"convert",page_url:document.location.href,stocks:this._parseJsonToObject(json)});$.ajax({type:"POST",url:hgCarFavorite.ajaxUrl,data:message,contentType:"application/json; charset=utf-8",dataType:"json",async:!1,success:$.proxy(this._onAjaxConvertSuccess,this)})}},_onAjaxConvertSuccess:function(data){this._updateCarFavoriteCookie(!1,data.vehicle_ids),$.cookie(this.options.cookieFavoritesOld,"",{expires:-1})},_tryConvertUhashCoockie:function(){var obj,json=$.cookie(this.options.cookieUhash);try{return obj=this._parseJsonToObject(json),obj.uhash,void obj.updated}catch(e){obj={}}json&&"null"!=json&&this._updateCarFavoriteCookie(json,!1)}}),$("[data-role=hg-car-favorite]").hgCarFavorite({})})}(jQuery),function($){$.carFavorite=function(){function updateViewFavorites(hgCarFavoriteSaves){$(".bookmark-icon").each(function(i,node){var checked=1==hgCarFavoriteSaves[$(node).data("vehid")];void 0!=hgCarFavoriteSaves[$(node).data("vehid")]?($(node).addClass("selected"),$(node).removeClass("likes"),$(node).addClass("unlikes"),$('input[data-vehid="'+$(node).data("vehid")+'"]').is(":checkbox")?$('input[data-vehid="'+$(node).data("vehid")+'"]').prop("checked",checked).show():$('input[data-vehid="'+$(node).data("vehid")+'"]').val(checked?1:0)):($(node).removeClass("selected"),$(node).removeClass("unlikes"),$(node).addClass("likes"))});var cnt=0;for(var vehid in hgCarFavoriteSaves)vehid&&cnt++;$(".favorite-count").text(cnt).toggleClass("visible",cnt>0)}function displayPluginErrorMessage(code){jQuery.isFunction(swal)&&swal({title:favoritesErrorMessages[code][favoritesLang].title,text:favoritesErrorMessages[code][favoritesLang].text,type:"error",html:!1,confirmButtonText:"Ok"},function(confirm){return null})}function updateBookmark(bookmarkElem,checkboxElem,vehid){var priceDrop;priceDrop=1==(priceDrop=$(checkboxElem).is(":checkbox")?$(checkboxElem).prop("checked")?$(checkboxElem).val():0:$(checkboxElem).val())?1:0,$(bookmarkElem).hasClass("selected")?($(commElementSelector).hgCarFavorite("save",{vehicle_id:vehid,follow:{priceDrop:priceDrop}}),$(checkboxElem).show(),$(checkboxElem).removeClass("likes"),$(checkboxElem).addClass("unlikes")):($(commElementSelector).hgCarFavorite("unSave",{vehicle_id:vehid}),$(checkboxElem).hide(),$(checkboxElem).removeClass("unlikes"),$(checkboxElem).addClass("likes"))}var commElementSelector="#car-favorite",favoritesLang=$("html").attr("lang"),favoritesErrorMessages={TOO_MANY_FAVORITES:{fr:{title:"Erreur",text:"Vous avez trop de favoris, veuillez en effacer avant d'en ajouter plus"},en:{title:"Error",text:"You have too many favorites, please delete a favorite before you add more"}}};if($(commElementSelector).on("error",function(evnt,hgCarFavoriteError){displayPluginErrorMessage(hgCarFavoriteError.code)}),$(commElementSelector).on("update ready",function(evnt,hgCarFavoriteSaves){updateViewFavorites(hgCarFavoriteSaves)}),jQuery.isFunction($.fn.hgCarFavorite)){$(commElementSelector).on("noUser",function(evnt,hgCarFavoriteEntry){var short_uid="xxxx-4xxx-yxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)});$(commElementSelector).hgCarFavorite("email",{email:"$uid$"+short_uid+"@"+Date.now()+".uid"})});var onBookmarkIconClick=function(evnt){var vehid=$(evnt.currentTarget).data("vehid");$(evnt.currentTarget).hasClass("likes")?$(commElementSelector).hgCarFavorite("save",{vehicle_id:vehid,follow:{priceDrop:0}}):$(commElementSelector).hgCarFavorite("unSave",{vehicle_id:vehid})};$(document).on("click",".bookmark-icon",onBookmarkIconClick),$(document).on("click",".pricedrop-checkbox",function(evnt){updateBookmark($('i[data-vehid="'+$(this).attr("data-vehid")+'"]').first(),this,$(this).attr("data-vehid"))}),$("#hg-car-favorite-submit").on("click",function(evnt){$(commElementSelector).hgCarFavorite("email",{email:$(this).siblings('input[name="email"]').val()})}),$(document).on("submit","form",function(evnt){$(this).find('input[name="email"]').length}),$(".search-content").on("searchbox.response",function(){$(commElementSelector).hgCarFavorite("refresh")})}},$(document).ready(function(){$.carFavorite()})}(jQuery),function($){$(document).ready(function(){var selectedDate="",rsvDiv=$("[data-role='hg-car-reservation']");if(!(rsvDiv.length<=0)){var pad=function(n,width,z){return z=z||"0",n+="",n.length>=width?n:new Array(width-n.length+1).join(z)+n},updateRequestedAppointment=function(){if(selectedDate){var year=pad(selectedDate.getUTCFullYear(),2),month=pad(selectedDate.getUTCMonth()+1,2),day=pad(selectedDate.getUTCDate(),2),dt=year+"-"+month+"-"+day+" "+$('[name="time"]').val()+":00";rsvDiv.find('[name="requestedAppointment"]').val(dt);var weekDay=hgLanguage.translation.weekdays[selectedDate.getDay()],month=hgLanguage.translation.months[selectedDate.getMonth()];rsvDiv.find("[data-value='date']").text(weekDay+" "+day+" "+month+" "+selectedDate.getFullYear()),rsvDiv.find("[data-value='time']").text($('[name="time"]').val().replace(":"," H "))}};rsvDiv.find(".dropdown").change(updateRequestedAppointment);var startDate=new Date;startDate.setDate((new Date).getDate()+1);var endDate=new Date;endDate.setDate((new Date).getDate()+2),updateRequestedAppointment();var today=new Date,tomorrowDay=today.getDate()+1,tomorrow=new Date;tomorrow.setDate(tomorrowDay);var d=new Date;1==tomorrow.getDate()&&(d=tomorrow);var $datepicker=rsvDiv.find(".datepicker").pikaday({firstDay:1,minDate:startDate,maxDate:endDate,yearRange:[tomorrow.getFullYear()-1,tomorrow.getFullYear()],bound:!1,container:document.getElementById("date-picker-container"),i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:hgLanguage.translation.months,weekdays:hgLanguage.translation.weekdays,weekdaysShort:hgLanguage.translation.weekdayssmall},onSelect:function(dates){selectedDate=dates,rsvDiv.trigger("reservation-date-selected",[selectedDate]),updateRequestedAppointment()},defaultDate:d}),reservation=null,confirmLongDistance=function(){$("[data-role='hg-car-reservation'] [name=formulaire-reserver] input[name=confirmLongDistance]").val(1),$("[data-role='hg-car-reservation'] form[name=formulaire-reserver]").submit()},showMessage=function(messageDomId,response){var dm=$("#"+messageDomId),confirmLabel=dm.data("confirmlabel"),cancelLabel=dm.data("cancellabel");swal({title:dm.find("[name=title]").text(),text:dm.find("[name=text]").html().replace(/(%([A-Za-z\.]+)%)/g,function(a,b,c){return console.log(c),console.log(eval("response."+c)),eval("response."+c)}),type:dm.data("type"),html:!0,showCancelButton:void 0!=cancelLabel,confirmButtonText:confirmLabel||"Ok",cancelButtonText:cancelLabel||null},function(confirm){if(confirm){var url=dm.data("confirmurl");void 0!=url&&(document.location=url);var action=dm.data("confirmaction");void 0!=action&&eval(action+"()")}})},forms=[];$("[data-role='hg-car-reservation'] form").submit(function(e){e.preventDefault();var fieldSer=$(this).serializeArray(),formName=$(this).attr("name"),action=$(this).data("action");reservation={};for(var i=0;i<fieldSer.length;i++)reservation[fieldSer[i].name]=fieldSer[i].value;forms[formName]=reservation,$(this).find(".error-input").length>0||($(this).find("button").attr("disabled","disabled"),$.ajax({type:"POST",url:hgCarReservation.reserveAjaxUrl.replace("{ACTION}",action),dataType:"json",data:JSON.stringify(reservation),contentType:"application/json; charset=utf-8",success:function(response){"error"==(response=$.extend({},response,{firstname:reservation["customer.firstname"],lastname:reservation["customer.lastname"]})).result&&$("#"+response.exception).length>0&&showMessage(response.exception,response),"success"==response.result&&"formulaire-reserver"==formName&&($('form[name="confirm-sms"] input[name="reservationId"]').val(response.reservationId),$('form[name="formulaire-reserver"]').hide(),$('form[name="confirm-sms"]').show()),"success"==response.result&&"confirm-sms"==formName&&($(document).trigger("reservation.success",[forms]),showMessage("ReservationSuccess",response))},complete:function(jqXHR,textStatus){$("[data-role='hg-car-reservation'] form").find("button").removeAttr("disabled")}}))})}})}(jQuery),Array.prototype.pushUnique=function(item){return-1==this.indexOf(item)&&(this.push(item),!0)},function($){$(function(){function toggleResponsiveClass(){is_mobile=window.is_mobile=$(window).width()<=750,is_tablet=window.is_tablet=$(window).width()<=1019,$("body").toggleClass("is-tablet",is_tablet).toggleClass("is-mobile",is_mobile)}function openCarSearchMakes(){$("#car-search .right-box .content .makes").addClass("open"),is_mobile&&$("body").addClass("overflow-hidden"),setTimeout(function(){jQuery(".item-list.makes ul").hgLiSortColumn()},300)}function openCarSearchCategories(){$("#car-search .right-box .content .categories").addClass("open"),is_mobile&&$("body").addClass("overflow-hidden")}function resetContents(){$("#car-search .right-box .content .cont").removeClass("open")}function initialize(){var style=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]}],mapOptions={center:{lat:46.924132,lng:-72.506643},zoom:$(window).width()<=1024?6:7,disableDefaultUI:!0,zoomControl:!1,styles:style,scrollwheel:!1},pid=setInterval(function(){jQuery("#gmapvisible").visible()&&(map=new google.maps.Map(document.getElementById("gmap"),mapOptions),placeMarkers(),clearTimeout(pid),$(".map-info.map-one").length>0&&(entryName=$(".map-info ul li a").parent().data("name"),goToMarker(entryName)))},300)}function fixMapheight(){$("#your-hgregoire").animate({opacity:0},10,function(){$("#your-hgregoire>#gmap").height($("#your-hgregoire .map-info").height()),$("#your-hgregoire").css({opacity:1})})}function resizeend(){new Date-rtime<delta?setTimeout(resizeend,delta):(timeout=!1,fixMapheight())}function placeMarkers(){$.each(hg_loc_infos,function(name,entry){markers[name]=marker=new google.maps.Marker({map:map,animation:google.maps.Animation.DROP,position:new google.maps.LatLng(entry.latitude,entry.longitude),icon:normalIcon}),marker.hgentry=entry,google.maps.event.addListener(marker,"click",markerClick)})}function goToMarker(entryName){mark=markers[entryName],void 0!==selectedMarker&&selectedMarker.setIcon(normalIcon),mark.setIcon(selectedIcon),selectedMarker=mark,map.panTo(mark.getPosition()),showInfoWindow(mark)}function toggleMarker(marker){void 0!==selectedMarker&&selectedMarker.setIcon(normalIcon),marker.setIcon(selectedIcon),selectedMarker=marker,map.panTo(marker.getPosition()),loc=whichLocation(marker.getPosition()),showInfoWindow(marker)}function showInfoWindow(marker){var entry=marker.hgentry;encodeURIComponent(entry.latitude+","+entry.longitude);infoBox.find(".entry-name").text(entry.name),infoBox.find(".entry-address1").text(entry.address1),infoBox.find(".entry-address2").text(entry.address2+" "+entry.address3),infoBox.find(".entry-phone").text(entry.phone),infoBox.find(".entry-url").attr("href",entry.url);var myOptions={content:infoBox.html(),disableAutoPan:!1,maxWidth:0,pixelOffset:new google.maps.Size(30,-90),zIndex:3,closeBoxMargin:"10px 2px 2px 2px",closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1};void 0!==selectedInfowindow&&selectedInfowindow.close(),(selectedInfowindow=new InfoBox(myOptions)).open(map,marker)}function fillResults(results){$(".map-results .result:not(.template)").remove(),$.each(results,function(i,marker){var store=marker.hgentry,gmaps_url="http://maps.google.com/maps/place/"+encodeURIComponent(store.latitude+","+store.longitude);$(".map-results .result.template").clone().removeClass("template").addClass(store.name).appendTo($(".map-results")).find(".type").html(store.type).end().find(".name").text(store.name).end().find(".address").html([store.address1,store.address2,store.address3].join("<br>")).end().find(".tel span").text(store.phone).end().find(".tel").attr("href","tel:"+store.phone).end().find(".icon-pin").wrap("<a href='"+gmaps_url+"' target='_blank'></a>").end().show()}),$(".map-results").slideDown(),$(".map-search").addClass("results-open")}function whichLocation(location){return findWithAttr([location.lat(),location.lng()])}function findWithAttr(coords){var res=!1;return $.each(hg_loc_infos,function(i,val){val.longitude==coords[0]&&val.latitude==parseFloat(coords[1].toFixed(6))&&(res=i)}),res||!1}function calculateur(frm,price){var errors="",$form=$(frm),PrixVente=parseFloat($form.find('[name="prix-vente"]').val()),NbMois=parseFloat($form.find('[name="mois"]').val()),Comptant=parseFloat($form.find('[name="comptant"]').val()),Taux=parseFloat($form.find('[name="taux"]').val()),Taxes=$form.find('[name="taxes"]').prop("checked");if(isNaN(PrixVente)&&(errors+="- Vous devez entrer un prix de vente valide\n"),isNaN(Taux)&&(errors+="- Vous devez entrer un taux valide\n"),""==errors){var i,Pow=1,Mensualite=0;if(Taxes&&(PrixVente*=1.14975),0==Taux)Mensualite=(PrixVente-Comptant)/NbMois;else{for(Taux=Taux/100/12,i=0;i<NbMois;i++)Pow*=1+Taux;Mensualite=(PrixVente-Comptant)*Pow*Taux/(Pow-1)}Mensualite+"$",Mensualite=Math.round(100*Mensualite),Mensualite=(Mensualite/=100).toFixed(2),$form.find('[name="prix"]').val(Mensualite+"$")}else alert("Oops!\n\n"+errors)}is_mobile=window.is_mobile=$(window).width()<=750,is_tablet=window.is_tablet=$(window).width()<=1019;var $body=$(document.body);toggleResponsiveClass(),$(window).resize(toggleResponsiveClass),$(document).on("hide.bs.modal hidden.bs.modal show.bs.modal shown.bs.modal",null,function(e){switch(e.type){case"hide":$body.addClass("modal-hiding");break;case"hidden":$body.removeClass("modal-hiding");break;case"show":$body.addClass("modal-opening");break;case"shown":$body.removeClass("modal-opening")}}),$("#top-bar a.icon-recherche").bind("click",function(e){e.preventDefault(),$("#top_bar_search .container").hasClass("show")?($("#top_bar_search .container").removeClass("show"),$(this).removeClass("opened")):($("#top_bar_search .container").addClass("show"),$("#top_bar_search input").first().focus(),$(this).addClass("opened"))});var $selected=$("#top-bar nav > ul > li.selected");if($("#top-bar nav li.slide").css({left:$selected.length?$selected.position().left:0,width:0}),$("#top-bar nav > ul > li").on("mouseenter",function(){$("#top-bar nav li.slide").show().css({left:$(this).position().left,width:$(this).css("width")})}),$("#top-bar nav").on("mouseleave",function(){$("#top-bar nav li.slide").fadeOut("fast")}),$(".mobile_nav_toggle").bind("click",function(e){$("#mobile_menu_overlay").hasClass("open")||($("#top-bar").addClass("menu-mobile-opened"),$("#mobile_menu_overlay").addClass("open"),$(".overlay_shadow").addClass("open"),$("#mobile_menu").addClass("open"),$("body").addClass("no-scroll"))}),$("#mobile_menu ul li.close .close-btn").bind("click",function(e){$("#mobile_menu_overlay").removeClass("open"),$(".overlay_shadow").removeClass("open"),$("#mobile_menu").removeClass("open"),$("#top-bar").removeClass("menu-mobile-opened"),$("body").removeClass("no-scroll")}),$("#car-search .left-box a.btn").bind("click",function(e){e.preventDefault();var button=$(e.target).closest("#car-search .left-box a.btn");button.hasClass("disabled")||($("#car-search .left-box a.btn").removeClass("selected"),button.addClass("selected"),resetContents(),$("#car-search .right-box").addClass("open"),button.hasClass("makes")?openCarSearchMakes():button.hasClass("models")?($("#car-search .right-box .content .models").addClass("open"),is_mobile&&$("body").addClass("overflow-hidden")):button.hasClass("categories")&&openCarSearchCategories())}),$("#car-search .right-box .close-btn").bind("click",function(e){e.preventDefault(),$("#car-search .left-box a.btn").removeClass("selected"),$("#car-search .right-box .content").removeClass("open"),$("#car-search .right-box .content .cont").removeClass("open"),$("#car-search .right-box").removeClass("open"),is_mobile&&$("body").removeClass("overflow-hidden")}),$("#car-search .right-box .content .makes ul li a").bind("click",function(e){var button=$(e.target).closest("a");$("#car-search .left-box a.models").removeClass("disabled"),button.hasClass("selected")?button.removeClass("selected"):button.addClass("selected")}),$("#top-section .mobile select").bind("click",function(e){var button=$(e.target)[0].previousElementSibling;$(button).addClass("selected")}),$("#top-section .mobile select").bind("change",function(e){var button=$(e.target)[0].previousElementSibling;$(button).removeClass("selected")}),$("#top-section .mobile select").bind("focusout",function(e){$("#top-section .mobile a.btn").removeClass("selected")}),$("#why-hgregoire").length){var pos=$("#why-hgregoire").position().top;$(window).scroll(function(){$("#why-hgregoire").hasClass("animated")||$(this).scrollTop()>pos-400&&($("#why-hgregoire").addClass("animated"),setTimeout(function(){$("#why-hgregoire .stamp").addClass("show")},250),setTimeout(function(){$.each($("#why-hgregoire .slide1 .half.right ul li"),function(index,item){setTimeout(function(){$(item).addClass("show")},300*(index+1))})},1500),setTimeout(function(){$("#why-hgregoire .slide1 .half.right span").addClass("show")},2700))})}var map,markers={},selectedMarker=void 0,selectedInfowindow=void 0,hg_locations={},hg_loc_infos={};jQuery('.map-info li[data-type="occasion"]').each(function(){var data=$(this).data();data.url=$(this).find("a").attr("href"),void 0!==data.name&&(hg_locations[data.name]=[data.latitude,data.longitude],hg_loc_infos[data.name]=data)});var rtime,timeout=!1,delta=200;if($(window).resize(function(){rtime=new Date,!1===timeout&&(timeout=!0,setTimeout(resizeend,delta))}),(void 0===iexplorer||iexplorer>8)&&"undefined"!=typeof google){google.maps.event.addDomListener(window,"load",initialize),fixMapheight();var winH=$(window).height();$("body").height();$("#store-search").bind("keyup",function(e){$(this).closest("form").toggleClass("dirty",""!=$(this).val())});var normalIcon={url:hgregoire.themeUrl+"/img/pin-normal.png",scaledSize:new google.maps.Size(28,40)},selectedIcon={url:hgregoire.themeUrl+"/img/pin-selected.png",scaledSize:new google.maps.Size(28,40)};markerClick=function(){null!=marker.getAnimation()?marker.setAnimation(null):marker.setAnimation(google.maps.Animation.BOUNCE),void 0!==selectedMarker&&selectedMarker.setIcon(normalIcon),this.setIcon(selectedIcon),selectedMarker=this,loc=whichLocation(this.getPosition()),map.panTo(this.getPosition()),showInfoWindow(this)};var infoBox=jQuery("<div>").append(jQuery("#map-infobox").remove());$(document).on("click",".map-results .close-btn",function(){$(this).addClass("hide"),$(".map-results").slideUp(),$(".map-search").removeClass("results-open"),$(this).removeClass("hide")}),$(".map-info ul li a").bind("click",function(e){e.preventDefault(),entryName=$(e.target).parent().data("name"),goToMarker(entryName)}),$("#search-box").submit(function(e){e.preventDefault();var data={action:"gmap_geocode",address:$(".store-search").val()};$.ajax({url:hg_ajaxurl,dataType:"json",method:"post",data:data,success:function(data){if(data){var from=new google.maps.LatLng(data.latitude,data.longitude),closest=[];$.each(markers,function(i,marker){var to=marker.position,distance=google.maps.geometry.spherical.computeDistanceBetween(from,to);"occasion"==marker.hgentry.type&&closest.push({marker:marker,distance:distance})}),closest.sort(function(a,b){return a.distance-b.distance}),is_mobile&&fillResults(closest.map(function(v){return v.marker})),toggleMarker(closest[0].marker)}else alert("Location not found.")}})})}if($("#calculateur-submit").on("click",function(e){return e.preventDefault(),calculateur($(e.target).closest("form")),!1}),$("#reserve-dialog .dropdown.hours, #reserve-dialog .dropdown.minutes").bind("click",function(e){if($(e.target).hasClass("hours"))target=$(".dropdown.hours .selectboxit-text").first();else var target=$(".dropdown.minutes .selectboxit-text").first();target.addClass("toggled")}),$(".store-map").length){var loadStoreMap=function(){$(".store-map").each(function(){var $this=$(this),style=["feature:administrative|element:labels.text.fill|color:0x444444","feature:poi|element:all|visibility:off"],zoomLevel=1024==$(window).width()?10:11,ratio=$this.outerWidth()>640?640/$this.outerWidth():1,mapOptions={center:"48145.586167,-73.875584",zoom:zoomLevel,style:style,size:($this.outerWidth()*ratio|0)+"x"+($this.outerHeight()*ratio|0),markers:"icon:"+encodeURIComponent("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAkCAYAAACaJFpUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAhhJREFUeNq8V1FEQ2EU/vd3jYixpxF7GlEi9hp7GjGKkTLaU/SUIu0ppmx66zU97KUpSxTpbU9jpDTFNMaeIiJGjDGicziX2617//Pf3fXxMeee/3y7//n/c84NRCorgoE4cBGYBAaBc2R/Bg6AVeANsKEKFFAIZoD7wJjgoQPcA144OUgHOwo8Ac80xMx1FVob4wouAB8t2+YFuPaeYrkKpoC3wJAYHmGKlXQSnKUtHBP+AWNdAqftgvjg1Kc3syNkfRFTcG3InHFymjEFUbkgRo9D1DIoqZMaC1vAOv1OAKeY61AjadDJ5KAPXAee2+yYjhPgOCNGSlLZ4mDzDzFEGbjDjBGXzEqC21hyeX4MfOVUIkkXVIUHn3zCKNhj3iUVggyfLxR8ZzgmFAEngPOMOB8o2GbWRbe7WmCmpomCd8wTtgu8AkYttijZtpgxatiAsbC+aFYNMw0RzXUzko58VXNhxIMYarTM4l38h1patHaLmuJiD4sSafxowNvME6uLNsX+1fGxACwzCwEXn8C0NaZ9pmkCsz4KZulQuk5t18ADH8TyNByz5tI8CXuF45+Wiu1oehBzTYubYI8S3tUQ69oPiY6g+a2wim2F03rIt+PmJJklKcfwy3FKpGRu1RHNLk4ok4/wSxCx4fD916Bnwm9BHBOXsGtbOzjZ+qMQRLzRKRwQ02Rjw/Bwz+o0owrLBM7GtwADALYiZnybvHU5AAAAAElFTkSuQmCC")+"|45.586167,-73.875584",scale:2};$this.css("background-image","url(https://maps.googleapis.com/maps/api/staticmap?"+$.param(mapOptions,!0)+")")})};$(window).resize(loadStoreMap)}$("#mobile-filter-toggle").bind("click",function(e){$("#select-area").hasClass("show")?$("#select-area").removeClass("show"):$("#select-area").addClass("show")})}),$(document).on("click",".printer",function(){window.print()}),function(){var cCars=$.cookie("viewed-cars"),cars=[];"string"==typeof cCars&&(cars=cCars.split(","));var carsO=cars.slice(0),stock=$('.kogneta-hgregoire-vdp [itemtype="http://schema.org/Vehicle"] [itemprop="sku"]').attr("content");stock&&cars.pushUnique(stock),cars.length>10&&(cars=cars.slice(1,11)),cars.toString()!=carsO.toString()&&$.cookie("viewed-cars",cars.join(","),{expires:365,path:"/"})}()}(jQuery),function($){$(window).resize(function(){$(".vertical-middle").css({position:"absolute",left:($(window).width()-$(".vertical-middle").outerWidth())/2,top:($(window).height()-$(".vertical-middle").outerHeight())/2})}),$(document).ready(function(){function clearSelectBox(dom){var caption=dom.find("option:eq(0)");dom.empty(),dom.append(caption)}function sticky_relocate(){$(window).scrollTop()>$("#comparer-start").offset().top?$(".comparison-line.heading").addClass("stick"):$(".comparison-line.heading").removeClass("stick")}$("#homepage-banners").slick({dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,accessibility:!1,autoplay:!0,autoplaySpeed:3e3}),$("#mobile-filter-toggle span").click(function(){$(this).parent().prev().find(".on-demand").slideToggle(400,"swing",function(){$(this).is(":hidden")&&$(this).css("display","")}),$(this).toggleClass("opened")});var seg=(seg=$.cookie("segmentationv3"))||"";$("#segmentation-filter").val(seg.split(",")),$("#segmentation-filter").change(function(){var seg=$(this).val()?$(this).val():"";$.cookie("segmentationv3",seg,{expires:365,path:"/"})}),void 0!=$.fn.multiselect&&$("#segmentation-filter").multiselect({placeholder:"Tout"}),$.each($(".headroom"),function(index,node){new Headroom(node,{onUnpin:function(){$(node).trigger("on-headroom-unpin")},onPin:function(){$(node).trigger("on-headroom-pin")}}).init()});var yearrange=null;$(".hg-car-search").on("hg-result-updated",function(event,response){if($("#price option[value!='']").remove(),null==yearrange||yearrange.min!=response.year_range.min||yearrange.max!=response.year_range.max){var dtfrom=$("#catalogue_select_date1"),dtto=$("#catalogue_select_date2"),dFrom=dtfrom.val(),dTo=dtto.val();clearSelectBox(dtfrom),clearSelectBox(dtto),$.each(response.year_range.years,function(key,i){dtfrom.append($("<option />").val(i).text(i)),dtto.append($("<option />").val(i).text(i))}),dFrom>=response.year_range.min&&dFrom<=response.year_range.max&&dtfrom.val(dFrom),dTo>=response.year_range.min&&dTo<=response.year_range.max&&dtto.val(dTo),yearrange=response.year_range}$("#price").append(response.prices),response.cars&&($("#brand-info .description").html($("#desAjaxMod").html()),$("#breadcrumbs").replaceWith($("#ajaxBreadCrumb").html()))}),$(".vehicle-pictures-primary-photo").on("init",function(){$(this).find("img").removeClass("hide-img")}),$(window).load(function(){$(".vehicle-pictures-thumbnail").find("img").removeClass("hide-img"),$("body").addClass("hg-loaded")}),setTimeout(function(){$("body").hasClass("hg-loaded")||$("body").addClass("hg-still-loading")},1e3),$("#comparer-start").length&&$(function(){$(window).scroll(sticky_relocate),sticky_relocate()}),$(".testimonials").slick({dots:!0,infinite:!1,speed:300,slidesToShow:2,slidesToScroll:2,arrows:!1,accessibility:!1,responsive:[{breakpoint:1020,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0,accessibility:!1}}]});var dialog=null;$(document).on("click",".open-modal",function(e){var dialogName=$(this).attr("href");dialog=$(dialogName);var stock=$(this).data("stock");stock&&dialog.find("form").attr("data-stock",stock);var price=$(this).data("price");price&&dialog.find("form").attr("data-price",price);var vehid=$(this).data("vehid");return vehid&&dialog.find("form").attr("data-vehid",vehid),dialog.addClass("modal-is-open"),$("body").addClass("no-scroll"),$(dialog).trigger("modal.open"),!1}),$(document).on("click",".close-modal",function(event){0!=$(event.target).hasClass("close-modal")&&($(this).closest(".modal-is-open").removeClass("modal-is-open"),$("body").removeClass("no-scroll"),$(dialog).trigger("modal.close"),event.preventDefault(),event.stopPropagation())}),$("#top_bar_search button").click(function(){var url=$("#top_bar_search #search").data("url").replace(/%QUERY%/,$("#top_bar_search #search").val());return document.location=url,!1});var startTyping=!1;$("#top_bar_search #search, .vdp-search-input").keydown(function(key){if(0==startTyping&&($(this).trigger("start"),startTyping=!0),13==key.keyCode){$(this).trigger("complete");var url=$(this).data("url").replace(/%QUERY%/,$(this).val());return document.location=url,!1}}),$("#mobile_menu button").click(function(){var url=$("#mobile_menu #mobile-search").data("url").replace(/%QUERY%/,$("#mobile_menu #mobile-search").val());return document.location=url,!1}),$("#mobile_menu #mobile-search").keydown(function(key){if(0==startTyping&&($(this).trigger("start"),startTyping=!0),13==key.keyCode){$(this).trigger("complete");var url=$(this).data("url").replace(/%QUERY%/,$(this).val());return document.location=url,!1}$("#mobile_menu #mobile-search").val()?$("#mobile_menu button").fadeIn():$("#mobile_menu button").fadeOut()});var updateModel=function(e){var form=$($(e.target).parents("form")),modelSel=form.find("select[name=model]");void 0==modelSel.data("models")&&modelSel.data("models",form.find("select[name=model] option").clone(!0));var selectedMake=form.find("select[name=make]").val(),selectbox=form.find("select[name=model]"),models=modelSel.data("models");form.find("select[name=model]").empty(),selectbox.append(models[0]);for(var i=0;i<models.length;i++)$(models[i]).data("make")==selectedMake&&selectbox.append(models[i])};$(".hg-make-model select[name=make]").change(updateModel).change(),$("input, textarea").placeholder(),$('[href="#cta-promotion"]').on("click",function(){return hgDisplayPopup("popup-promotion"),!1}),$(document).on("popupClose",function(event,options){"popup-promotion"==options.formId&&$('[href="#cta-promotion"]').removeClass("hide")}),$(document).on("popupReady",function(event,options){"popup-promotion"==options.formId&&options.disable&&options.inside==ip.inside&&$('[href="#cta-promotion"]').removeClass("hide")});var $notice=$("div#us-price-notice");$(".vdp-panel-price h3.LUX>.lux-info").on("mouseenter click",function(e){return $notice.fadeToggle(),!1}),$notice.on("click",function(){return $(this).fadeOut(),!1}),currentUrl=new URL(document.location);var utm_source=currentUrl.searchParams.get("utm_source"),utm_campaign=currentUrl.searchParams.get("utm_campaign");if(utm_campaign&&utm_source){var currentDate=new Date,midnightExpirationDate=new Date(currentDate.getFullYear(),currentDate.getMonth(),currentDate.getDate()+1,0,0,0);$.cookie("utm_source",utm_campaign,{expires:midnightExpirationDate,path:"/"})}var utm_source_cookie=$.cookie("utm_source");utm_source_cookie&&$("body").addClass("utm_source_"+utm_source_cookie),$("#section-voitures-populaires #city_list a").on("click",function(){return $("#section-voitures-populaires #city_list a").removeClass("active"),$(this).addClass("active"),!1}),$('[data-role="hg-tabs"]').on("tab.activate.end",function(e,$tab,$panel){$panel.find(".slick-track").width()<=0&&$panel.find('[data-role="hg-image-slider"]').hgImageSlider("refresh")})})}(jQuery),function($){var pids=[];$(document).ready(function(){$.fn.visible&&$('[data-role="display-on-viewport"]').each(function(id,node){$(node).hasClass("viewport")||(pids[id]=setInterval(function(){$(node).visible(!0)&&($(node).addClass("viewport"),clearTimeout(pids[id]))},300))})})}(jQuery),function($){$(document).ready(function(){$("[data-role=hg-blog-post]").on("hg-blogpost-ready",function(){$(this).find('[data-role="hg-image-slider"]').hgImageSlider("refresh",!0)})})}(jQuery),function($){$(".show-all-equipment").click(function(){return $(".vdp-vehicle-info>.not-showing-all").addClass("showing-all"),$(".vdp-vehicle-info>.not-showing-all").removeClass("not-showing-all"),!1}),$(".show-less-equipment").click(function(){return $(".vdp-vehicle-info>.showing-all").addClass("not-showing-all"),$(".vdp-vehicle-info>.showing-all").removeClass("showing-all"),!1});var $inputs=$(".at-leastone-require");$inputs.on("input",function(){var required=!$($(this)).val().length;required||$inputs.removeClass("error-input"),$inputs.not($(this)).prop("required",required)}),$("select.update-form-name").change(function(){$(this).closest("form").attr("name",$("option:selected",this).attr("form-name")),$("option:selected",this).is("[data-success-url]")&&$(this).closest("form").attr("data-success-url",$("option:selected",this).attr("data-success-url"))}),$(".add-message-vdp").click(function(){return $(this).hide(),$(".input-area.textarea").slideToggle(),!1});var zoomActive=!1;$(document).on("click","img.pswp__img",function(e){if(!$(this).data("disable-zoom")&&!is_tablet&&0!=$(".pswp").hasClass("pswp--open")&&$(this).data("zoom-image"))if(zoomActive=!zoomActive){var img=$(this);img.addClass("loading"),img.elevateZoom({responsive:!1,zoomType:"lens",lensShape:"round",borderSize:2,borderColour:"#fff",scrollZoom:!1,preloading:!1,showLens:!0,lensSize:250,onZoomedImageLoaded:function(element){$(document).trigger("PhotoViewerZoomOpen"),element.css("display","block"),element.data("elevateZoom").showHideLens("show"),element.data("elevateZoom").setPosition(e),img.removeClass("loading")}}),$(".pswp-zoom-feature-message").stop(!0,!0).fadeOut(),$(".pswp-zoom-feature-message").removeClass("DISPLAY")}else $(document).trigger("PhotoViewerZoomClose"),$("img.magnify").removeData("elevateZoom"),$(".zoomContainer").remove(),$(".pswp-zoom-feature-message").stop(!0,!0).fadeIn(),$(".pswp-zoom-feature-message").addClass("DISPLAY")}),$('[href="#section-similar-vehicles"]').click(function(){$("html, body").animate({scrollTop:$("#similarSetionHalfCircle").offset().top-$("#top-bar").height()},1e3)}),$(".vdp-panel-schedule").on("enabled.days",function(event,shortsDays,enableDays){$.each(enableDays,function(i,day){var $item=$('.vdp-calendar-day-item[day="'+day+'"]');$item.length&&($item.removeClass("disable"),$item.find("input").prop("disabled",!1))})});var shortDays=["su","mo","tu","we","th","fr","sa"];$('[data-role="hg-car-reservation"]').on("reservation-date-selected",function(e,date){$(document).trigger("hg-calendar-select",[shortDays[date.getDay()],date.toISOString().substr(0,10),$(this).find('[name="time"]')])});var hgSchedules=[];jQuery("body").find('script[type="application/json"][data-property-name="schedules"]').each(function(index,node){hgSchedules=JSON.parse($(node).text())}),$(document).on("hg-calendar-select",function(e,day,selectedDate,$selectHour){$selectHour.find("option").remove();var pad=function(n,width,z){return z=z||"0",n+="",n.length>=width?n:new Array(width-n.length+1).join(z)+n},d=new Date,now=0;d.getFullYear()+"-"+pad(d.getMonth()+1,2)+"-"+pad(d.getDate(),2)==selectedDate&&(now=parseInt(d.getHours()+1+""+pad(d.getMinutes(),2))),hgSchedules&&0!==hgSchedules.length&&$.each(hgSchedules,function(k,schedule){if(schedule.day==day)for(hour=parseInt(schedule.fromHour);hour<parseInt(schedule.toHour);hour++)$.each(["00","15","30","45"],function(i,minutes){parseInt(hour+""+minutes)>=now&&$selectHour.append($("<option></option>").attr("value",hour+":"+minutes).text(pad(hour,2)+":"+pad(minutes,2)))})})}),$(".vdp-calendar-day-item input").on("click",function(){var $node=$(this).closest(".vdp-calendar-day-item");$node.hasClass("disable")||($(document).trigger("hg-calendar-select",[$node.attr("day"),$node.data("date"),$('.vdp-schedule-date .vdp-input[name="time"]')]),$('form[name="formulaire-essai-routier"] input[name="date"]').val($node.attr("date")),$(".vdp-calendar").removeClass("error"))}),$(".vdp-calendar-day").on("beforeChange",function(event,slick,currentSlide){$(".vdp-calendar").removeClass("error")}),$(document).on("click",".open-modal",function(event){var dialog=$($(this).attr("href"));if(dialog&&$('input[name="sched_date"]:checked').length<=0&&"#scheduledrive-modal"==dialog.selector)return event.stopImmediatePropagation(),$(".vdp-calendar").addClass("error"),!1;if(dialog&&$('input[name="sched_date"]:checked').length<=0&&"#nomad-popup"==dialog.selector){var $iframe=$("#nomad-popup").find("iframe");$iframe&&$iframe.attr("src",$iframe.data("src"))}});var pwspCurrentItem,pwspLoaded=!1,postLoaded=!1,openPhotoSwipe=function(){function PostLoad(item){var $slickElImg=$slickEl.find('img[data-zoom-image="'+item.src+'"]');$slickElImg.length<=0&&($slickElImg=$slickEl.find('img[src="'+item.src+'"]')),$slickElImg.length&&($('.pswp img[src="'+item.src+'"]').attr("data-zoom-image",$slickElImg.data("zoom-image")),$('.pswp img[src="'+item.src+'"]').data("zoom-image",$slickElImg.data("zoom-image")),$('.pswp img[src="'+item.src+'"]').addClass("magnify"),""!==$slickElImg.attr("data-disable-zoom")&&($('.pswp img[src="'+item.src+'"]').attr("data-disable-zoom",$slickElImg.data("disable-zoom")),$('.pswp img[src="'+item.src+'"]').data("disable-zoom",$slickElImg.data("disable-zoom")))),$(".pswp__zoom-wrap").each(function(){$(this).find('img[data-disable-zoom="false"]').length>0&&($(this).find(".pswp-zoom-feature-message").length<=0&&($(".pswp-zoom-feature-message.clone").clone().prependTo($(this)),$(this).find(".pswp-zoom-feature-message").removeClass("clone")),$(this).find(".pswp-zoom-feature-message").stop(!0,!0).show().addClass("DISPLAY"))}),postLoaded=!0}var $slickEl=$('.vehicle-pictures-primary-photo[data-role="hg-image-slider"]');if(!$slickEl[0].slick.swiping&&!$slickEl[0].slick.animating){$(document).trigger("PhotoViewerOpen");var pswpElement=document.querySelectorAll(".pswp")[0],items=(Math.min($(window).width()/$(":not(.slick-cloned)>.main-pic").width(),$(window).height()/$(":not(.slick-cloned)>.main-pic").height()),[]);$slickEl.find(":not(.slick-cloned)>img[data-zoom-image]").each(function(i,el){items.push({src:$(el).data("zoom-image")||$(el).data("src"),w:$(el).data("zoom-width"),h:$(el).data("zoom-height"),originalw:$(el).data("zoom-width"),originalh:$(el).data("zoom-height")})});var currentSlickIndex=0;$slickEl.find(".slick-active").length&&(currentSlickIndex=$slickEl.find(".slick-active").attr("data-slick-index"));var options={index:parseInt(currentSlickIndex),history:!1,focus:!1,showAnimationDuration:0,hideAnimationDuration:0};is_tablet||(options=$.extend(options,{zoomEl:!1,maxSpreadZoom:1,getDoubleTapZoom:function(isMouseClick,item){return item.initialZoomLevel},pinchToClose:!1,clickToCloseNonZoomable:!1}));var gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init(),gallery.listen("destroy",function(){$(document).trigger("PhotoViewerClose")}),$slickEl.find(".slick-current").length&&(currentSlickIndex=$slickEl.find(".slick-current").attr("data-slick-index"))&&gallery.goTo(parseInt(currentSlickIndex)),gallery.listen("close",function(){$("img.magnify").removeData("elevateZoom"),$(".zoomContainer").remove(),zoomActive=!1,pwspLoaded=!1,postLoaded=!1}),gallery.listen("beforeChange",function(){postLoaded=!1,zoomActive&&(zoomActive=!1,$(".zoomContainer").remove())}),gallery.listen("afterChange",function(){pwspCurrentItem=gallery.currItem;var currentIndex=gallery.getCurrentIndex();$slickEl[0].slick.slickGoTo(parseInt(currentIndex),!0),postLoaded||PostLoad(gallery.currItem)}),gallery.listen("gettingData",function(index,item){var windowRatio=window.innerWidth/window.innerHeight,imageRatio=item.originalw/item.originalh;windowRatio>imageRatio?(item.w=window.innerWidth,item.h=item.w*item.originalh/item.originalw):windowRatio<imageRatio?(item.h=window.innerHeight,item.w=item.h*item.originalw/item.originalh):(item.w=window.innerWidth,item.h=window.innerHeight)}),gallery.listen("resize",function(){zoomActive&&(zoomActive=!1,$("img.magnify").removeData("elevateZoom"),$(".zoomContainer").remove()),is_tablet||!0!==gallery.options.zoomEl?is_tablet&&!1===gallery.options.zoomEl&&(gallery.options.zoomEl=!0,gallery.options.maxSpreadZoom=2,gallery.options.getDoubleTapZoom=function(isMouseClick,item){return isMouseClick?1:item.initialZoomLevel<.7?1:1.33},gallery.options.pinchToClose=!0,gallery.options.clickToCloseNonZoomable=!0):(gallery.options.zoomEl=!1,gallery.options.maxSpreadZoom=1,gallery.options.getDoubleTapZoom=function(isMouseClick,item){return item.initialZoomLevel},gallery.options.pinchToClose=!1,gallery.options.clickToCloseNonZoomable=!1)}),gallery.listen("imageLoadComplete",function(index,item){PostLoad(item),pwspLoaded||(pwspLoaded=!0,pwspCurrentItem=gallery.currItem)})}};$(".pswp__button.pswp__button--fs").on("click",function(){$("img.magnify").removeData("elevateZoom"),$(".zoomContainer").remove(),zoomActive=!1}),$(".main-pic, .hg-pictures .fullscreen").on("click",openPhotoSwipe),$(document).ready(function(){$('.vdp-calendar-day[data-role="hg-image-slider"]').fadeIn(),$('.similar-vehicles[data-role="hg-image-slider"]').fadeIn(),$('.vdp-testimonial-slider[data-role="hg-image-slider"]').fadeIn(),$('.vdp-calendar-day[data-role="hg-image-slider"]').on("init",function(){$(this).find(".vdp-calendar-day-item").removeClass("hidden")}),$('[data-role="hg-image-slider"] img').removeClass("hidden")}),$(".open-vdp-360").on("click",function(e){return $("#panorama360").hgMedia("show"),!0}),$("#panorama360").on("media",function(){$(".view-360").addClass("exist")})}(jQuery),function($){$(document).ready(function(){function refreshPicturesView(){if($("[data-role=hg-image-slider]").hgImageSlider("setPosition"),is_mobile){if($(".vdp-spincar>.splash").length>0)return;$(".vdp-spincar>div").css("max-height",$(slider).height()),$(slider).addClass("height-auto")}else $(".vdp-spincar").length>0&&!$(".vdp-spincar").is(":empty")&&($(slider).removeClass("height-auto"),$(slider).addClass("top-hide"),$(".vdp-spincar").removeClass("top-hide"),$("div.spin-icons>div.photos").removeClass("hidden"),$("div.spin-icons>div.photos.v360").addClass("hidden"))}function runSlick(){$(".vdp-spincar").length>0&&!$(".vdp-spincar").is(":empty")&&($(".vdp-spincar").remove(),$(slider).removeClass("top-hide"),$(".vdp-spincar-icons").remove(),$("[data-role=hg-image-slider]").hgImageSlider("run"),$("[data-role=hg-image-slider]").hgImageSlider("setPosition"))}var slider=$(".hg-pictures");$(document).on("hg-image-slider.ready",function(event){/iPhone|iPad|iPod/i.test(navigator.userAgent)||!is_tablet&&!is_mobile||runSlick()}),$(window).on("resize",function(){refreshPicturesView()}),$("div.spin-icons>div.photos").click(function(){$(slider).removeClass("top-hide"),$("[data-role=hg-image-slider]").hgImageSlider("run"),$("[data-role=hg-image-slider]").hgImageSlider("setPosition"),is_mobile?($(".vdp-spincar").height()>0&&$(slider).height($(".vdp-spincar").height()),$(".vdp-spincar").addClass("top-hide"),$("div.spin-icons>div.photos").addClass("hidden"),$("div.spin-icons>div.photos.v360").removeClass("hidden")):($(slider).addClass("height-auto"),$.openCloseVDPFullSizePictures(!0))}),$("div.spin-icons>div.photos.v360").click(function(){$(slider).addClass("top-hide"),is_mobile?($(".vdp-spincar").addClass("invisible"),$(".vdp-spincar").removeClass("top-hide"),setTimeout(function(){$(".vdp-spincar").removeClass("invisible")},10),$("div.spin-icons>div.photos").removeClass("hidden"),$("div.spin-icons>div.photos.v360").addClass("hidden")):$.openCloseVDPFullSizePictures(!0)}),setTimeout(function(){$(".vdp-spincar>.splash").length>0&&runSlick()},5e3)})}(jQuery),function($){$.pushCriteoEvent=function(){function formProperties(form){var prop={};return"formulaire-reserver"==form.attr("name")?(prop.email=form.find('input[name="customer.email"]').val(),prop.stock=form.find('input[name="vehicle.stock"]').val(),prop.price=form.find('input[name="vehicle.price"]').val()):(prop.email=form.find('input[name="email"]').val(),prop.stock=form.find('input[name="stock"]').val()||form.data("stock")||defaultPropStock,prop.price=form.find('input[name="price"]').val()||form.data("price")||defaultPropPrice),prop.email&&(prop.email=prop.email.toLowerCase(),prop.email=prop.email.trim(),prop.email=Utf8Encode(prop.email),prop.email=$.md5(prop.email)),prop}function Utf8Encode(strUni){var strUtf=strUni.replace(/[\u0080-\u07ff]/g,function(c){var cc=c.charCodeAt(0);return String.fromCharCode(192|cc>>6,128|63&cc)});return strUtf=strUtf.replace(/[\u0800-\uffff]/g,function(c){var cc=c.charCodeAt(0);return String.fromCharCode(224|cc>>12,128|cc>>6&63,128|63&cc)})}var defaultPropStock="1",defaultPropPrice="0",lang=jQuery("html").attr("lang").toLowerCase();if(void 0!==window.theme_criteo_tags){var account=parseInt(theme_criteo_tags[lang]);if(account&&void 0!=window.criteo_q){var pageName=$('meta[name="hg:pagename"]').attr("content");if("homepage"==pageName&&window.criteo_q.push({event:"setAccount",account:account},{event:"setSiteType",type:deviceType},{event:"setHashedEmail",email:[""]},{event:"viewHome"}),"srp"==pageName){var stocks=[];$("div[data-stock]").each(function(index,node){stocks.push($(node).data("stock"))}),stocks.length>0&&window.criteo_q.push({event:"setAccount",account:account},{event:"setSiteType",type:deviceType},{event:"setHashedEmail",email:[""]},{event:"viewList",item:stocks})}"vdp-available"==pageName&&$('div[data-stock][data-module="VDP"]').length>0&&window.criteo_q.push({event:"setAccount",account:account},{event:"setSiteType",type:deviceType},{event:"setHashedEmail",email:[""]},{event:"viewItem",item:$('div[data-stock][data-module="VDP"]').data("stock")||defaultPropStock}),$(document).on("modal.open",function(event){var dialog=$(event.target);if(!($(dialog.find("form")).length<=0)){var prop=formProperties($(dialog.find("form")));window.criteo_q.push({event:"setAccount",account:account},{event:"setSiteType",type:deviceType},{event:"setHashedEmail",email:[""]},{event:"viewBasket",item:[{id:prop.stock,price:prop.price,quantity:1}]})}}),$(document).on("submit-success","form",function(evt){var prop=formProperties($(this));window.criteo_q.push({event:"setAccount",account:account},{event:"setSiteType",type:deviceType},{event:"setHashedEmail",email:[prop.email]},{event:"trackTransaction",id:(new Date).getTime(),item:[{id:prop.stock,price:prop.price,quantity:1}]})}),$(document).on("reservation.success",function(evt,forms){var frmReserver=forms["formulaire-reserver"],email=frmReserver["customer.email"];email=Utf8Encode(email=(email=email.toLowerCase()).trim()),email=$.md5(email),window.criteo_q.push({event:"setAccount",account:account},{event:"setSiteType",type:deviceType},{event:"setHashedEmail",email:[email]},{event:"trackTransaction",id:(new Date).getTime(),item:[{id:frmReserver["vehicle.stock"],price:frmReserver["vehicle.price"],quantity:1}]})})}}},$(window).load(function(){$.pushCriteoEvent()}),$(document).on("page-segment-load",function(){$.pushCriteoEvent()})}(jQuery),jQuery(function($){function applyCategories(){var category,hashSelector="",categories=window.location.hash.substring(1).split(",");$("#careers-show-all-buttons a").remove();for(var i=0;i<categories.length;i++)""!=(category=categories[i])&&$(".filter-wrap-select option[data-location='"+category+"']").length>0?(hashSelector+=".cat-"+category,$(".filter-wrap-select option[data-location='"+category+"']").attr("selected","selected"),removeFromUrlHash(category)):$(".filter-wrap-select option[value='."+category+"']").length>0?(hashSelector+="."+category,$(".filter-wrap-select option[value='."+category+"']").attr("selected","selected"),removeFromUrlHash(category)):$(".careers-hiring-item.cat-"+category).length>0?(hashSelector+=$(".filter-wrap-select").val(),hashSelector+=".cat-"+category,addTagButton(category,category)):hashSelector+=$(".filter-wrap-select").val();filterBySelector(hashSelector)}function filterBySelector(hashSelector){""!=hashSelector.substring(1)?($(".careers-hiring-item.show").not(hashSelector).each(function(){$(this).removeClass("show")}),$(".careers-hiring-item").filter(hashSelector).each(function(){$(this).addClass("show").css({opacity:.1}).animate({opacity:1},200)})):($(".careers-hiring-item").css({opacity:.1}).animate({opacity:1},200),$(".careers-hiring-item").addClass("show")),0==$(".careers-hiring-item.show").length?($(".careers-result").css({opacity:.1}).animate({opacity:1},200),$(".careers-result").addClass("show")):$(".careers-result").removeClass("show")}function scrollToSelector(selector){$("html,body").animate({scrollTop:$(selector).offset().top-130},"slow")}function addTagButton(id,name){var cssId="career-show-all-button-"+id,$aTag=$('<a class="btn-careers-2"></a>');$aTag.attr("id",cssId),$aTag.attr("data-id",id),$aTag.html(name+' <i class="cp-icon-remove"></i>'),careerAllowedTags&&jQuery.isArray(careerAllowedTags)&&-1==careerAllowedTags.indexOf(id)?removeFromUrlHash(id):$("#careers-show-all-buttons").append($aTag),$("#"+cssId).click(function(){removeFromUrlHash(id),applyCategories()})}function removeFromUrlHash(id){var categories=window.location.hash.substring(1).split(","),index=categories.indexOf(id);index>-1&&categories.splice(index,1),categories.length>0?window.location.hash="#"+categories.join():setToEmptyUrlHash()}function setToEmptyUrlHash(){var scrollV,scrollH,loc=window.location;"pushState"in history?history.pushState("",document.title,loc.pathname+loc.search):(scrollV=document.body.scrollTop,scrollH=document.body.scrollLeft,loc.hash="",document.body.scrollTop=scrollV,document.body.scrollLeft=scrollH)}$("body").on("submit",'form[name="career"]',function(){var form=$(this);return form.find("[required]").each(function(index,node){var $node=$(node);switch($node.attr("type")){case"text":case"email":case"tel":$node.toggleClass("error-input",!$node.val())}}),!form.find(".error-input").length}),0!=$(".kogneta-careers-page").length&&($(".filter-wrap-select option").each(function(){var locationId=$(this).val().substring(1);""!=locationId&&0==$(".careers-hiring-item."+locationId).length&&($(this).hide(),$(this).prop("disabled",!0))}),$(".filter-wrap-select").on("change",function(){applyCategories()}),$(".btn-careers").click(function(){scrollToSelector("#careers-hiring")}),$(window).on("load resize orientationChange",function(event){$(window).width()<=600?$('input[name="mobile"]').val("mobile"):$('input[name="mobile"]').val("")}),0==$(".single-career-page").length&&(applyCategories(),jQuery(window).on("hashchange",function(){applyCategories()})),$('[data-role="careers-video"]').each(function(i,node){$(node).on("click",function(){var myVideo=$(this).find("video")[0];1==myVideo.paused?($(this).addClass("played"),$(this).removeClass("paused"),myVideo.play()):($(this).addClass("paused"),myVideo.pause())})}),function($){var multipleSupport=void 0!==$("<input/>")[0].multiple,isIE=/msie/i.test(navigator.userAgent);$.fn.customFile=function(){return this.each(function(){var $button,$label,fileUploadButtonText="undefined"!=typeof careerFileUploadButtonText?careerFileUploadButtonText:"Upload resume",fileUploadButtonLabel="undefined"!=typeof careerFileUploadButtonLabel?careerFileUploadButtonLabel:"Select a File",$file=$(this).addClass("custom-file-upload-hidden"),$wrap=$('<div class="file-upload-wrapper">');($button=$('<button type="button" class="btn-careers-2 file-upload-button"></button>')).text(fileUploadButtonText);var $input=$('<input type="text" disabled class="file-upload-input ignore-hg-uniform" />');($label=$('<label class="file-upload-button"></label>')).attr("for",$file[0].id),$label.text(fileUploadButtonLabel),$file.css({position:"absolute",left:"-9999px"}),$wrap.insertAfter($file).append($file,$input,isIE?$label:$button),$file.attr("tabIndex",-1),$button.attr("tabIndex",-1),$button.click(function(){$file.focus().click()}),$file.change(function(){var fileArr,filename,files=[];if(multipleSupport){for(var i=0,len=(fileArr=$file[0].files).length;i<len;i++)files.push(fileArr[i].name);filename=files.join(", ")}else filename=$file.val().split("\\").pop();$input.val(filename).attr("title",filename).focus()}),$input.on({blur:function(){$file.trigger("blur")},keydown:function(e){if(13===e.which)isIE||$file.trigger("click");else{if(8!==e.which&&46!==e.which)return 9===e.which&&void 0;$file.replaceWith($file=$file.clone(!0)),$file.trigger("change"),$input.val("")}}})})},multipleSupport||$(document).on("change","input.customfile",function(){var $this=$(this),uniqId="customfile_"+(new Date).getTime(),$wrap=$this.parent(),$file=$('<input type="file" />');$file.attr("id",uniqId),$file.attr("name",$this.attr("name"));var $owlInputs=$wrap.siblings().find(".file-upload-input").filter(function(){return!this.value});setTimeout(function(){$this.val()?$owlInputs.length||($wrap.after($file),$file.customFile()):($owlInputs.parent().remove(),$wrap.appendTo($wrap.parent()),$wrap.find("input").focus())},1)})}(jQuery),$("input[type=file]").customFile())}),function($){function jsonParse(s){return JSON.parse(s.replace("/*<![CDATA[*/","").replace("/*]]>*/",""))}function entitySelector(entityId){return $('[type="application/json"][data-entity-id="'+entityId+'"]')}function removeEmptyProperties(obj){$.each(obj,function(name,value){value||delete obj[name]})}function extractEntity($scriptTag){var entity={};return $scriptTag.length&&(entity[$scriptTag.data("class")]=jsonParse($scriptTag.text())),entity}function updateSRPColumnRowLinks(){var carboxWidth=$(".car-box:eq(0)").outerWidth(!0),resultWidth=$("#catalogue-display").width(),column=Math.floor(resultWidth/carboxWidth);$(".car-box").each(function(index,elem){var $elm=$(elem),pageIndex=$elm.data("index")-1;$elm.find("a").attr("data-link-col",pageIndex%column+1),$elm.find("a").attr("data-link-row",Math.ceil((pageIndex+1)/column-1)+1)})}function triggerPageOpen(entities){dataLayer.push({event:"Page Open",eventProperty:$.extend({page:{name:pageName,language:$("html").attr("lang")}},entities)})}var pageName;void 0==window.dataLayer&&(window.dataLayer={},window.dataLayer.push=function(){}),$(document).on("ready page-segment-load",function(){updateSRPColumnRowLinks()}),$(document).ready(function(){var pageEntity={};"srp"==(pageName=$('meta[name="hg:pagename"]').attr("content"))&&removeEmptyProperties((pageEntity=extractEntity($('[type="application/json"][data-property-name="term"]'))).Search),triggerPageOpen(pageEntity),$('[data-role="srp-app-vue"]').on("srp-vue-update-end",function(e){var term=$.extend({},e.detail.term);removeEmptyProperties(term),triggerPageOpen({Search:term})}),"vdp-available"==pageName&&dataLayer.push({event:"Vehicle Open",eventProperty:extractEntity($('[type="application/json"][data-class="Vehicle"]'))}),$(document).on("start","#search",function(key){dataLayer.push({event:"Search Started Typing",eventProperty:{freeTextSearch:{}}})}),$(document).on("complete","#search",function(key){dataLayer.push({event:"Search Submitted",eventProperty:{freeTextSearch:{query:$(this).val()}}})}),$(document).on("modal.open",function(e){dataLayer.push({event:"Lead Form Open",eventProperty:{form:{name:$(e.target).find("form").attr("name")}}})}),$(document).on("modal.close",function(e){dataLayer.push({event:"Lead Form Close",eventProperty:{form:{name:$(e.target).attr("name")}}})}),$(document).on("submit-lead","form",function(e,postData){delete postData.role,delete postData.formname,delete postData.action,dataLayer.push({event:"Lead Form Submit",eventProperty:{form:{name:$(e.target).attr("name"),fields:postData}}})}),$('meta[name="hg:pagename"][content="srp"]').length&&($(".picture-container").attr("data-google-tag-trkvisible",0),setInterval(function(){$('.picture-container[data-google-tag-trkvisible="0"]').each(function(){if($(this).visible()&&$(this).data("vehid")){$(this).attr("data-google-tag-trkvisible",1);var vehId=$(this).data("vehid");dataLayer.push({event:"Vehicle Visible",eventProperty:$.extend({},extractEntity($('[type="application/json"][data-class="Vehicle"][data-id='+vehId+"]")))})}})},750)),$('[data-role="hg-car-favorite"]').on("save",function(e,hgCarFavoriteEntry){var vehId=hgCarFavoriteEntry.vehicle_id;dataLayer.push({event:"Favourite Add",eventProperty:$.extend({},extractEntity($('[type="application/json"][data-class="Vehicle"][data-id='+vehId+"]")))})}),$('[data-role="hg-car-favorite"]').on("unsave",function(e,hgCarFavoriteEntry){var vehId=hgCarFavoriteEntry.vehicle_id;dataLayer.push({event:"Favourite Remove",eventProperty:$.extend({},extractEntity($('[type="application/json"][data-class="Vehicle"][data-id='+vehId+"]")))})}),$(document).on("PhotoViewerOpen",function(e){dataLayer.push({event:"Vehicle Photos Open",eventProperty:extractEntity($('[type="application/json"][data-class="Vehicle"]'))})}),$(document).on("PhotoViewerClose",function(e){dataLayer.push({event:"Vehicle Photos Close",eventProperty:extractEntity($('[type="application/json"][data-class="Vehicle"]'))})}),$(document).on("PhotoViewerZoomOpen",function(e){dataLayer.push({event:"VehiclePhotos Zoom Open",eventProperty:extractEntity($('[type="application/json"][data-class="Vehicle"]'))})}),$(document).on("PhotoViewerZoomClose",function(e){dataLayer.push({event:"Vehicle Photos Zoom Close",eventProperty:extractEntity($('[type="application/json"][data-class="Vehicle"]'))})}),$(".hg-image-slider.vehicle-pictures-primary-photo").on("afterChange",function(e,slick,i,index){dataLayer.push({event:"Vehicle Photo Navigate",eventProperty:$.extend({position:index},extractEntity($('[type="application/json"][data-class="Vehicle"]')))})}),$(document).on("click","a",function(){var entityId=$(this).data("ggtagEntityId"),td={},tagData=$(this).data();for(var i in tagData)i.match(/link/)&&(td[i.replace(/link/,"")]=tagData[i]);var msg={event:"Link Click",eventProperty:$.extend({link:$.extend({Caption:$(this).text().trim().replace(/\n/,""),Href:$(this).attr("href")},td)},extractEntity(entitySelector(entityId)))};dataLayer.push(msg)})})}(jQuery),window.libpannellum=function(J,f,m){function Ba(P){function bb(a,e){return 1==a.level&&1!=e.level?-1:1==e.level&&1!=a.level?1:e.timestamp-a.timestamp}function W(a,e){return a.level!=e.level?a.level-e.level:a.diff-e.diff}function X(a,e,d,f,p,c){this.vertices=a,this.side=e,this.level=d,this.x=f,this.y=p,this.path=c.replace("%s",e).replace("%l",d).replace("%x",f).replace("%y",p)}function Y(a,e,f,m,p){var c;c=ea(a,(g=e.vertices).slice(0,3));var t=ea(a,g.slice(3,6)),z=ea(a,g.slice(6,9)),g=ea(a,g.slice(9,12)),y=c[0]+t[0]+z[0]+g[0];if(-4==y||4==y?c=!1:(y=c[1]+t[1]+z[1]+g[1],c=-4!=y&&4!=y&&4!=c[2]+t[2]+z[2]+g[2]),c){for(t=(c=e.vertices)[0]+c[3]+c[6]+c[9],z=c[1]+c[4]+c[7]+c[10],g=c[2]+c[5]+c[8]+c[11],y=Math.sqrt(t*t+z*z+g*g),g=Math.asin(g/y),t=Math.atan2(z,t)-m,t+=t>Math.PI?-2*Math.PI:t<-Math.PI?2*Math.PI:0,t=Math.abs(t),e.diff=Math.acos(Math.sin(f)*Math.sin(g)+Math.cos(f)*Math.cos(g)*Math.cos(t)),t=!1,z=0;z<d.nodeCache.length;z++)if(d.nodeCache[z].path==e.path){t=!0,d.nodeCache[z].timestamp=d.nodeCacheTimestamp++,d.nodeCache[z].diff=e.diff,d.currentNodes.push(d.nodeCache[z]);break}if(t||(e.timestamp=d.nodeCacheTimestamp++,d.currentNodes.push(e),d.nodeCache.push(e)),e.level<d.level){var g=s.cubeResolution*Math.pow(2,e.level-s.maxLevel),t=Math.ceil(g*s.invTileResolution)-1,z=g%s.tileResolution*2,E=2*g%s.tileResolution;0===E&&(E=s.tileResolution),0===z&&(z=2*s.tileResolution),y=.5,e.x!=t&&e.y!=t||(y=1-s.tileResolution/(s.tileResolution+E));var r=1-y,g=[],v=y,Q=y,I=y,l=r,A=r,D=r;for(E<s.tileResolution&&(e.x==t&&e.y!=t?(A=Q=.5,("d"==e.side||"u"==e.side)&&(D=I=.5)):e.x!=t&&e.y==t&&(l=v=.5,"l"==e.side||"r"==e.side)&&(D=I=.5)),z<=s.tileResolution&&(e.x==t&&(v=0,l=1,"l"==e.side||"r"==e.side)&&(I=0,D=1),e.y==t&&(Q=0,A=1,"d"==e.side||"u"==e.side)&&(I=0,D=1)),E=new X(E=[c[0],c[1],c[2],c[0]*v+c[3]*l,c[1]*y+c[4]*r,c[2]*I+c[5]*D,c[0]*v+c[6]*l,c[1]*Q+c[7]*A,c[2]*I+c[8]*D,c[0]*y+c[9]*r,c[1]*Q+c[10]*A,c[2]*I+c[11]*D],e.side,e.level+1,2*e.x,2*e.y,s.fullpath),g.push(E),e.x==t&&z<=s.tileResolution||(E=[c[0]*v+c[3]*l,c[1]*y+c[4]*r,c[2]*I+c[5]*D,c[3],c[4],c[5],c[3]*y+c[6]*r,c[4]*Q+c[7]*A,c[5]*I+c[8]*D,c[0]*v+c[6]*l,c[1]*Q+c[7]*A,c[2]*I+c[8]*D],E=new X(E,e.side,e.level+1,2*e.x+1,2*e.y,s.fullpath),g.push(E)),e.x==t&&z<=s.tileResolution||e.y==t&&z<=s.tileResolution||(E=[c[0]*v+c[6]*l,c[1]*Q+c[7]*A,c[2]*I+c[8]*D,c[3]*y+c[6]*r,c[4]*Q+c[7]*A,c[5]*I+c[8]*D,c[6],c[7],c[8],c[9]*v+c[6]*l,c[10]*y+c[7]*r,c[11]*I+c[8]*D],E=new X(E,e.side,e.level+1,2*e.x+1,2*e.y+1,s.fullpath),g.push(E)),e.y==t&&z<=s.tileResolution||(E=[c[0]*y+c[9]*r,c[1]*Q+c[10]*A,c[2]*I+c[11]*D,c[0]*v+c[6]*l,c[1]*Q+c[7]*A,c[2]*I+c[8]*D,c[9]*v+c[6]*l,c[10]*y+c[7]*r,c[11]*I+c[8]*D,c[9],c[10],c[11]],E=new X(E,e.side,e.level+1,2*e.x,2*e.y+1,s.fullpath),g.push(E)),e=0;e<g.length;e++)Y(a,g[e],f,m,p)}}}function ra(a,e,d){var f=Math.sin(e);return e=Math.cos(e),"x"==d?[a[0],e*a[1]+f*a[2],e*a[2]-f*a[1],a[3],e*a[4]+f*a[5],e*a[5]-f*a[4],a[6],e*a[7]+f*a[8],e*a[8]-f*a[7]]:"y"==d?[e*a[0]-f*a[2],a[1],e*a[2]+f*a[0],e*a[3]-f*a[5],a[4],e*a[5]+f*a[3],e*a[6]-f*a[8],a[7],e*a[8]+f*a[6]]:"z"==d?[e*a[0]+f*a[1],e*a[1]-f*a[0],a[2],e*a[3]+f*a[4],e*a[4]-f*a[3],a[5],e*a[6]+f*a[7],e*a[7]-f*a[6],a[8]]:void 0}function sa(a){return[a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]]}function La(a){a.textureLoad||(a.textureLoad=!0,Ma(encodeURI(a.path+"."+s.extension),function(e){a.texture=e,a.textureLoaded=!0},Z.crossOrigin))}function ea(a,e){var f=(d=[a[0]*e[0]+a[1]*e[1]+a[2]*e[2],a[4]*e[0]+a[5]*e[1]+a[6]*e[2],a[11]+a[8]*e[0]+a[9]*e[1]+a[10]*e[2],1/(a[12]*e[0]+a[13]*e[1]+a[14]*e[2])])[0]*d[3],p=d[1]*d[3],d=d[2]*d[3],c=[0,0,0];return-1>f&&(c[0]=-1),1<f&&(c[0]=1),-1>p&&(c[1]=-1),1<p&&(c[1]=1),(-1>d||1<d)&&(c[2]=1),c}function ta(){console.log("Reducing canvas size due to error 1286!"),A.width=Math.round(A.width/2),A.height=Math.round(A.height/2)}var A=f.createElement("canvas");A.style.width=A.style.height="100%",P.appendChild(A);var d,a,V,N,na,R,ua,fa,s,G,va,ka,F,ba,Da,Z;this.init=function(h,e,Ia,ja,p,c,g,t){if(e===m&&(e="equirectangular"),"equirectangular"!=e&&"cubemap"!=e&&"multires"!=e)throw console.log("Error: invalid image type specified!"),{type:"config error"};if(G=e,s=h,va=Ia,Z=t||{},d){if(V&&(a.detachShader(d,V),a.deleteShader(V)),N&&(a.detachShader(d,N),a.deleteShader(N)),a.bindBuffer(a.ARRAY_BUFFER,null),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null),d.texture&&a.deleteTexture(d.texture),d.nodeCache)for(h=0;h<d.nodeCache.length;h++)a.deleteTexture(d.nodeCache[h].texture);a.deleteProgram(d),d=m}if(fa=m,"cubemap"==G&&0!=(s[0].width&s[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(a||(a=A.getContext("experimental-webgl",{alpha:!1,depth:!1})),a&&1286==a.getError()&&ta()),!a&&("multires"==G&&s.hasOwnProperty("fallbackPath")||"cubemap"==G)&&("WebkitAppearance"in f.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){R&&P.removeChild(R),(R=f.createElement("div")).className="pnlm-world",ja=s.basePath?s.basePath+s.fallbackPath:s.fallbackPath;var z="frblud".split(""),y=0;for(p=function(){var a=f.createElement("canvas");a.className="pnlm-face pnlm-"+z[this.side]+"face",R.appendChild(a);var c=a.getContext("2d");a.style.width=this.width+4+"px",a.style.height=this.height+4+"px",a.width=this.width+4,a.height=this.height+4,c.drawImage(this,2,2);var h,l,e=c.getImageData(0,0,a.width,a.height),d=e.data;for(h=2;h<a.width-2;h++)for(l=0;4>l;l++)d[4*(h+a.width)+l]=d[4*(h+2*a.width)+l],d[4*(h+a.width*(a.height-2))+l]=d[4*(h+a.width*(a.height-3))+l];for(h=2;h<a.height-2;h++)for(l=0;4>l;l++)d[4*(h*a.width+1)+l]=d[4*(h*a.width+2)+l],d[4*((h+1)*a.width-2)+l]=d[4*((h+1)*a.width-3)+l];for(l=0;4>l;l++)d[4*(a.width+1)+l]=d[4*(2*a.width+2)+l],d[4*(2*a.width-2)+l]=d[4*(3*a.width-3)+l],d[4*(a.width*(a.height-2)+1)+l]=d[4*(a.width*(a.height-3)+2)+l],d[4*(a.width*(a.height-1)-2)+l]=d[4*(a.width*(a.height-2)-3)+l];for(h=1;h<a.width-1;h++)for(l=0;4>l;l++)d[4*h+l]=d[4*(h+a.width)+l],d[4*(h+a.width*(a.height-1))+l]=d[4*(h+a.width*(a.height-2))+l];for(h=1;h<a.height-1;h++)for(l=0;4>l;l++)d[h*a.width*4+l]=d[4*(h*a.width+1)+l],d[4*((h+1)*a.width-1)+l]=d[4*((h+1)*a.width-2)+l];for(l=0;4>l;l++)d[l]=d[4*(a.width+1)+l],d[4*(a.width-1)+l]=d[4*(2*a.width-2)+l],d[a.width*(a.height-1)*4+l]=d[4*(a.width*(a.height-2)+1)+l],d[4*(a.width*a.height-1)+l]=d[4*(a.width*(a.height-1)-2)+l];c.putImageData(e,0,0),6==++y&&(na=this.width,P.appendChild(R),g())},h=0;6>h;h++)c=new Image,c.crossOrigin=Z.crossOrigin?Z.crossOrigin:"anonymous",c.side=h,c.onload=p,c.src="multires"==G?encodeURI(ja.replace("%s",z[h])+"."+s.extension):encodeURI(s[h].src)}else{if(!a)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(s.fullpath=s.basePath?s.basePath+s.path:s.path,s.invTileResolution=1/s.tileResolution,e=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1],ua=[],h=0;6>h;h++)ua[h]=e.slice(12*h,12*h+12),e=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];if("equirectangular"==G){if(h=Math.max(s.width,s.height),e=a.getParameter(a.MAX_TEXTURE_SIZE),h>e)throw console.log("Error: The image is too big; it's "+h+"px wide, but this device's maximum supported width is "+e+"px."),{type:"webgl size error",width:h,maxWidth:e}}else if("cubemap"==G&&(h=s[0].width,e=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),h>e))throw console.log("Error: The cube face image is too big; it's "+h+"px wide, but this device's maximum supported width is "+e+"px."),{type:"webgl size error",width:h,maxWidth:e};if(t===m||t.horizonPitch===m&&t.horizonRoll===m||(fa=[t.horizonPitch==m?0:t.horizonPitch,t.horizonRoll==m?0:t.horizonRoll]),h=a.TEXTURE_2D,a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),V=a.createShader(a.VERTEX_SHADER),e=r,"multires"==G&&(e=v),a.shaderSource(V,e),a.compileShader(V),N=a.createShader(a.FRAGMENT_SHADER),e=Na,"cubemap"==G?(h=a.TEXTURE_CUBE_MAP,e=Oa):"multires"==G&&(e=oa),a.shaderSource(N,e),a.compileShader(N),d=a.createProgram(),a.attachShader(d,V),a.attachShader(d,N),a.linkProgram(d),a.getShaderParameter(V,a.COMPILE_STATUS)||console.log(a.getShaderInfoLog(V)),a.getShaderParameter(N,a.COMPILE_STATUS)||console.log(a.getShaderInfoLog(N)),a.getProgramParameter(d,a.LINK_STATUS)||console.log(a.getProgramInfoLog(d)),a.useProgram(d),d.drawInProgress=!1,d.texCoordLocation=a.getAttribLocation(d,"a_texCoord"),a.enableVertexAttribArray(d.texCoordLocation),"multires"!=G?(ka||(ka=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,ka),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),a.STATIC_DRAW),a.vertexAttribPointer(d.texCoordLocation,2,a.FLOAT,!1,0,0),d.aspectRatio=a.getUniformLocation(d,"u_aspectRatio"),a.uniform1f(d.aspectRatio,a.drawingBufferWidth/a.drawingBufferHeight),d.psi=a.getUniformLocation(d,"u_psi"),d.theta=a.getUniformLocation(d,"u_theta"),d.f=a.getUniformLocation(d,"u_f"),d.h=a.getUniformLocation(d,"u_h"),d.v=a.getUniformLocation(d,"u_v"),d.vo=a.getUniformLocation(d,"u_vo"),d.rot=a.getUniformLocation(d,"u_rot"),a.uniform1f(d.h,ja/(2*Math.PI)),a.uniform1f(d.v,p/Math.PI),a.uniform1f(d.vo,c/Math.PI*2),"equirectangular"==G&&(d.backgroundColor=a.getUniformLocation(d,"u_backgroundColor"),a.uniform4fv(d.backgroundColor,(t.backgroundColor?t.backgroundColor:[0,0,0]).concat([1]))),d.texture=a.createTexture(),a.bindTexture(h,d.texture),"cubemap"==G?(a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,s[1]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_X,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,s[3]),a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Y,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,s[4]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,s[5]),a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Z,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,s[0]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,s[2])):a.texImage2D(h,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,s),a.texParameteri(h,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(h,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(h,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(h,a.TEXTURE_MAG_FILTER,a.LINEAR)):(d.vertPosLocation=a.getAttribLocation(d,"a_vertCoord"),a.enableVertexAttribArray(d.vertPosLocation),F||(F=a.createBuffer()),ba||(ba=a.createBuffer()),Da||(Da=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,ba),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),a.STATIC_DRAW),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,Da),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),a.STATIC_DRAW),d.perspUniform=a.getUniformLocation(d,"u_perspMatrix"),d.cubeUniform=a.getUniformLocation(d,"u_cubeMatrix"),d.level=-1,d.currentNodes=[],d.nodeCache=[],d.nodeCacheTimestamp=0),0!==(ja=a.getError()))throw console.log("Error: Something went wrong with WebGL!",ja),{type:"webgl error"};g()}},this.destroy=function(){if(P!==m&&(A!==m&&P.contains(A)&&P.removeChild(A),R!==m&&P.contains(R)&&P.removeChild(R)),a){var d=a.getExtension("WEBGL_lose_context");d&&d.loseContext()}},this.resize=function(){var h=J.devicePixelRatio||1;A.width=A.clientWidth*h,A.height=A.clientHeight*h,a&&(1286==a.getError()&&ta(),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),"multires"!=G&&a.uniform1f(d.aspectRatio,A.clientWidth/A.clientHeight))},this.resize(),this.setPose=function(a,d){fa=[a,d]},this.render=function(h,e,f,r){var p;if(p=0,r===m&&(r={}),r.roll&&(p=r.roll),fa!==m){var c=fa[0],g=fa[1],t=h,z=e,y=Math.cos(g)*Math.sin(h)*Math.sin(c)+Math.cos(h)*(Math.cos(c)*Math.cos(e)+Math.sin(g)*Math.sin(c)*Math.sin(e)),v=-Math.sin(h)*Math.sin(g)+Math.cos(h)*Math.cos(g)*Math.sin(e);h=Math.cos(g)*Math.cos(c)*Math.sin(h)+Math.cos(h)*(-Math.cos(e)*Math.sin(c)+Math.cos(c)*Math.sin(g)*Math.sin(e)),h=Math.asin(Math.max(Math.min(h,1),-1)),e=Math.atan2(v,y),c=[Math.cos(t)*(Math.sin(g)*Math.sin(c)*Math.cos(z)-Math.cos(c)*Math.sin(z)),Math.cos(t)*Math.cos(g)*Math.cos(z),Math.cos(t)*(Math.cos(c)*Math.sin(g)*Math.cos(z)+Math.sin(z)*Math.sin(c))],g=[-Math.cos(h)*Math.sin(e),Math.cos(h)*Math.cos(e)],g=Math.acos(Math.max(Math.min((c[0]*g[0]+c[1]*g[1])/(Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2])*Math.sqrt(g[0]*g[0]+g[1]*g[1])),1),-1)),0>c[2]&&(g=2*Math.PI-g),p+=g}if(a||"multires"!=G&&"cubemap"!=G){if("multires"!=G)f=2*Math.atan(Math.tan(.5*f)/(a.drawingBufferWidth/a.drawingBufferHeight)),f=1/Math.tan(.5*f),a.uniform1f(d.psi,e),a.uniform1f(d.theta,h),a.uniform1f(d.rot,p),a.uniform1f(d.f,f),!0===va&&"equirectangular"==G&&(a.bindTexture(a.TEXTURE_2D,d.texture),a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,s)),a.drawArrays(a.TRIANGLES,0,6);else{for(c=a.drawingBufferWidth/a.drawingBufferHeight,g=2*Math.atan(Math.tan(f/2)*a.drawingBufferHeight/a.drawingBufferWidth),c=[(g=1/Math.tan(g/2))/c,0,0,0,0,g,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],g=1;g<s.maxLevel&&a.drawingBufferWidth>s.tileResolution*Math.pow(2,g-1)*Math.tan(f/2)*.707;)g++;if(d.level=g,g=[1,0,0,0,1,0,0,0,1],g=ra(g,-p,"z"),g=ra(g,-h,"x"),g=ra(g,e,"y"),g=[g[0],g[1],g[2],0,g[3],g[4],g[5],0,g[6],g[7],g[8],0,0,0,0,1],a.uniformMatrix4fv(d.perspUniform,!1,new Float32Array(sa(c))),a.uniformMatrix4fv(d.cubeUniform,!1,new Float32Array(sa(g))),c=[c[0]*g[0],c[0]*g[1],c[0]*g[2],0,c[5]*g[4],c[5]*g[5],c[5]*g[6],0,c[10]*g[8],c[10]*g[9],c[10]*g[10],c[11],-g[8],-g[9],-g[10],0],d.nodeCache.sort(bb),200<d.nodeCache.length&&d.nodeCache.length>d.currentNodes.length+50)for(g=d.nodeCache.splice(200,d.nodeCache.length-200),p=0;p<g.length;p++)a.deleteTexture(g[p].texture);for(d.currentNodes=[],g="fbudlr".split(""),p=0;6>p;p++)t=new X(ua[p],g[p],1,0,0,s.fullpath),Y(c,t,h,e,f);for(d.currentNodes.sort(W),p=0;p<d.currentNodes.length;p++)if(!d.currentNodes[p].texture){setTimeout(La,0,d.currentNodes[p]);break}if(!d.drawInProgress){for(d.drawInProgress=!0,h=0;h<d.currentNodes.length;h++)d.currentNodes[h].textureLoaded&&(a.bindBuffer(a.ARRAY_BUFFER,F),a.bufferData(a.ARRAY_BUFFER,new Float32Array(d.currentNodes[h].vertices),a.STATIC_DRAW),a.vertexAttribPointer(d.vertPosLocation,3,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,ba),a.vertexAttribPointer(d.texCoordLocation,2,a.FLOAT,!1,0,0),a.bindTexture(a.TEXTURE_2D,d.currentNodes[h].texture),a.drawElements(a.TRIANGLES,6,a.UNSIGNED_SHORT,0));d.drawInProgress=!1}}if(r.returnImage!==m)return A.toDataURL("image/png")}else for(p=na/2,r={f:"translate3d(-"+(p+2)+"px, -"+(p+2)+"px, -"+p+"px)",b:"translate3d("+(p+2)+"px, -"+(p+2)+"px, "+p+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(p+2)+"px, -"+p+"px, "+(p+2)+"px) rotateX(270deg)",d:"translate3d(-"+(p+2)+"px, "+p+"px, -"+(p+2)+"px) rotateX(90deg)",l:"translate3d(-"+p+"px, -"+(p+2)+"px, "+(p+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+p+"px, -"+(p+2)+"px, -"+(p+2)+"px) rotateY(270deg)"},f=1/Math.tan(f/2),f=f*a.drawingBufferWidth/2+"px",h="perspective("+f+") translateZ("+f+") rotateX("+h+"rad) rotateY("+e+"rad) ",e=Object.keys(r),p=0;6>p;p++)f=R.querySelector(".pnlm-"+e[p]+"face").style,f.webkitTransform=h+r[e[p]],f.transform=h+r[e[p]]},this.isLoading=function(){if(a&&"multires"==G)for(var f=0;f<d.currentNodes.length;f++)if(!d.currentNodes[f].textureLoaded)return!0;return!1},this.getCanvas=function(){return A};var Ma=function(){function d(){var e=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=c||"anonymous",this.image.addEventListener("load",function(){var c=e.image;a.bindTexture(a.TEXTURE_2D,e.texture),a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,c),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.bindTexture(a.TEXTURE_2D,null),e.callback(e.texture),p.length?(c=p.shift(),e.loadTexture(c.src,c.texture,c.callback)):m[f++]=e})}function e(a,c,d){this.src=a,this.texture=c,this.callback=d}var c,f=4,m={},p=[];d.prototype.loadTexture=function(a,c,d){this.texture=c,this.callback=d,this.image.src=a};for(var g=0;g<f;g++)m[g]=new d;return function(d,g,h){return c=h,h=a.createTexture(),f?m[--f].loadTexture(d,h,g):p.push(new e(d,h,g)),h}}()}var r="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",v="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",Oa="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",Na="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse\ngl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}",oa="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(f,m,r,v){return new Ba(f,m,r,v)}}}(window,document),window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(J,f){window.setTimeout(J,1e3/60)}}()),window.pannellum=function(J,f,m){function Ba(r,v){function Oa(u){J.removeEventListener("deviceorientation",Oa),u&&null!==u.alpha&&null!==u.beta&&null!==u.gamma?(w.container.appendChild(w.orientation),pa=!0,Ya&&Ka()):pa=!1}function Na(){if((u=f.createElement("div")).innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1==u.getElementsByTagName("i").length)W();else{wa=b.hfov,Ea=b.pitch;var a;if("cubemap"==b.type){for(O=[],u=0;6>u;u++)O.push(new Image),O[u].crossOrigin=b.crossOrigin;n.load.lbox.style.display="block",n.load.lbar.style.display="none"}else if("multires"==b.type)u=JSON.parse(JSON.stringify(b.multiRes)),b.basePath&&b.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(b.multiRes.basePath)?u.basePath=b.basePath+b.multiRes.basePath:b.multiRes.basePath?u.basePath=b.multiRes.basePath:b.basePath&&(u.basePath=b.basePath),O=u;else if(!0===b.dynamic)O=b.panorama;else{if(b.panorama===m)return void W(b.strings.noPanoramaError);O=new Image}if("cubemap"==b.type)for(var ca=6,c=function(){0===--ca&&P()},d=function(a){var u=f.createElement("a");u.href=a.target.src,u.innerHTML=u.href,W(b.strings.fileAccessError.replace("%s",u.outerHTML))},u=0;u<O.length;u++)O[u].onload=c,O[u].onerror=d,a=b.cubeMap[u],b.basePath&&!oa(a)&&(a=b.basePath+a),O[u].src=encodeURI(a);else if("multires"==b.type)P();else if(a="",b.basePath&&(a=b.basePath),!0!==b.dynamic){a=oa(b.panorama)?b.panorama:a+b.panorama,O.onload=function(){J.URL.revokeObjectURL(this.src),P()};var e=new XMLHttpRequest;e.onloadend=function(){if(200!=e.status){var u=f.createElement("a");u.href=encodeURI(a),u.innerHTML=u.href,W(b.strings.fileAccessError.replace("%s",u.outerHTML))}Ba(this.response),n.load.msg.innerHTML=""},e.onprogress=function(a){if(a.lengthComputable){n.load.lbarFill.style.width=a.loaded/a.total*100+"%";var u,b;1e6<a.total?(u="MB",b=(a.loaded/1e6).toFixed(2),a=(a.total/1e6).toFixed(2)):1e3<a.total?(u="kB",b=(a.loaded/1e3).toFixed(1),a=(a.total/1e3).toFixed(1)):(u="B",b=a.loaded,a=a.total),n.load.msg.innerHTML=b+" / "+a+" "+u}else n.load.lbox.style.display="block",n.load.lbar.style.display="none"};try{e.open("GET",a,!0)}catch(g){W(b.strings.malformedURLError)}e.responseType="blob",e.setRequestHeader("Accept","image/*,*/*;q=0.9"),e.withCredentials="use-credentials"===b.crossOrigin,e.send()}b.draggable&&C.classList.add("pnlm-grab"),C.classList.remove("pnlm-grabbing")}}function oa(a){return/^(?:[a-z]+:)?\/\//i.test(a)||"/"==a[0]||"blob:"==a.slice(0,5)}function P(){B||(B=new libpannellum.renderer(M)),Sa||(Sa=!0,H.addEventListener("mousedown",Ca,!1),f.addEventListener("mousemove",La,!1),f.addEventListener("mouseup",ea,!1),b.mouseZoom&&(C.addEventListener("mousewheel",na,!1),C.addEventListener("DOMMouseScroll",na,!1)),b.doubleClickZoom&&H.addEventListener("dblclick",ra,!1),C.addEventListener("mozfullscreenchange",y,!1),C.addEventListener("webkitfullscreenchange",y,!1),C.addEventListener("msfullscreenchange",y,!1),C.addEventListener("fullscreenchange",y,!1),J.addEventListener("resize",ka,!1),J.addEventListener("orientationchange",ka,!1),b.disableKeyboardCtrl||(r.addEventListener("keydown",R,!1),r.addEventListener("keyup",fa,!1),r.addEventListener("blur",ua,!1)),f.addEventListener("mouseleave",ea,!1),""===f.documentElement.style.pointerAction&&""===f.documentElement.style.touchAction?(H.addEventListener("pointerdown",a,!1),H.addEventListener("pointermove",V,!1),H.addEventListener("pointerup",N,!1),H.addEventListener("pointerleave",N,!1)):(H.addEventListener("touchstart",ta,!1),H.addEventListener("touchmove",A,!1),H.addEventListener("touchend",d,!1)),J.navigator.pointerEnabled&&(r.style.touchAction="none")),h(),setTimeout(function(){},500)}function Ba(a){var k=new FileReader;k.addEventListener("loadend",function(){ca=k.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)&&(0>(c=ca.indexOf(""))||65536<c)&&W(b.strings.iOS8WebGLError),-1<(c=ca.indexOf("<x:xmpmeta"))&&!0!==b.ignoreGPanoXMP){var d=ca.substring(c,ca.indexOf("</x:xmpmeta>")+12),ca=(e=function(a){var u;return 0<=d.indexOf(a+'="')?(u=d.substring(d.indexOf(a+'="')+a.length+2),u=u.substring(0,u.indexOf('"'))):0<=d.indexOf(a+">")&&(u=d.substring(d.indexOf(a+">")+a.length+1),u=u.substring(0,u.indexOf("<"))),u!==m?Number(u):null})("GPano:FullPanoWidthPixels"),c=e("GPano:CroppedAreaImageWidthPixels"),f=e("GPano:FullPanoHeightPixels"),g=e("GPano:CroppedAreaImageHeightPixels"),h=e("GPano:CroppedAreaTopPixels"),l=e("GPano:PoseHeadingDegrees"),p=e("GPano:PosePitchDegrees"),e=e("GPano:PoseRollDegrees");null!==ca&&null!==c&&null!==f&&null!==g&&null!==h&&(0>da.indexOf("haov")&&(b.haov=c/ca*360),0>da.indexOf("vaov")&&(b.vaov=g/f*180),0>da.indexOf("vOffset")&&(b.vOffset=-180*((h+g/2)/f-.5)),null!==l&&0>da.indexOf("northOffset")&&(b.northOffset=l,!1!==b.compass&&(b.compass=!0)),null!==p&&null!==e&&(0>da.indexOf("horizonPitch")&&(b.horizonPitch=p),0>da.indexOf("horizonRoll")&&(b.horizonRoll=e)))}O.src=J.URL.createObjectURL(a)}),k.readAsBinaryString!==m?k.readAsBinaryString(a):k.readAsText(a)}function W(a){a===m&&(a=b.strings.genericWebGLError),n.errorMsg.innerHTML="<p>"+a+"</p>",w.load.style.display="none",n.load.box.style.display="none",n.errorMsg.style.display="table",Pa=!0,M.style.display="none",ga("error",a)}function X(a){var b=Y(a);ha.style.left=b.x+"px",ha.style.top=b.y+"px",clearTimeout(X.t1),clearTimeout(X.t2),ha.style.display="block",ha.style.opacity=1,X.t1=setTimeout(function(){ha.style.opacity=0},2e3),X.t2=setTimeout(function(){ha.style.display="none"},2500),a.preventDefault()}function Y(a){var b=r.getBoundingClientRect(),c={};return c.x=a.clientX-b.left,c.y=a.clientY-b.top,c}function Ca(a){if(a.preventDefault(),r.focus(),K&&b.draggable){var k=Y(a);if(b.hotSpotDebug){var c=sa(a);console.log("Pitch: "+c[0]+", Yaw: "+c[1]+", Center Pitch: "+b.pitch+", Center Yaw: "+b.yaw+", HFOV: "+b.hfov)}Ja(),l(),b.roll=0,x.hfov=0,la=!0,S=Date.now(),xa=k.x,ya=k.y,Qa=b.yaw,Ra=b.pitch,C.classList.add("pnlm-grabbing"),C.classList.remove("pnlm-grab"),ga("mousedown",a),F()}}function ra(a){b.minHfov===b.hfov?za.setHfov(wa,1e3):(a=sa(a),za.lookAt(a[0],a[1],b.minHfov,1e3))}function sa(a){var k=Y(a),c=(a=B.getCanvas()).clientWidth,d=a.clientHeight;a=k.x/c*2-1;var d=(1-k.y/d*2)*d/c,e=1/Math.tan(b.hfov*Math.PI/360),f=Math.sin(b.pitch*Math.PI/180),g=Math.cos(b.pitch*Math.PI/180),k=e*g-d*f,c=Math.sqrt(a*a+k*k),d=180*Math.atan((d*g+e*f)/c)/Math.PI;return-180>(a=180*Math.atan2(a/c,k/c)/Math.PI+b.yaw)&&(a+=360),180<a&&(a-=360),[d,a]}function La(a){if(la&&K){S=Date.now();var c=(k=B.getCanvas()).clientWidth,k=k.clientHeight;a=Y(a);var d=180*(Math.atan(xa/c*2-1)-Math.atan(a.x/c*2-1))/Math.PI*b.hfov/90+Qa;x.yaw=(d-b.yaw)%360*.2,b.yaw=d,c=360*Math.atan(Math.tan(b.hfov/360*Math.PI)*k/c)/Math.PI,c=180*(Math.atan(a.y/k*2-1)-Math.atan(ya/k*2-1))/Math.PI*c/90+Ra,x.pitch=.2*(c-b.pitch),b.pitch=c}}function ea(a){la&&(la=!1,15<Date.now()-S&&(x.pitch=x.yaw=0),C.classList.add("pnlm-grab"),C.classList.remove("pnlm-grabbing"),S=Date.now(),ga("mouseup",a))}function ta(a){if(K&&b.draggable){Ja(),l(),b.roll=0,x.hfov=0;var k=Y(a.targetTouches[0]);if(xa=k.x,ya=k.y,2==a.targetTouches.length){var c=Y(a.targetTouches[1]);xa+=.5*(c.x-k.x),ya+=.5*(c.y-k.y),Fa=Math.sqrt((k.x-c.x)*(k.x-c.x)+(k.y-c.y)*(k.y-c.y))}la=!0,S=Date.now(),Qa=b.yaw,Ra=b.pitch,ga("touchstart",a),F()}}function A(a){if(b.draggable&&(a.preventDefault(),K&&(S=Date.now()),la&&K)){var k=Y(a.targetTouches[0]),c=k.x,d=k.y;2==a.targetTouches.length&&-1!=Fa&&(a=Y(a.targetTouches[1]),c+=.5*(a.x-k.x),d+=.5*(a.y-k.y),k=Math.sqrt((k.x-a.x)*(k.x-a.x)+(k.y-a.y)*(k.y-a.y)),U(b.hfov+.1*(Fa-k)),Fa=k),k=b.hfov/360,c=(xa-c)*k+Qa,x.yaw=(c-b.yaw)%360*.2,b.yaw=c,d=(d-ya)*k+Ra,x.pitch=.2*(d-b.pitch),b.pitch=d}}function d(){la=!1,150<Date.now()-S&&(x.pitch=x.yaw=0),Fa=-1,S=Date.now(),ga("touchend",event)}function a(a){"touch"==a.pointerType&&(ma.push(a.pointerId),Aa.push({clientX:a.clientX,clientY:a.clientY}),a.targetTouches=Aa,ta(a),a.preventDefault())}function V(a){if("touch"==a.pointerType)for(var b=0;b<ma.length;b++)if(a.pointerId==ma[b]){Aa[b].clientX=a.clientX,Aa[b].clientY=a.clientY,a.targetTouches=Aa,A(a),a.preventDefault();break}}function N(a){if("touch"==a.pointerType){for(var b=!1,c=0;c<ma.length;c++)a.pointerId==ma[c]&&(ma[c]=m),ma[c]&&(b=!0);b||(ma=[],Aa=[],d()),a.preventDefault()}}function na(a){K&&("fullscreenonly"!=b.mouseZoom||Ga)&&(a.preventDefault(),Ja(),S=Date.now(),a.wheelDeltaY?(U(b.hfov-.05*a.wheelDeltaY),x.hfov=0>a.wheelDelta?1:-1):a.wheelDelta?(U(b.hfov-.05*a.wheelDelta),x.hfov=0>a.wheelDelta?1:-1):a.detail&&(U(b.hfov+1.5*a.detail),x.hfov=0<a.detail?1:-1),F())}function R(a){Ja(),S=Date.now(),l(),b.roll=0;var k=a.which||a.keycode;0>Za.indexOf(k)||(a.preventDefault(),27==k?Ga&&z():s(k,!0))}function ua(){for(var a=0;10>a;a++)q[a]=!1}function fa(a){var b=a.which||a.keycode;0>Za.indexOf(b)||(a.preventDefault(),s(b,!1))}function s(a,b){var c=!1;switch(a){case 109:case 189:case 17:case 173:q[0]!=b&&(c=!0),q[0]=b;break;case 107:case 187:case 16:case 61:q[1]!=b&&(c=!0),q[1]=b;break;case 38:q[2]!=b&&(c=!0),q[2]=b;break;case 87:q[6]!=b&&(c=!0),q[6]=b;break;case 40:q[3]!=b&&(c=!0),q[3]=b;break;case 83:q[7]!=b&&(c=!0),q[7]=b;break;case 37:q[4]!=b&&(c=!0),q[4]=b;break;case 65:q[8]!=b&&(c=!0),q[8]=b;break;case 39:q[5]!=b&&(c=!0),q[5]=b;break;case 68:q[9]!=b&&(c=!0),q[9]=b}c&&b&&(ia="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),F())}function G(){if(K){var e,a=!1,k=b.pitch,c=b.yaw,d=b.hfov;e="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),ia===m&&(ia=e);var f=(e-ia)*b.hfov/1700,f=Math.min(f,1);if(q[0]&&!0===b.keyboardZoom&&(U(b.hfov+(.8*x.hfov+.5)*f),a=!0),q[1]&&!0===b.keyboardZoom&&(U(b.hfov+(.8*x.hfov-.2)*f),a=!0),(q[2]||q[6])&&(b.pitch+=(.8*x.pitch+.2)*f,a=!0),(q[3]||q[7])&&(b.pitch+=(.8*x.pitch-.2)*f,a=!0),(q[4]||q[8])&&(b.yaw+=(.8*x.yaw-.2)*f,a=!0),(q[5]||q[9])&&(b.yaw+=(.8*x.yaw+.2)*f,a=!0),a&&(S=Date.now()),Date.now(),b.autoRotate){if(.001<e-ia){var a=(e-ia)/1e3,g=(x.yaw/a*f-.2*b.autoRotate)*a,g=(0<-b.autoRotate?1:-1)*Math.min(Math.abs(b.autoRotate*a),Math.abs(g));b.yaw+=g}b.autoRotateStopDelay&&(b.autoRotateStopDelay-=e-ia,0>=b.autoRotateStopDelay&&(b.autoRotateStopDelay=!1,$=b.autoRotate,b.autoRotate=0))}L.pitch&&(va("pitch"),k=b.pitch),L.yaw&&(va("yaw"),c=b.yaw),L.hfov&&(va("hfov"),d=b.hfov),0<f&&!b.autoRotate&&(q[4]||q[5]||q[8]||q[9]||L.yaw||(b.yaw+=x.yaw*f*.85),q[2]||q[3]||q[6]||q[7]||L.pitch||(b.pitch+=x.pitch*f*.85),q[0]||q[1]||L.hfov||U(b.hfov+x.hfov*f*.85)),ia=e,0<f&&(x.yaw=.8*x.yaw+(b.yaw-c)/f*.2,x.pitch=.8*x.pitch+(b.pitch-k)/f*.2,x.hfov=.8*x.hfov+(b.hfov-d)/f*.2,k=b.autoRotate?Math.abs(b.autoRotate):5,x.yaw=Math.min(k,Math.max(x.yaw,-k)),x.pitch=Math.min(k,Math.max(x.pitch,-k)),x.hfov=Math.min(k,Math.max(x.hfov,-k))),q[0]&&q[0]&&(x.hfov=0),(q[2]||q[6])&&(q[3]||q[7])&&(x.pitch=0),(q[4]||q[8])&&(q[5]||q[9])&&(x.yaw=0)}}function va(a){var k=L[a],c=Math.min(1,Math.max((Date.now()-k.startTime)/1e3/(k.duration/1e3),0)),c=k.startPosition+b.animationTimingFunction(c)*(k.endPosition-k.startPosition);if(k.endPosition>k.startPosition&&c>=k.endPosition||k.endPosition<k.startPosition&&c<=k.endPosition||k.endPosition===k.startPosition){c=k.endPosition,x[a]=0;var k=L[a].callback,d=L[a].callbackArgs;delete L[a],"function"==typeof k&&k(d)}b[a]=c}function ka(){y()}function F(){Ta||(Ta=!0,ba())}function ba(){if(Da(),Ua&&clearTimeout(Ua),la||!0===aa)requestAnimationFrame(ba);else if(q[0]||q[1]||q[2]||q[3]||q[4]||q[5]||q[6]||q[7]||q[8]||q[9]||b.autoRotate||L.pitch||L.yaw||L.hfov||.01<Math.abs(x.yaw)||.01<Math.abs(x.pitch)||.01<Math.abs(x.hfov))G(),0<=b.autoRotateInactivityDelay&&$&&Date.now()-S>b.autoRotateInactivityDelay&&!b.autoRotate&&(b.autoRotate=$,za.lookAt(Ea,m,wa,3e3)),requestAnimationFrame(ba);else if(B&&(B.isLoading()||!0===b.dynamic&&$a))requestAnimationFrame(ba);else{Ta=!1,ia=m;var a=b.autoRotateInactivityDelay-(Date.now()-S);0<a?Ua=setTimeout(function(){b.autoRotate=$,za.lookAt(Ea,m,wa,3e3),F()},a):0<=b.autoRotateInactivityDelay&&$&&(b.autoRotate=$,za.lookAt(Ea,m,wa,3e3),F())}}function Da(){var a;if(K){180<b.yaw?b.yaw-=360:-180>b.yaw&&(b.yaw+=360),a=b.yaw;var k=b.maxYaw-b.minYaw,d=-180,e=180;360>k&&(d=b.minYaw+b.hfov/2,e=b.maxYaw-b.hfov/2,k<b.hfov&&(d=e=(d+e)/2)),b.yaw=Math.max(d,Math.min(e,b.yaw)),!1!==b.autoRotate&&a!=b.yaw&&(b.autoRotate*=-1),a=B.getCanvas(),a=2*Math.atan(Math.tan(b.hfov/180*Math.PI*.5)/(a.width/a.height))/Math.PI*180,k=b.minPitch+a/2,d=b.maxPitch-a/2,b.maxPitch-b.minPitch<a&&(k=d=(k+d)/2),isNaN(k)&&(k=-90),isNaN(d)&&(d=90),b.pitch=Math.max(k,Math.min(d,b.pitch)),B.render(b.pitch*Math.PI/180,b.yaw*Math.PI/180,b.hfov*Math.PI/180,{roll:b.roll*Math.PI/180}),b.hotSpots.forEach(c),b.compass&&(Ha.style.transform="rotate("+(-b.yaw-b.northOffset)+"deg)",Ha.style.webkitTransform="rotate("+(-b.yaw-b.northOffset)+"deg)")}}function Z(a,b,c,d){this.w=a,this.x=b,this.y=c,this.z=d}function Ma(a){var c;c=a.alpha;var d=a.beta;a=a.gamma,d=[d?d*Math.PI/180/2:0,a?a*Math.PI/180/2:0,c?c*Math.PI/180/2:0],c=[Math.cos(d[0]),Math.cos(d[1]),Math.cos(d[2])],d=[Math.sin(d[0]),Math.sin(d[1]),Math.sin(d[2])],c=(c=new Z(c[0]*c[1]*c[2]-d[0]*d[1]*d[2],d[0]*c[1]*c[2]-c[0]*d[1]*d[2],c[0]*d[1]*c[2]+d[0]*c[1]*d[2],c[0]*c[1]*d[2]+d[0]*d[1]*c[2])).multiply(new Z(Math.sqrt(.5),-Math.sqrt(.5),0,0)),d=J.orientation?-J.orientation*Math.PI/180/2:0,c=c.multiply(new Z(Math.cos(d),0,-Math.sin(d),0)).toEulerAngles(),"number"==typeof aa&&10>aa?aa+=1:10===aa?(ab=c[2]/Math.PI*180+b.yaw,aa=!0,requestAnimationFrame(ba)):(b.pitch=c[0]/Math.PI*180,b.roll=-c[1]/Math.PI*180,b.yaw=-c[2]/Math.PI*180+ab)}function h(){try{var a={};b.horizonPitch!==m&&(a.horizonPitch=b.horizonPitch*Math.PI/180),b.horizonRoll!==m&&(a.horizonRoll=b.horizonRoll*Math.PI/180),b.backgroundColor!==m&&(a.backgroundColor=b.backgroundColor),B.init(O,b.type,b.dynamic,b.haov*Math.PI/180,b.vaov*Math.PI/180,b.vOffset*Math.PI/180,e,a),!0!==b.dynamic&&(O=m)}catch(c){if("webgl error"==c.type||"no webgl"==c.type)W();else{if("webgl size error"!=c.type)throw W(b.strings.unknownError),c;W(b.strings.textureSizeError.replace("%s",c.width).replace("%s",c.maxWidth))}}}function e(){if(b.sceneFadeDuration&&B.fadeImg!==m){B.fadeImg.style.opacity=0;var a=B.fadeImg;delete B.fadeImg,setTimeout(function(){M.removeChild(a),ga("scenechangefadedone")},b.sceneFadeDuration)}Ha.style.display=b.compass?"inline":"none",ja(),n.load.box.style.display="none",qa!==m&&(M.removeChild(qa),qa=m),K=!0,ga("load"),F()}function Ia(a){a.pitch=Number(a.pitch)||0,a.yaw=Number(a.yaw)||0;var c=f.createElement("div");c.className="pnlm-hotspot-base",c.className=a.cssClass?c.className+" "+a.cssClass:c.className+" pnlm-hotspot pnlm-sprite pnlm-"+D(a.type);var d=f.createElement("span");a.text&&(d.innerHTML=D(a.text));var e;if(a.video){e=f.createElement("video");var g=a.video;b.basePath&&!oa(g)&&(g=b.basePath+g),e.src=encodeURI(g),e.controls=!0,e.style.width=a.width+"px",M.appendChild(c),d.appendChild(e)}else if(a.image){g=a.image,b.basePath&&!oa(g)&&(g=b.basePath+g),(e=f.createElement("a")).href=encodeURI(a.URL?a.URL:g),e.target="_blank",d.appendChild(e);var h=f.createElement("img");h.src=encodeURI(g),h.style.width=a.width+"px",h.style.paddingTop="5px",M.appendChild(c),e.appendChild(h),d.style.maxWidth="initial"}else a.URL?(e=f.createElement("a"),e.href=encodeURI(a.URL),e.target="_blank",M.appendChild(e),c.style.cursor="pointer",d.style.cursor="pointer",e.appendChild(c)):(a.sceneId&&(c.onclick=c.ontouchend=function(){return c.clicked||(c.clicked=!0,I(a.sceneId,a.targetPitch,a.targetYaw,a.targetHfov)),!1},c.style.cursor="pointer",d.style.cursor="pointer"),M.appendChild(c));a.createTooltipFunc?a.createTooltipFunc(c,a.createTooltipArgs):(a.text||a.video||a.image)&&(c.classList.add("pnlm-tooltip"),c.appendChild(d),d.style.width=d.scrollWidth-20+"px",d.style.marginLeft=-(d.scrollWidth-c.offsetWidth)/2+"px",d.style.marginTop=-d.scrollHeight-12+"px"),a.clickHandlerFunc&&(c.addEventListener("click",function(b){a.clickHandlerFunc(b,a.clickHandlerArgs)},"false"),c.style.cursor="pointer",d.style.cursor="pointer"),a.div=c}function ja(){Va||(b.hotSpots?(b.hotSpots=b.hotSpots.sort(function(a,b){return a.pitch<b.pitch}),b.hotSpots.forEach(Ia)):b.hotSpots=[],Va=!0,b.hotSpots.forEach(c))}function p(){var a=b.hotSpots;if(Va=!1,delete b.hotSpots,a)for(var c=0;c<a.length;c++){for(var d=a[c].div;d.parentNode!=M;)d=d.parentNode;M.removeChild(d),delete a[c].div}}function c(a){var c=Math.sin(a.pitch*Math.PI/180),d=Math.cos(a.pitch*Math.PI/180),e=Math.sin(b.pitch*Math.PI/180),f=Math.cos(b.pitch*Math.PI/180),g=Math.cos((-a.yaw+b.yaw)*Math.PI/180),h=c*e+d*g*f;if(90>=a.yaw&&-90<a.yaw&&0>=h||(90<a.yaw||-90>=a.yaw)&&0>=h)a.div.style.visibility="hidden";else{var l=Math.sin((-a.yaw+b.yaw)*Math.PI/180),p=Math.tan(b.hfov*Math.PI/360);a.div.style.visibility="visible";var n=(m=B.getCanvas()).clientWidth,m=m.clientHeight,c=[-n/p*l*d/h/2,-n/p*(c*f-d*g*e)/h/2],d=Math.sin(b.roll*Math.PI/180),e=Math.cos(b.roll*Math.PI/180);(c=[c[0]*e-c[1]*d,c[0]*d+c[1]*e])[0]+=(n-a.div.offsetWidth)/2,c[1]+=(m-a.div.offsetHeight)/2,n="translate("+c[0]+"px, "+c[1]+"px) translateZ(9999px) rotate("+b.roll+"deg)",a.div.style.webkitTransform=n,a.div.style.MozTransform=n,a.div.style.transform=n}}function g(a){b={};var c,d,e="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");da=[];for(c in Wa)Wa.hasOwnProperty(c)&&(b[c]=Wa[c]);for(c in v.default)if(v.default.hasOwnProperty(c))if("strings"==c)for(d in v.default.strings)v.default.strings.hasOwnProperty(d)&&(b.strings[d]=D(v.default.strings[d]));else b[c]=v.default[c],0<=e.indexOf(c)&&da.push(c);if(null!==a&&""!==a&&v.scenes&&v.scenes[a]){var f=v.scenes[a];for(c in f)if(f.hasOwnProperty(c))if("strings"==c)for(d in f.strings)f.strings.hasOwnProperty(d)&&(b.strings[d]=D(f.strings[d]));else b[c]=f[c],0<=e.indexOf(c)&&da.push(c);b.scene=a}for(c in v)if(v.hasOwnProperty(c))if("strings"==c)for(d in v.strings)v.strings.hasOwnProperty(d)&&(b.strings[d]=D(v.strings[d]));else b[c]=v[c],0<=e.indexOf(c)&&da.push(c)}function t(a){if((a=a||!1)&&"preview"in b){c=b.preview;b.basePath&&!oa(c)&&(c=b.basePath+c),(qa=f.createElement("div")).className="pnlm-preview-img",qa.style.backgroundImage="url('"+encodeURI(c)+"')",M.appendChild(qa)}var c=b.title,d=b.author;a&&("previewTitle"in b&&(b.title=b.previewTitle),"previewAuthor"in b&&(b.author=b.previewAuthor)),b.hasOwnProperty("title")||(n.title.innerHTML=""),b.hasOwnProperty("author")||(n.author.innerHTML=""),b.hasOwnProperty("title")||b.hasOwnProperty("author")||(n.container.style.display="none"),w.load.innerHTML="<p>"+b.strings.loadButtonLabel+"</p>",n.load.boxp.innerHTML=b.strings.loadingLabel;for(var e in b)if(b.hasOwnProperty(e))switch(e){case"title":n.title.innerHTML=D(b[e]),n.container.style.display="inline";break;case"author":n.author.innerHTML=b.strings.bylineLabel.replace("%s",D(b[e])),n.container.style.display="inline";break;case"fallback":n.errorMsg.innerHTML='<p>Your browser does not support WebGL.<br><a href="'+encodeURI(b[e])+'" target="_blank">Click here to view this panorama in an alternative viewer.</a></p>';break;case"hfov":U(Number(b[e]));break;case"autoLoad":!0===b[e]&&B===m&&(n.load.box.style.display="inline",w.load.style.display="none",Na());break;case"showZoomCtrl":w.zoom.style.display=b[e]&&0!=b.showControls?"block":"none";break;case"showFullscreenCtrl":w.fullscreen.style.display=b[e]&&0!=b.showControls&&("fullscreen"in f||"mozFullScreen"in f||"webkitIsFullScreen"in f||"msFullscreenElement"in f)?"block":"none";break;case"hotSpotDebug":Xa.style.display=b[e]?"block":"none";break;case"showControls":b[e]||(w.orientation.style.display="none",w.zoom.style.display="none",w.fullscreen.style.display="none");break;case"orientationOnByDefault":b[e]&&(pa===m?Ya=!0:!0===pa&&Ka())}a&&(c?b.title=c:delete b.title,d?b.author=d:delete b.author)}function z(){if(K&&!Pa)if(Ga)f.exitFullscreen?f.exitFullscreen():f.mozCancelFullScreen?f.mozCancelFullScreen():f.webkitCancelFullScreen?f.webkitCancelFullScreen():f.msExitFullscreen&&f.msExitFullscreen();else try{r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen?r.msRequestFullscreen():r.webkitRequestFullScreen()}catch(a){}}function y(){f.fullscreen||f.mozFullScreen||f.webkitIsFullScreen||f.msFullscreenElement?(w.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),Ga=!0):(w.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),Ga=!1),B.resize(),U(b.hfov),F()}function E(a){var c=b.minHfov;return"multires"==b.type&&B&&(c=Math.min(c,B.getCanvas().width/(b.multiRes.cubeResolution/90*.9))),c>b.maxHfov?(console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),b.hfov):a<c?c:a>b.maxHfov?b.maxHfov:a}function U(a){b.hfov=E(a)}function Ja(){L={},$=b.autoRotate?b.autoRotate:$,b.autoRotate=!1}function Q(){Pa&&(n.load.box.style.display="none",n.errorMsg.style.display="none",Pa=!1,ga("errorcleared")),K=!1,w.load.style.display="none",n.load.box.style.display="inline",Na()}function I(a,c,d,e,f){K=!1,L={};var h,l;if(b.sceneFadeDuration&&!f&&(h=B.render(b.pitch*Math.PI/180,b.yaw*Math.PI/180,b.hfov*Math.PI/180,{returnImage:!0}))!==m)return f=new Image,f.className="pnlm-fade-img",f.style.transition="opacity "+b.sceneFadeDuration/1e3+"s",f.style.width="100%",f.style.height="100%",f.onload=function(){I(a,c,d,e,!0)},f.src=h,M.appendChild(f),void(B.fadeImg=f);f="same"===c?b.pitch:c,h="same"===d?b.yaw:"sameAzimuth"===d?b.yaw+(b.northOffset||0)-(v.scenes[a].northOffset||0):d,l="same"===e?b.hfov:e,p(),g(a),x.yaw=x.pitch=x.hfov=0,t(),f!==m&&(b.pitch=f),h!==m&&(b.yaw=h),l!==m&&(b.hfov=l),ga("scenechange",a),Q()}function l(){J.removeEventListener("deviceorientation",Ma),w.orientation.classList.remove("pnlm-orientation-button-active"),aa=!1}function Ka(){aa=1,J.addEventListener("deviceorientation",Ma),w.orientation.classList.add("pnlm-orientation-button-active")}function D(a){return v.escapeHTML?String(a).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):String(a).split("\n").join("<br>")}function ga(a){if(a in T)for(var b=T[a].length;0<b;b--)T[a][T[a].length-b].apply(null,[].slice.call(arguments,1))}var b,B,qa,K,O,ia,Ua,wa,Ea,za=this,la=!1,S=Date.now(),xa=0,ya=0,Fa=-1,Qa=0,Ra=0,q=Array(10),Ga=!1,Pa=!1,Sa=!1,x={yaw:0,pitch:0,hfov:0},Ta=!1,aa=!1,ab=0,$=0,L={},T={},da=[],$a=!1,Va=!1,Wa={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:m,maxPitch:m,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:m,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],animationTimingFunction:function(a){return.5>a?2*a*a:(4-2*a)*a-1},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}},Za=[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189];(r="string"==typeof r?f.getElementById(r):r).classList.add("pnlm-container"),r.tabIndex=0;var C=f.createElement("div");C.className="pnlm-ui",r.appendChild(C);var M=f.createElement("div");M.className="pnlm-render-container",r.appendChild(M);var H=f.createElement("div");H.className="pnlm-dragfix",C.appendChild(H);var ha=f.createElement("span");ha.className="pnlm-about-msg",ha.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.4.1',C.appendChild(ha),H.addEventListener("contextmenu",X);var n={},Xa=f.createElement("div");Xa.className="pnlm-sprite pnlm-hot-spot-debug-indicator",C.appendChild(Xa),n.container=f.createElement("div"),n.container.className="pnlm-panorama-info",n.title=f.createElement("div"),n.title.className="pnlm-title-box",n.container.appendChild(n.title),n.author=f.createElement("div"),n.author.className="pnlm-author-box",n.container.appendChild(n.author),C.appendChild(n.container),n.load={},n.load.box=f.createElement("div"),n.load.box.className="pnlm-load-box",n.load.boxp=f.createElement("p"),n.load.box.appendChild(n.load.boxp),n.load.lbox=f.createElement("div"),n.load.lbox.className="pnlm-lbox",n.load.lbox.innerHTML='<div class="pnlm-loading"></div>',n.load.box.appendChild(n.load.lbox),n.load.lbar=f.createElement("div"),n.load.lbar.className="pnlm-lbar",n.load.lbarFill=f.createElement("div"),n.load.lbarFill.className="pnlm-lbar-fill",n.load.lbar.appendChild(n.load.lbarFill),n.load.box.appendChild(n.load.lbar),n.load.msg=f.createElement("p"),n.load.msg.className="pnlm-lmsg",n.load.box.appendChild(n.load.msg),C.appendChild(n.load.box),n.errorMsg=f.createElement("div"),n.errorMsg.className="pnlm-error-msg pnlm-info-box",C.appendChild(n.errorMsg);var w={};w.container=f.createElement("div"),w.container.className="pnlm-controls-container",C.appendChild(w.container),w.load=f.createElement("div"),w.load.className="pnlm-load-button",w.load.addEventListener("click",function(){t(),Q()}),C.appendChild(w.load),w.zoom=f.createElement("div"),w.zoom.className="pnlm-zoom-controls pnlm-controls",w.zoomIn=f.createElement("div"),w.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",w.zoomIn.addEventListener("click",function(){K&&(U(b.hfov-5),F())}),w.zoom.appendChild(w.zoomIn),w.zoomOut=f.createElement("div"),w.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",w.zoomOut.addEventListener("click",function(){K&&(U(b.hfov+5),F())}),w.zoom.appendChild(w.zoomOut),w.container.appendChild(w.zoom),w.fullscreen=f.createElement("div"),w.fullscreen.addEventListener("click",z),w.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(f.fullscreenEnabled||f.mozFullScreenEnabled||f.webkitFullscreenEnabled||f.msFullscreenEnabled)&&w.container.appendChild(w.fullscreen),w.orientation=f.createElement("div"),w.orientation.addEventListener("click",function(a){aa?l():Ka()}),w.orientation.addEventListener("mousedown",function(a){a.stopPropagation()}),w.orientation.addEventListener("touchstart",function(a){a.stopPropagation()}),w.orientation.addEventListener("pointerdown",function(a){a.stopPropagation()}),w.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var pa,Ya=!1;J.DeviceOrientationEvent?J.addEventListener("deviceorientation",Oa):pa=!1;var Ha=f.createElement("div");Ha.className="pnlm-compass pnlm-controls pnlm-control",C.appendChild(Ha),g(v.firstScene?v.firstScene:v.default&&v.default.firstScene?v.default.firstScene:null),t(!0);var ma=[],Aa=[];Z.prototype.multiply=function(a){return new Z(this.w*a.w-this.x*a.x-this.y*a.y-this.z*a.z,this.x*a.w+this.w*a.x+this.y*a.z-this.z*a.y,this.y*a.w+this.w*a.y+this.z*a.x-this.x*a.z,this.z*a.w+this.w*a.z+this.x*a.y-this.y*a.x)},Z.prototype.toEulerAngles=function(){return[Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),Math.asin(2*(this.w*this.y-this.z*this.x)),Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z))]},this.isLoaded=function(){return Boolean(K)},this.getPitch=function(){return b.pitch},this.setPitch=function(a,c,d,e){return(c=c==m?1e3:Number(c))?L.pitch={startTime:Date.now(),startPosition:b.pitch,endPosition:a,duration:c,callback:d,callbackArgs:e}:b.pitch=a,F(),this},this.getPitchBounds=function(){return[b.minPitch,b.maxPitch]},this.setPitchBounds=function(a){return b.minPitch=Math.max(-90,Math.min(a[0],90)),b.maxPitch=Math.max(-90,Math.min(a[1],90)),this},this.getYaw=function(){return b.yaw},this.setYaw=function(a,c,d,e){return c=c==m?1e3:Number(c),a=(a+180)%360-180,c?(180<b.yaw-a?a+=360:180<a-b.yaw&&(a-=360),L.yaw={startTime:Date.now(),startPosition:b.yaw,endPosition:a,duration:c,callback:d,callbackArgs:e}):b.yaw=a,F(),this},this.getYawBounds=function(){return[b.minYaw,b.maxYaw]},this.setYawBounds=function(a){return b.minYaw=Math.max(-180,Math.min(a[0],180)),b.maxYaw=Math.max(-180,Math.min(a[1],180)),this},this.getHfov=function(){return b.hfov},this.setHfov=function(a,c,d,e){return(c=c==m?1e3:Number(c))?L.hfov={startTime:Date.now(),startPosition:b.hfov,endPosition:E(a),duration:c,callback:d,callbackArgs:e}:U(a),F(),this},this.getHfovBounds=function(){return[b.minHfov,b.maxHfov]},this.setHfovBounds=function(a){return b.minHfov=Math.max(0,a[0]),b.maxHfov=Math.max(0,a[1]),this},this.lookAt=function(a,b,c,d,e,f){return d=d==m?1e3:Number(d),a!==m&&(this.setPitch(a,d,e,f),e=m),b!==m&&(this.setYaw(b,d,e,f),e=m),c!==m&&this.setHfov(c,d,e,f),this},this.getNorthOffset=function(){return b.northOffset},this.setNorthOffset=function(a){return b.northOffset=Math.min(360,Math.max(0,a)),F(),this},this.getHorizonRoll=function(){return b.horizonRoll},this.setHorizonRoll=function(a){return b.horizonRoll=Math.min(90,Math.max(-90,a)),B.setPose(b.horizonPitch*Math.PI/180,b.horizonRoll*Math.PI/180),F(),this},this.getHorizonPitch=function(){return b.horizonPitch},this.setHorizonPitch=function(a){return b.horizonPitch=Math.min(90,Math.max(-90,a)),B.setPose(b.horizonPitch*Math.PI/180,b.horizonRoll*Math.PI/180),F(),this},this.startAutoRotate=function(a){return a=a||$||1,b.autoRotate=a,za.lookAt(Ea,m,wa,3e3),F(),this},this.stopAutoRotate=function(){return $=b.autoRotate?b.autoRotate:$,b.autoRotate=!1,b.autoRotateInactivityDelay=-1,this},this.getRenderer=function(){return B},this.setUpdate=function(a){return $a=!0===a,B===m?P():F(),this},this.mouseEventToCoords=function(a){return sa(a)},this.loadScene=function(a,b,c,d){return!1!==K&&I(a,b,c,d),this},this.getScene=function(){return b.scene},this.addScene=function(a,b){return v.scenes[a]=b,this},this.removeScene=function(a){return!(b.scene===a||!v.scenes.hasOwnProperty(a))&&(delete v.scenes[a],!0)},this.toggleFullscreen=function(){return z(),this},this.getConfig=function(){return b},this.getContainer=function(){return r},this.addHotSpot=function(a,d){if(d===m&&b.scene===m)b.hotSpots.push(a);else{var e=d!==m?d:b.scene;if(!v.scenes.hasOwnProperty(e))throw"Invalid scene ID!";v.scenes[e].hasOwnProperty("hotSpots")||(v.scenes[e].hotSpots=[],e==b.scene&&(b.hotSpots=v.scenes[e].hotSpots)),v.scenes[e].hotSpots.push(a)}return d!==m&&b.scene!=d||(Ia(a),K&&c(a)),this},this.removeHotSpot=function(a){if(!b.hotSpots)return!1;for(var c=0;c<b.hotSpots.length;c++)if(b.hotSpots[c].hasOwnProperty("id")&&b.hotSpots[c].id===a){for(a=b.hotSpots[c].div;a.parentNode!=M;)a=a.parentNode;return M.removeChild(a),delete b.hotSpots[c].div,b.hotSpots.splice(c,1),!0}return!1},this.resize=function(){y()},this.isLoaded=function(){return K},this.isOrientationSupported=function(){return pa||!1},this.stopOrientation=function(){l()},this.startOrientation=function(){pa&&Ka()},this.isOrientationActive=function(){return Boolean(aa)},this.on=function(a,b){return T[a]=T[a]||[],T[a].push(b),this},this.off=function(a,b){if(!a)return T={},this;if(b){var c=T[a].indexOf(b);0<=c&&T[a].splice(c,1),0==T[a].length&&delete T[a]}else delete T[a];return this},this.destroy=function(){B&&B.destroy(),Sa&&(H.removeEventListener("mousedown",Ca,!1),H.removeEventListener("dblclick",ra,!1),f.removeEventListener("mousemove",La,!1),f.removeEventListener("mouseup",ea,!1),r.removeEventListener("mousewheel",na,!1),r.removeEventListener("DOMMouseScroll",na,!1),r.removeEventListener("mozfullscreenchange",y,!1),r.removeEventListener("webkitfullscreenchange",y,!1),r.removeEventListener("msfullscreenchange",y,!1),r.removeEventListener("fullscreenchange",y,!1),J.removeEventListener("resize",ka,!1),J.removeEventListener("orientationchange",ka,!1),r.removeEventListener("keydown",R,!1),r.removeEventListener("keyup",fa,!1),r.removeEventListener("blur",ua,!1),f.removeEventListener("mouseleave",ea,!1),H.removeEventListener("touchstart",ta,!1),H.removeEventListener("touchmove",A,!1),H.removeEventListener("touchend",d,!1),H.removeEventListener("pointerdown",a,!1),H.removeEventListener("pointermove",V,!1),H.removeEventListener("pointerup",N,!1),H.removeEventListener("pointerleave",N,!1)),r.innerHTML="",r.classList.remove("pnlm-container"),C.classList.remove("pnlm-grab"),C.classList.remove("pnlm-grabbing")}}return{viewer:function(f,m){return new Ba(f,m)}}}(window,document),function($){$(function(){jQuery("[data-role=googlemap]").each(function(i,element){function initialize(){if(!loaded){if(!new RegExp("(googlebot/|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i").test(navigator.userAgent)){var style=[{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{saturation:-5},{weight:1.5}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]}];mapOptions={center:{lat:$(element).data("lat"),lng:$(element).data("lng")},zoom:13,disableDefaultUI:!1,zoomControl:!1,scrollwheel:!1,draggable:!1,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},$(element).data("style")&&style&&(mapOptions.styles=style),map=new google.maps.Map(element,mapOptions),$(element).data("marker-dom")&&addMarker($($(element).data("marker-dom")).html()),google.maps.event.addListenerOnce(map,"idle",function(){$(".gm-style-iw").css("min-width","auto")}),loaded=!0}}}function addMarker(){marker=new google.maps.Marker({position:mapOptions.center,map:map,title:$(element).data("maker-title"),visible:!1}),contentString=$($(element).data("marker-dom")).html(),new google.maps.InfoWindow({content:contentString,borderWidth:0}).open(map,marker)}var map,marker,mapOptions,loaded=!1;if($(element).addClass("hg-googlemap-bg"),(void 0==iexplorer||iexplorer>8)&&void 0!=google)var pid=setInterval(function(){if($(element).visible(!0)){if(loaded)return;$(element).removeClass("DISPLAY"),initialize(),delay(function(){$(element).addClass("DISPLAY")},1e3),clearTimeout(pid)}},300);var delay=function(){var timer=0;return function(callback,ms){clearTimeout(timer),timer=setTimeout(callback,ms)}}();$(window).resize(function(){if(marker){$(element).removeClass("DISPLAY"),marker.setMap(null);var center=map.getCenter();google.maps.event.trigger(map,"resize"),$(element).data("marker-dom")&&addMarker($($(element).data("marker-dom")).html()),map.setCenter(center),$(".gm-style-iw").css("min-width","auto"),delay(function(){$(element).addClass("DISPLAY")},100)}})})})}(jQuery),function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.PhotoSwipe=factory()}(this,function(){"use strict";return function(template,UiClass,items,options){var framework={features:null,bind:function(target,type,listener,unbind){var methodName=(unbind?"remove":"add")+"EventListener";type=type.split(" ");for(var i=0;i<type.length;i++)type[i]&&target[methodName](type[i],listener,!1)},isArray:function(obj){return obj instanceof Array},createEl:function(classes,tag){var el=document.createElement(tag||"div");return classes&&(el.className=classes),el},getScrollY:function(){var yOffset=window.pageYOffset;return void 0!==yOffset?yOffset:document.documentElement.scrollTop},unbind:function(target,type,listener){framework.bind(target,type,listener,!0)},removeClass:function(el,className){var reg=new RegExp("(\\s|^)"+className+"(\\s|$)");el.className=el.className.replace(reg," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(el,className){framework.hasClass(el,className)||(el.className+=(el.className?" ":"")+className)},hasClass:function(el,className){return el.className&&new RegExp("(^|\\s)"+className+"(\\s|$)").test(el.className)},getChildByClass:function(parentEl,childClassName){for(var node=parentEl.firstChild;node;){if(framework.hasClass(node,childClassName))return node;node=node.nextSibling}},arraySearch:function(array,value,key){for(var i=array.length;i--;)if(array[i][key]===value)return i;return-1},extend:function(o1,o2,preventOverwrite){for(var prop in o2)if(o2.hasOwnProperty(prop)){if(preventOverwrite&&o1.hasOwnProperty(prop))continue;o1[prop]=o2[prop]}},easing:{sine:{out:function(k){return Math.sin(k*(Math.PI/2))},inOut:function(k){return-(Math.cos(Math.PI*k)-1)/2}},cubic:{out:function(k){return--k*k*k+1}}},detectFeatures:function(){if(framework.features)return framework.features;var helperStyle=framework.createEl().style,vendor="",features={};if(features.oldIE=document.all&&!document.addEventListener,features.touch="ontouchstart"in window,window.requestAnimationFrame&&(features.raf=window.requestAnimationFrame,features.caf=window.cancelAnimationFrame),features.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!features.pointerEvent){var ua=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var v=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);v&&v.length>0&&(v=parseInt(v[1],10))>=1&&v<8&&(features.isOldIOSPhone=!0)}var match=ua.match(/Android\s([0-9\.]*)/),androidversion=match?match[1]:0;(androidversion=parseFloat(androidversion))>=1&&(androidversion<4.4&&(features.isOldAndroid=!0),features.androidVersion=androidversion),features.isMobileOpera=/opera mini|opera mobi/i.test(ua)}for(var styleCheckItem,styleName,styleChecks=["transform","perspective","animationName"],vendors=["","webkit","Moz","ms","O"],i=0;i<4;i++){vendor=vendors[i];for(var a=0;a<3;a++)styleCheckItem=styleChecks[a],styleName=vendor+(vendor?styleCheckItem.charAt(0).toUpperCase()+styleCheckItem.slice(1):styleCheckItem),!features[styleCheckItem]&&styleName in helperStyle&&(features[styleCheckItem]=styleName);vendor&&!features.raf&&(vendor=vendor.toLowerCase(),features.raf=window[vendor+"RequestAnimationFrame"],features.raf&&(features.caf=window[vendor+"CancelAnimationFrame"]||window[vendor+"CancelRequestAnimationFrame"]))}if(!features.raf){var lastTime=0;features.raf=function(fn){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){fn(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id},features.caf=function(id){clearTimeout(id)}}return features.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,framework.features=features,features}};framework.detectFeatures(),framework.features.oldIE&&(framework.bind=function(target,type,listener,unbind){type=type.split(" ");for(var evName,methodName=(unbind?"detach":"attach")+"Event",_handleEv=function(){listener.handleEvent.call(listener)},i=0;i<type.length;i++)if(evName=type[i])if("object"==typeof listener&&listener.handleEvent){if(unbind){if(!listener["oldIE"+evName])return!1}else listener["oldIE"+evName]=_handleEv;target[methodName]("on"+evName,listener["oldIE"+evName])}else target[methodName]("on"+evName,listener)});var self=this,_options={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(el){return"A"===el.tagName},getDoubleTapZoom:function(isMouseClick,item){return isMouseClick?1:item.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};framework.extend(_options,options);var _isOpen,_isDestroying,_closedByScroll,_currentItemIndex,_containerStyle,_containerShiftIndex,_upMoveEvents,_downEvents,_globalEventHandlers,_currZoomLevel,_startZoomLevel,_translatePrefix,_translateSufix,_updateSizeInterval,_itemsNeedUpdate,_itemHolders,_prevItemIndex,_dragStartEvent,_dragMoveEvent,_dragEndEvent,_dragCancelEvent,_transformKey,_pointerEventEnabled,_likelyTouchDevice,_requestAF,_cancelAF,_initalClassName,_initalWindowScrollY,_oldIE,_currentWindowScrollY,_features,_orientationChangeTimeout,_gestureStartTime,_gestureCheckSpeedTime,_releaseAnimData,_isZoomingIn,_verticalDragInitiated,_oldAndroidTouchEndTimeout,_isDragging,_isMultitouch,_zoomStarted,_moved,_dragAnimFrame,_mainScrollShifted,_currentPoints,_isZooming,_currPointsDistance,_startPointsDistance,_currPanBounds,_currZoomElementStyle,_mainScrollAnimating,_direction,_isFirstMove,_opacityChanged,_bgOpacity,_wasOverInitialZoom,_tempCounter,_currPanDist={x:0,y:0},_startPanOffset={x:0,y:0},_panOffset={x:0,y:0},_viewportSize={},_currPositionIndex=0,_offset={},_slideSize={x:0,y:0},_indexDiff=0,_isFixedPosition=!0,_modules=[],_windowVisibleSize={},_renderMaxResolution=!1,_registerModule=function(name,module){framework.extend(self,module.publicMethods),_modules.push(name)},_getLoopedId=function(index){var numSlides=_getNumItems();return index>numSlides-1?index-numSlides:index<0?numSlides+index:index},_listeners={},_listen=function(name,fn){return _listeners[name]||(_listeners[name]=[]),_listeners[name].push(fn)},_shout=function(name){var listeners=_listeners[name];if(listeners){var args=Array.prototype.slice.call(arguments);args.shift();for(var i=0;i<listeners.length;i++)listeners[i].apply(self,args)}},_getCurrentTime=function(){return(new Date).getTime()},_applyBgOpacity=function(opacity){_bgOpacity=opacity,self.bg.style.opacity=opacity*_options.bgOpacity},_applyZoomTransform=function(styleObj,x,y,zoom,item){(!_renderMaxResolution||item&&item!==self.currItem)&&(zoom/=item?item.fitRatio:self.currItem.fitRatio),styleObj[_transformKey]=_translatePrefix+x+"px, "+y+"px"+_translateSufix+" scale("+zoom+")"},_applyCurrentZoomPan=function(allowRenderResolution){_currZoomElementStyle&&(allowRenderResolution&&(_currZoomLevel>self.currItem.fitRatio?_renderMaxResolution||(_setImageSize(self.currItem,!1,!0),_renderMaxResolution=!0):_renderMaxResolution&&(_setImageSize(self.currItem),_renderMaxResolution=!1)),console.log(_panOffset),_applyZoomTransform(_currZoomElementStyle,_panOffset.x,_panOffset.y,_currZoomLevel))},_applyZoomPanToItem=function(item){item.container&&_applyZoomTransform(item.container.style,item.initialPosition.x,item.initialPosition.y,item.initialZoomLevel,item)},_setTranslateX=function(x,elStyle){elStyle[_transformKey]=_translatePrefix+x+"px, 0px"+_translateSufix},_moveMainScroll=function(x,dragging){if(!_options.loop&&dragging){var newSlideIndexOffset=_currentItemIndex+(_slideSize.x*_currPositionIndex-x)/_slideSize.x,delta=Math.round(x-_mainScrollPos.x);(newSlideIndexOffset<0&&delta>0||newSlideIndexOffset>=_getNumItems()-1&&delta<0)&&(x=_mainScrollPos.x+delta*_options.mainScrollEndFriction)}_mainScrollPos.x=x,_setTranslateX(x,_containerStyle)},_calculatePanOffset=function(axis,zoomLevel){var m=_midZoomPoint[axis]-_offset[axis];return _startPanOffset[axis]+_currPanDist[axis]+m-m*(zoomLevel/_startZoomLevel)},_equalizePoints=function(p1,p2){p1.x=p2.x,p1.y=p2.y,p2.id&&(p1.id=p2.id)},_roundPoint=function(p){p.x=Math.round(p.x),p.y=Math.round(p.y)},_mouseMoveTimeout=null,_onFirstMouseMove=function(){_mouseMoveTimeout&&(framework.unbind(document,"mousemove",_onFirstMouseMove),framework.addClass(template,"pswp--has_mouse"),_options.mouseUsed=!0,_shout("mouseUsed")),_mouseMoveTimeout=setTimeout(function(){_mouseMoveTimeout=null},100)},_bindEvents=function(){framework.bind(document,"keydown",self),_features.transform&&framework.bind(self.scrollWrap,"click",self),_options.mouseUsed||framework.bind(document,"mousemove",_onFirstMouseMove),framework.bind(window,"resize scroll orientationchange",self),_shout("bindEvents")},_unbindEvents=function(){framework.unbind(window,"resize scroll orientationchange",self),framework.unbind(window,"scroll",_globalEventHandlers.scroll),framework.unbind(document,"keydown",self),framework.unbind(document,"mousemove",_onFirstMouseMove),_features.transform&&framework.unbind(self.scrollWrap,"click",self),_isDragging&&framework.unbind(window,_upMoveEvents,self),clearTimeout(_orientationChangeTimeout),_shout("unbindEvents")},_calculatePanBounds=function(zoomLevel,update){var bounds=_calculateItemSize(self.currItem,_viewportSize,zoomLevel);return update&&(_currPanBounds=bounds),bounds},_getMinZoomLevel=function(item){return item||(item=self.currItem),item.initialZoomLevel},_getMaxZoomLevel=function(item){return item||(item=self.currItem),item.w>0?_options.maxSpreadZoom:1},_modifyDestPanOffset=function(axis,destPanBounds,destPanOffset,destZoomLevel){return destZoomLevel===self.currItem.initialZoomLevel?(destPanOffset[axis]=self.currItem.initialPosition[axis],!0):(destPanOffset[axis]=_calculatePanOffset(axis,destZoomLevel),destPanOffset[axis]>destPanBounds.min[axis]?(destPanOffset[axis]=destPanBounds.min[axis],!0):destPanOffset[axis]<destPanBounds.max[axis]&&(destPanOffset[axis]=destPanBounds.max[axis],!0))},_setupTransforms=function(){if(_transformKey){var allow3dTransform=_features.perspective&&!_likelyTouchDevice;return _translatePrefix="translate"+(allow3dTransform?"3d(":"("),void(_translateSufix=_features.perspective?", 0px)":")")}_transformKey="left",framework.addClass(template,"pswp--ie"),_setTranslateX=function(x,elStyle){elStyle.left=x+"px"},_applyZoomPanToItem=function(item){var zoomRatio=item.fitRatio>1?1:item.fitRatio,s=item.container.style,w=zoomRatio*item.w,h=zoomRatio*item.h;s.width=w+"px",s.height=h+"px",s.left=item.initialPosition.x+"px",s.top=item.initialPosition.y+"px"},_applyCurrentZoomPan=function(){if(_currZoomElementStyle){var s=_currZoomElementStyle,item=self.currItem,zoomRatio=item.fitRatio>1?1:item.fitRatio,w=zoomRatio*item.w,h=zoomRatio*item.h;s.width=w+"px",s.height=h+"px",s.left=_panOffset.x+"px",s.top=_panOffset.y+"px"}}},_onKeyDown=function(e){var keydownAction="";_options.escKey&&27===e.keyCode?keydownAction="close":_options.arrowKeys&&(37===e.keyCode?keydownAction="prev":39===e.keyCode&&(keydownAction="next")),keydownAction&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,self[keydownAction]()))},_onGlobalClick=function(e){e&&(_moved||_zoomStarted||_mainScrollAnimating||_verticalDragInitiated)&&(e.preventDefault(),e.stopPropagation())},_updatePageScrollOffset=function(){self.setScrollOffset(0,framework.getScrollY())},_animations={},_numAnimations=0,_stopAnimation=function(name){_animations[name]&&(_animations[name].raf&&_cancelAF(_animations[name].raf),_numAnimations--,delete _animations[name])},_registerStartAnimation=function(name){_animations[name]&&_stopAnimation(name),_animations[name]||(_numAnimations++,_animations[name]={})},_stopAllAnimations=function(){for(var prop in _animations)_animations.hasOwnProperty(prop)&&_stopAnimation(prop)},_animateProp=function(name,b,endProp,d,easingFn,onUpdate,onComplete){var t,startAnimTime=_getCurrentTime();_registerStartAnimation(name);var animloop=function(){if(_animations[name]){if((t=_getCurrentTime()-startAnimTime)>=d)return _stopAnimation(name),onUpdate(endProp),void(onComplete&&onComplete());onUpdate((endProp-b)*easingFn(t/d)+b),_animations[name].raf=_requestAF(animloop)}};animloop()},publicMethods={shout:_shout,listen:_listen,viewportSize:_viewportSize,options:_options,isMainScrollAnimating:function(){return _mainScrollAnimating},getZoomLevel:function(){return _currZoomLevel},getCurrentIndex:function(){return _currentItemIndex},isDragging:function(){return _isDragging},isZooming:function(){return _isZooming},setScrollOffset:function(x,y){_offset.x=x,_currentWindowScrollY=_offset.y=y,_shout("updateScrollOffset",_offset)},applyZoomPan:function(zoomLevel,panX,panY,allowRenderResolution){_panOffset.x=panX,_panOffset.y=panY,_currZoomLevel=zoomLevel,_applyCurrentZoomPan(allowRenderResolution)},init:function(){if(!_isOpen&&!_isDestroying){var i;self.framework=framework,self.template=template,self.bg=framework.getChildByClass(template,"pswp__bg"),_initalClassName=template.className,_isOpen=!0,_features=framework.detectFeatures(),_requestAF=_features.raf,_cancelAF=_features.caf,_transformKey=_features.transform,_oldIE=_features.oldIE,self.scrollWrap=framework.getChildByClass(template,"pswp__scroll-wrap"),self.container=framework.getChildByClass(self.scrollWrap,"pswp__container"),_containerStyle=self.container.style,self.itemHolders=_itemHolders=[{el:self.container.children[0],wrap:0,index:-1},{el:self.container.children[1],wrap:0,index:-1},{el:self.container.children[2],wrap:0,index:-1}],_itemHolders[0].el.style.display=_itemHolders[2].el.style.display="none",_setupTransforms(),_globalEventHandlers={resize:self.updateSize,orientationchange:function(){clearTimeout(_orientationChangeTimeout),_orientationChangeTimeout=setTimeout(function(){_viewportSize.x!==self.scrollWrap.clientWidth&&self.updateSize()},500)},scroll:_updatePageScrollOffset,keydown:_onKeyDown,click:_onGlobalClick};var oldPhone=_features.isOldIOSPhone||_features.isOldAndroid||_features.isMobileOpera;for(_features.animationName&&_features.transform&&!oldPhone||(_options.showAnimationDuration=_options.hideAnimationDuration=0),i=0;i<_modules.length;i++)self["init"+_modules[i]]();UiClass&&(self.ui=new UiClass(self,framework)).init(),_shout("firstUpdate"),_currentItemIndex=_currentItemIndex||_options.index||0,(isNaN(_currentItemIndex)||_currentItemIndex<0||_currentItemIndex>=_getNumItems())&&(_currentItemIndex=0),self.currItem=_getItemAt(_currentItemIndex),(_features.isOldIOSPhone||_features.isOldAndroid)&&(_isFixedPosition=!1),template.setAttribute("aria-hidden","false"),_options.modal&&(_isFixedPosition?template.style.position="fixed":(template.style.position="absolute",template.style.top=framework.getScrollY()+"px")),void 0===_currentWindowScrollY&&(_shout("initialLayout"),_currentWindowScrollY=_initalWindowScrollY=framework.getScrollY());var rootClasses="pswp--open ";for(_options.mainClass&&(rootClasses+=_options.mainClass+" "),_options.showHideOpacity&&(rootClasses+="pswp--animate_opacity "),rootClasses+=_likelyTouchDevice?"pswp--touch":"pswp--notouch",rootClasses+=_features.animationName?" pswp--css_animation":"",rootClasses+=_features.svg?" pswp--svg":"",framework.addClass(template,rootClasses),self.updateSize(),_containerShiftIndex=-1,_indexDiff=null,i=0;i<3;i++)_setTranslateX((i+_containerShiftIndex)*_slideSize.x,_itemHolders[i].el.style);_oldIE||framework.bind(self.scrollWrap,_downEvents,self),_listen("initialZoomInEnd",function(){self.setContent(_itemHolders[0],_currentItemIndex-1),self.setContent(_itemHolders[2],_currentItemIndex+1),_itemHolders[0].el.style.display=_itemHolders[2].el.style.display="block",_options.focus&&template.focus(),_bindEvents()}),self.setContent(_itemHolders[1],_currentItemIndex),self.updateCurrItem(),_shout("afterInit"),_isFixedPosition||(_updateSizeInterval=setInterval(function(){_numAnimations||_isDragging||_isZooming||_currZoomLevel!==self.currItem.initialZoomLevel||self.updateSize()},1e3)),framework.addClass(template,"pswp--visible")}},close:function(){_isOpen&&(_isOpen=!1,_isDestroying=!0,_shout("close"),_unbindEvents(),_showOrHide(self.currItem,null,!0,self.destroy))},destroy:function(){_shout("destroy"),_showOrHideTimeout&&clearTimeout(_showOrHideTimeout),template.setAttribute("aria-hidden","true"),template.className=_initalClassName,_updateSizeInterval&&clearInterval(_updateSizeInterval),framework.unbind(self.scrollWrap,_downEvents,self),framework.unbind(window,"scroll",self),_stopDragUpdateLoop(),_stopAllAnimations(),_listeners=null},panTo:function(x,y,force){force||(x>_currPanBounds.min.x?x=_currPanBounds.min.x:x<_currPanBounds.max.x&&(x=_currPanBounds.max.x),y>_currPanBounds.min.y?y=_currPanBounds.min.y:y<_currPanBounds.max.y&&(y=_currPanBounds.max.y)),_panOffset.x=x,_panOffset.y=y,_applyCurrentZoomPan()},handleEvent:function(e){e=e||window.event,_globalEventHandlers[e.type]&&_globalEventHandlers[e.type](e)},goTo:function(index){var diff=(index=_getLoopedId(index))-_currentItemIndex;_indexDiff=diff,_currentItemIndex=index,self.currItem=_getItemAt(_currentItemIndex),_currPositionIndex-=diff,_moveMainScroll(_slideSize.x*_currPositionIndex),_stopAllAnimations(),_mainScrollAnimating=!1,self.updateCurrItem()},next:function(){self.goTo(_currentItemIndex+1)},prev:function(){self.goTo(_currentItemIndex-1)},updateCurrZoomItem:function(emulateSetContent){if(emulateSetContent&&_shout("beforeChange",0),_itemHolders[1].el.children.length){var zoomElement=_itemHolders[1].el.children[0];_currZoomElementStyle=framework.hasClass(zoomElement,"pswp__zoom-wrap")?zoomElement.style:null}else _currZoomElementStyle=null;_currPanBounds=self.currItem.bounds,_startZoomLevel=_currZoomLevel=self.currItem.initialZoomLevel,_panOffset.x=_currPanBounds.center.x,_panOffset.y=_currPanBounds.center.y,emulateSetContent&&_shout("afterChange")},invalidateCurrItems:function(){_itemsNeedUpdate=!0;for(var i=0;i<3;i++)_itemHolders[i].item&&(_itemHolders[i].item.needsUpdate=!0)},updateCurrItem:function(beforeAnimation){if(0!==_indexDiff){var tempHolder,diffAbs=Math.abs(_indexDiff);if(!(beforeAnimation&&diffAbs<2)){self.currItem=_getItemAt(_currentItemIndex),_renderMaxResolution=!1,_shout("beforeChange",_indexDiff),diffAbs>=3&&(_containerShiftIndex+=_indexDiff+(_indexDiff>0?-3:3),diffAbs=3);for(var i=0;i<diffAbs;i++)_indexDiff>0?(tempHolder=_itemHolders.shift(),_itemHolders[2]=tempHolder,_setTranslateX((++_containerShiftIndex+2)*_slideSize.x,tempHolder.el.style),self.setContent(tempHolder,_currentItemIndex-diffAbs+i+1+1)):(tempHolder=_itemHolders.pop(),_itemHolders.unshift(tempHolder),_setTranslateX(--_containerShiftIndex*_slideSize.x,tempHolder.el.style),self.setContent(tempHolder,_currentItemIndex+diffAbs-i-1-1));if(_currZoomElementStyle&&1===Math.abs(_indexDiff)){var prevItem=_getItemAt(_prevItemIndex);prevItem.initialZoomLevel!==_currZoomLevel&&(_calculateItemSize(prevItem,_viewportSize),_setImageSize(prevItem),_applyZoomPanToItem(prevItem))}_indexDiff=0,self.updateCurrZoomItem(),_prevItemIndex=_currentItemIndex,_shout("afterChange")}}},updateSize:function(force){if(!_isFixedPosition&&_options.modal){var windowScrollY=framework.getScrollY();if(_currentWindowScrollY!==windowScrollY&&(template.style.top=windowScrollY+"px",_currentWindowScrollY=windowScrollY),!force&&_windowVisibleSize.x===window.innerWidth&&_windowVisibleSize.y===window.innerHeight)return;_windowVisibleSize.x=window.innerWidth,_windowVisibleSize.y=window.innerHeight,template.style.height=_windowVisibleSize.y+"px"}if(_viewportSize.x=self.scrollWrap.clientWidth,_viewportSize.y=self.scrollWrap.clientHeight,_updatePageScrollOffset(),_slideSize.x=_viewportSize.x+Math.round(_viewportSize.x*_options.spacing),_slideSize.y=_viewportSize.y,_moveMainScroll(_slideSize.x*_currPositionIndex),_shout("beforeResize"),void 0!==_containerShiftIndex){for(var holder,item,hIndex,i=0;i<3;i++)holder=_itemHolders[i],_setTranslateX((i+_containerShiftIndex)*_slideSize.x,holder.el.style),hIndex=_currentItemIndex+i-1,_options.loop&&_getNumItems()>2&&(hIndex=_getLoopedId(hIndex)),(item=_getItemAt(hIndex))&&(_itemsNeedUpdate||item.needsUpdate||!item.bounds)?(self.cleanSlide(item),self.setContent(holder,hIndex),1===i&&(self.currItem=item,self.updateCurrZoomItem(!0)),item.needsUpdate=!1):-1===holder.index&&hIndex>=0&&self.setContent(holder,hIndex),item&&item.container&&(_calculateItemSize(item,_viewportSize),_setImageSize(item),_applyZoomPanToItem(item));_itemsNeedUpdate=!1}_startZoomLevel=_currZoomLevel=self.currItem.initialZoomLevel,(_currPanBounds=self.currItem.bounds)&&(_panOffset.x=_currPanBounds.center.x,_panOffset.y=_currPanBounds.center.y,_applyCurrentZoomPan(!0)),_shout("resize")},zoomTo:function(destZoomLevel,centerPoint,speed,easingFn,updateFn){centerPoint&&(_startZoomLevel=_currZoomLevel,_midZoomPoint.x=Math.abs(centerPoint.x)-_panOffset.x,_midZoomPoint.y=Math.abs(centerPoint.y)-_panOffset.y,_equalizePoints(_startPanOffset,_panOffset));var destPanBounds=_calculatePanBounds(destZoomLevel,!1),destPanOffset={};_modifyDestPanOffset("x",destPanBounds,destPanOffset,destZoomLevel),_modifyDestPanOffset("y",destPanBounds,destPanOffset,destZoomLevel);var initialZoomLevel=_currZoomLevel,initialPanOffset={x:_panOffset.x,y:_panOffset.y};_roundPoint(destPanOffset);var onUpdate=function(now){1===now?(_currZoomLevel=destZoomLevel,_panOffset.x=destPanOffset.x,_panOffset.y=destPanOffset.y):(_currZoomLevel=(destZoomLevel-initialZoomLevel)*now+initialZoomLevel,_panOffset.x=(destPanOffset.x-initialPanOffset.x)*now+initialPanOffset.x,_panOffset.y=(destPanOffset.y-initialPanOffset.y)*now+initialPanOffset.y),updateFn&&updateFn(now),_applyCurrentZoomPan(1===now)};speed?_animateProp("customZoomTo",0,1,speed,easingFn||framework.easing.sine.inOut,onUpdate):onUpdate(1)}},p={},p2={},delta={},_currPoint={},_startPoint={},_currPointers=[],_startMainScrollPos={},_posPoints=[],_tempPoint={},_currZoomedItemIndex=0,_centerPoint={x:0,y:0},_lastReleaseTime=0,_mainScrollPos={x:0,y:0},_midZoomPoint={x:0,y:0},_currCenterPoint={x:0,y:0},_isEqualPoints=function(p1,p2){return p1.x===p2.x&&p1.y===p2.y},_isNearbyPoints=function(touch0,touch1){return Math.abs(touch0.x-touch1.x)<25&&Math.abs(touch0.y-touch1.y)<25},_calculatePointsDistance=function(p1,p2){return _tempPoint.x=Math.abs(p1.x-p2.x),_tempPoint.y=Math.abs(p1.y-p2.y),Math.sqrt(_tempPoint.x*_tempPoint.x+_tempPoint.y*_tempPoint.y)},_stopDragUpdateLoop=function(){_dragAnimFrame&&(_cancelAF(_dragAnimFrame),_dragAnimFrame=null)},_dragUpdateLoop=function(){_isDragging&&(_dragAnimFrame=_requestAF(_dragUpdateLoop),_renderMovement())},_canPan=function(){return!("fit"===_options.scaleMode&&_currZoomLevel===self.currItem.initialZoomLevel)},_closestElement=function(el,fn){return!(!el||el===document)&&(!(el.getAttribute("class")&&el.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(fn(el)?el:_closestElement(el.parentNode,fn)))},_preventObj={},_preventDefaultEventBehaviour=function(e,isDown){return _preventObj.prevent=!_closestElement(e.target,_options.isClickableElement),_shout("preventDragEvent",e,isDown,_preventObj),_preventObj.prevent},_convertTouchToPoint=function(touch,p){return p.x=touch.pageX,p.y=touch.pageY,p.id=touch.identifier,p},_findCenterOfPoints=function(p1,p2,pCenter){pCenter.x=.5*(p1.x+p2.x),pCenter.y=.5*(p1.y+p2.y)},_pushPosPoint=function(time,x,y){if(time-_gestureCheckSpeedTime>50){var o=_posPoints.length>2?_posPoints.shift():{};o.x=x,o.y=y,_posPoints.push(o),_gestureCheckSpeedTime=time}},_calculateVerticalDragOpacityRatio=function(){var yOffset=_panOffset.y-self.currItem.initialPosition.y;return 1-Math.abs(yOffset/(_viewportSize.y/2))},_ePoint1={},_ePoint2={},_tempPointsArr=[],_getTouchPoints=function(e){for(;_tempPointsArr.length>0;)_tempPointsArr.pop();return _pointerEventEnabled?(_tempCounter=0,_currPointers.forEach(function(p){0===_tempCounter?_tempPointsArr[0]=p:1===_tempCounter&&(_tempPointsArr[1]=p),_tempCounter++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(_tempPointsArr[0]=_convertTouchToPoint(e.touches[0],_ePoint1),e.touches.length>1&&(_tempPointsArr[1]=_convertTouchToPoint(e.touches[1],_ePoint2))):(_ePoint1.x=e.pageX,_ePoint1.y=e.pageY,_ePoint1.id="",_tempPointsArr[0]=_ePoint1),_tempPointsArr},_panOrMoveMainScroll=function(axis,delta){var panFriction,startOverDiff,newPanPos,newMainScrollPos,newOffset=_panOffset[axis]+delta[axis],dir=delta[axis]>0,newMainScrollPosition=_mainScrollPos.x+delta.x,mainScrollDiff=_mainScrollPos.x-_startMainScrollPos.x;if(panFriction=newOffset>_currPanBounds.min[axis]||newOffset<_currPanBounds.max[axis]?_options.panEndFriction:1,newOffset=_panOffset[axis]+delta[axis]*panFriction,(_options.allowPanToNext||_currZoomLevel===self.currItem.initialZoomLevel)&&(_currZoomElementStyle?"h"!==_direction||"x"!==axis||_zoomStarted||(dir?(newOffset>_currPanBounds.min[axis]&&(panFriction=_options.panEndFriction,_currPanBounds.min[axis]-newOffset,startOverDiff=_currPanBounds.min[axis]-_startPanOffset[axis]),(startOverDiff<=0||mainScrollDiff<0)&&_getNumItems()>1?(newMainScrollPos=newMainScrollPosition,mainScrollDiff<0&&newMainScrollPosition>_startMainScrollPos.x&&(newMainScrollPos=_startMainScrollPos.x)):_currPanBounds.min.x!==_currPanBounds.max.x&&(newPanPos=newOffset)):(newOffset<_currPanBounds.max[axis]&&(panFriction=_options.panEndFriction,newOffset-_currPanBounds.max[axis],startOverDiff=_startPanOffset[axis]-_currPanBounds.max[axis]),(startOverDiff<=0||mainScrollDiff>0)&&_getNumItems()>1?(newMainScrollPos=newMainScrollPosition,mainScrollDiff>0&&newMainScrollPosition<_startMainScrollPos.x&&(newMainScrollPos=_startMainScrollPos.x)):_currPanBounds.min.x!==_currPanBounds.max.x&&(newPanPos=newOffset))):newMainScrollPos=newMainScrollPosition,"x"===axis))return void 0!==newMainScrollPos&&(_moveMainScroll(newMainScrollPos,!0),_mainScrollShifted=newMainScrollPos!==_startMainScrollPos.x),_currPanBounds.min.x!==_currPanBounds.max.x&&(void 0!==newPanPos?_panOffset.x=newPanPos:_mainScrollShifted||(_panOffset.x+=delta.x*panFriction)),void 0!==newMainScrollPos;_mainScrollAnimating||_mainScrollShifted||_currZoomLevel>self.currItem.fitRatio&&(_panOffset[axis]+=delta[axis]*panFriction)},_onDragStart=function(e){if(!("mousedown"===e.type&&e.button>0))if(_initialZoomRunning)e.preventDefault();else if(!_oldAndroidTouchEndTimeout||"mousedown"!==e.type){if(_preventDefaultEventBehaviour(e,!0)&&e.preventDefault(),_shout("pointerDown"),_pointerEventEnabled){var pointerIndex=framework.arraySearch(_currPointers,e.pointerId,"id");pointerIndex<0&&(pointerIndex=_currPointers.length),_currPointers[pointerIndex]={x:e.pageX,y:e.pageY,id:e.pointerId}}var startPointsList=_getTouchPoints(e),numPoints=startPointsList.length;_currentPoints=null,_stopAllAnimations(),_isDragging&&1!==numPoints||(_isDragging=_isFirstMove=!0,framework.bind(window,_upMoveEvents,self),_isZoomingIn=_wasOverInitialZoom=_opacityChanged=_verticalDragInitiated=_mainScrollShifted=_moved=_isMultitouch=_zoomStarted=!1,_direction=null,_shout("firstTouchStart",startPointsList),_equalizePoints(_startPanOffset,_panOffset),_currPanDist.x=_currPanDist.y=0,_equalizePoints(_currPoint,startPointsList[0]),_equalizePoints(_startPoint,_currPoint),_startMainScrollPos.x=_slideSize.x*_currPositionIndex,_posPoints=[{x:_currPoint.x,y:_currPoint.y}],_gestureCheckSpeedTime=_gestureStartTime=_getCurrentTime(),_calculatePanBounds(_currZoomLevel,!0),_stopDragUpdateLoop(),_dragUpdateLoop()),!_isZooming&&numPoints>1&&!_mainScrollAnimating&&!_mainScrollShifted&&(_startZoomLevel=_currZoomLevel,_zoomStarted=!1,_isZooming=_isMultitouch=!0,_currPanDist.y=_currPanDist.x=0,_equalizePoints(_startPanOffset,_panOffset),_equalizePoints(p,startPointsList[0]),_equalizePoints(p2,startPointsList[1]),_findCenterOfPoints(p,p2,_currCenterPoint),_midZoomPoint.x=Math.abs(_currCenterPoint.x)-_panOffset.x,_midZoomPoint.y=Math.abs(_currCenterPoint.y)-_panOffset.y,_currPointsDistance=_startPointsDistance=_calculatePointsDistance(p,p2))}},_onDragMove=function(e){if(e.preventDefault(),_pointerEventEnabled){var pointerIndex=framework.arraySearch(_currPointers,e.pointerId,"id");if(pointerIndex>-1){var p=_currPointers[pointerIndex];p.x=e.pageX,p.y=e.pageY}}if(_isDragging){var touchesList=_getTouchPoints(e);if(_direction||_moved||_isZooming)_currentPoints=touchesList;else if(_mainScrollPos.x!==_slideSize.x*_currPositionIndex)_direction="h";else{var diff=Math.abs(touchesList[0].x-_currPoint.x)-Math.abs(touchesList[0].y-_currPoint.y);Math.abs(diff)>=10&&(_direction=diff>0?"h":"v",_currentPoints=touchesList)}}},_renderMovement=function(){if(_currentPoints){var numPoints=_currentPoints.length;if(0!==numPoints)if(_equalizePoints(p,_currentPoints[0]),delta.x=p.x-_currPoint.x,delta.y=p.y-_currPoint.y,_isZooming&&numPoints>1){if(_currPoint.x=p.x,_currPoint.y=p.y,!delta.x&&!delta.y&&_isEqualPoints(_currentPoints[1],p2))return;_equalizePoints(p2,_currentPoints[1]),_zoomStarted||(_zoomStarted=!0,_shout("zoomGestureStarted"));var pointsDistance=_calculatePointsDistance(p,p2),zoomLevel=_calculateZoomLevel(pointsDistance);zoomLevel>self.currItem.initialZoomLevel+self.currItem.initialZoomLevel/15&&(_wasOverInitialZoom=!0);var zoomFriction=1,minZoomLevel=_getMinZoomLevel(),maxZoomLevel=_getMaxZoomLevel();if(zoomLevel<minZoomLevel)if(_options.pinchToClose&&!_wasOverInitialZoom&&_startZoomLevel<=self.currItem.initialZoomLevel){var percent=1-(minZoomLevel-zoomLevel)/(minZoomLevel/1.2);_applyBgOpacity(percent),_shout("onPinchClose",percent),_opacityChanged=!0}else(zoomFriction=(minZoomLevel-zoomLevel)/minZoomLevel)>1&&(zoomFriction=1),zoomLevel=minZoomLevel-zoomFriction*(minZoomLevel/3);else zoomLevel>maxZoomLevel&&((zoomFriction=(zoomLevel-maxZoomLevel)/(6*minZoomLevel))>1&&(zoomFriction=1),zoomLevel=maxZoomLevel+zoomFriction*minZoomLevel);zoomFriction<0&&(zoomFriction=0),_currPointsDistance=pointsDistance,_findCenterOfPoints(p,p2,_centerPoint),_currPanDist.x+=_centerPoint.x-_currCenterPoint.x,_currPanDist.y+=_centerPoint.y-_currCenterPoint.y,_equalizePoints(_currCenterPoint,_centerPoint),_panOffset.x=_calculatePanOffset("x",zoomLevel),_panOffset.y=_calculatePanOffset("y",zoomLevel),_isZoomingIn=zoomLevel>_currZoomLevel,_currZoomLevel=zoomLevel,_applyCurrentZoomPan()}else{if(!_direction)return;if(_isFirstMove&&(_isFirstMove=!1,Math.abs(delta.x)>=10&&(delta.x-=_currentPoints[0].x-_startPoint.x),Math.abs(delta.y)>=10&&(delta.y-=_currentPoints[0].y-_startPoint.y)),_currPoint.x=p.x,_currPoint.y=p.y,0===delta.x&&0===delta.y)return;if("v"===_direction&&_options.closeOnVerticalDrag&&!_canPan()){_currPanDist.y+=delta.y,_panOffset.y+=delta.y;var opacityRatio=_calculateVerticalDragOpacityRatio();return _verticalDragInitiated=!0,_shout("onVerticalDrag",opacityRatio),_applyBgOpacity(opacityRatio),void _applyCurrentZoomPan()}_pushPosPoint(_getCurrentTime(),p.x,p.y),_moved=!0,_currPanBounds=self.currItem.bounds,_panOrMoveMainScroll("x",delta)||(_panOrMoveMainScroll("y",delta),_roundPoint(_panOffset),_applyCurrentZoomPan())}}},_onDragRelease=function(e){if(_features.isOldAndroid){if(_oldAndroidTouchEndTimeout&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(_oldAndroidTouchEndTimeout),_oldAndroidTouchEndTimeout=setTimeout(function(){_oldAndroidTouchEndTimeout=0},600))}_shout("pointerUp"),_preventDefaultEventBehaviour(e,!1)&&e.preventDefault();var releasePoint;if(_pointerEventEnabled){var pointerIndex=framework.arraySearch(_currPointers,e.pointerId,"id");if(pointerIndex>-1)if(releasePoint=_currPointers.splice(pointerIndex,1)[0],navigator.pointerEnabled)releasePoint.type=e.pointerType||"mouse";else{var MSPOINTER_TYPES={4:"mouse",2:"touch",3:"pen"};releasePoint.type=MSPOINTER_TYPES[e.pointerType],releasePoint.type||(releasePoint.type=e.pointerType||"mouse")}}var gestureType,touchList=_getTouchPoints(e),numPoints=touchList.length;if("mouseup"===e.type&&(numPoints=0),2===numPoints)return _currentPoints=null,!0;1===numPoints&&_equalizePoints(_startPoint,touchList[0]),0!==numPoints||_direction||_mainScrollAnimating||(releasePoint||("mouseup"===e.type?releasePoint={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(releasePoint={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),_shout("touchRelease",e,releasePoint));var releaseTimeDiff=-1;if(0===numPoints&&(_isDragging=!1,framework.unbind(window,_upMoveEvents,self),_stopDragUpdateLoop(),_isZooming?releaseTimeDiff=0:-1!==_lastReleaseTime&&(releaseTimeDiff=_getCurrentTime()-_lastReleaseTime)),_lastReleaseTime=1===numPoints?_getCurrentTime():-1,gestureType=-1!==releaseTimeDiff&&releaseTimeDiff<150?"zoom":"swipe",_isZooming&&numPoints<2&&(_isZooming=!1,1===numPoints&&(gestureType="zoomPointerUp"),_shout("zoomGestureEnded")),_currentPoints=null,_moved||_zoomStarted||_mainScrollAnimating||_verticalDragInitiated)if(_stopAllAnimations(),_releaseAnimData||(_releaseAnimData=_initDragReleaseAnimationData()),_releaseAnimData.calculateSwipeSpeed("x"),_verticalDragInitiated)if(_calculateVerticalDragOpacityRatio()<_options.verticalDragRange)self.close();else{var initalPanY=_panOffset.y,initialBgOpacity=_bgOpacity;_animateProp("verticalDrag",0,1,300,framework.easing.cubic.out,function(now){_panOffset.y=(self.currItem.initialPosition.y-initalPanY)*now+initalPanY,_applyBgOpacity((1-initialBgOpacity)*now+initialBgOpacity),_applyCurrentZoomPan()}),_shout("onVerticalDrag",1)}else{if((_mainScrollShifted||_mainScrollAnimating)&&0===numPoints){if(_finishSwipeMainScrollGesture(gestureType,_releaseAnimData))return;gestureType="zoomPointerUp"}_mainScrollAnimating||("swipe"===gestureType?!_mainScrollShifted&&_currZoomLevel>self.currItem.fitRatio&&_completePanGesture(_releaseAnimData):_completeZoomGesture())}},_initDragReleaseAnimationData=function(){var lastFlickDuration,tempReleasePos,s={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(axis){_posPoints.length>1?(lastFlickDuration=_getCurrentTime()-_gestureCheckSpeedTime+50,tempReleasePos=_posPoints[_posPoints.length-2][axis]):(lastFlickDuration=_getCurrentTime()-_gestureStartTime,tempReleasePos=_startPoint[axis]),s.lastFlickOffset[axis]=_currPoint[axis]-tempReleasePos,s.lastFlickDist[axis]=Math.abs(s.lastFlickOffset[axis]),s.lastFlickDist[axis]>20?s.lastFlickSpeed[axis]=s.lastFlickOffset[axis]/lastFlickDuration:s.lastFlickSpeed[axis]=0,Math.abs(s.lastFlickSpeed[axis])<.1&&(s.lastFlickSpeed[axis]=0),s.slowDownRatio[axis]=.95,s.slowDownRatioReverse[axis]=1-s.slowDownRatio[axis],s.speedDecelerationRatio[axis]=1},calculateOverBoundsAnimOffset:function(axis,speed){s.backAnimStarted[axis]||(_panOffset[axis]>_currPanBounds.min[axis]?s.backAnimDestination[axis]=_currPanBounds.min[axis]:_panOffset[axis]<_currPanBounds.max[axis]&&(s.backAnimDestination[axis]=_currPanBounds.max[axis]),void 0!==s.backAnimDestination[axis]&&(s.slowDownRatio[axis]=.7,s.slowDownRatioReverse[axis]=1-s.slowDownRatio[axis],s.speedDecelerationRatioAbs[axis]<.05&&(s.lastFlickSpeed[axis]=0,s.backAnimStarted[axis]=!0,_animateProp("bounceZoomPan"+axis,_panOffset[axis],s.backAnimDestination[axis],speed||300,framework.easing.sine.out,function(pos){_panOffset[axis]=pos,_applyCurrentZoomPan()}))))},calculateAnimOffset:function(axis){s.backAnimStarted[axis]||(s.speedDecelerationRatio[axis]=s.speedDecelerationRatio[axis]*(s.slowDownRatio[axis]+s.slowDownRatioReverse[axis]-s.slowDownRatioReverse[axis]*s.timeDiff/10),s.speedDecelerationRatioAbs[axis]=Math.abs(s.lastFlickSpeed[axis]*s.speedDecelerationRatio[axis]),s.distanceOffset[axis]=s.lastFlickSpeed[axis]*s.speedDecelerationRatio[axis]*s.timeDiff,_panOffset[axis]+=s.distanceOffset[axis])},panAnimLoop:function(){if(_animations.zoomPan&&(_animations.zoomPan.raf=_requestAF(s.panAnimLoop),s.now=_getCurrentTime(),s.timeDiff=s.now-s.lastNow,s.lastNow=s.now,s.calculateAnimOffset("x"),s.calculateAnimOffset("y"),_applyCurrentZoomPan(),s.calculateOverBoundsAnimOffset("x"),s.calculateOverBoundsAnimOffset("y"),s.speedDecelerationRatioAbs.x<.05&&s.speedDecelerationRatioAbs.y<.05))return _panOffset.x=Math.round(_panOffset.x),_panOffset.y=Math.round(_panOffset.y),_applyCurrentZoomPan(),void _stopAnimation("zoomPan")}};return s},_completePanGesture=function(animData){if(animData.calculateSwipeSpeed("y"),_currPanBounds=self.currItem.bounds,animData.backAnimDestination={},animData.backAnimStarted={},Math.abs(animData.lastFlickSpeed.x)<=.05&&Math.abs(animData.lastFlickSpeed.y)<=.05)return animData.speedDecelerationRatioAbs.x=animData.speedDecelerationRatioAbs.y=0,animData.calculateOverBoundsAnimOffset("x"),animData.calculateOverBoundsAnimOffset("y"),!0;_registerStartAnimation("zoomPan"),animData.lastNow=_getCurrentTime(),animData.panAnimLoop()},_finishSwipeMainScrollGesture=function(gestureType,_releaseAnimData){var itemChanged;_mainScrollAnimating||(_currZoomedItemIndex=_currentItemIndex);var itemsDiff;if("swipe"===gestureType){var totalShiftDist=_currPoint.x-_startPoint.x,isFastLastFlick=_releaseAnimData.lastFlickDist.x<10;totalShiftDist>30&&(isFastLastFlick||_releaseAnimData.lastFlickOffset.x>20)?itemsDiff=-1:totalShiftDist<-30&&(isFastLastFlick||_releaseAnimData.lastFlickOffset.x<-20)&&(itemsDiff=1)}var nextCircle;itemsDiff&&((_currentItemIndex+=itemsDiff)<0?(_currentItemIndex=_options.loop?_getNumItems()-1:0,nextCircle=!0):_currentItemIndex>=_getNumItems()&&(_currentItemIndex=_options.loop?0:_getNumItems()-1,nextCircle=!0),nextCircle&&!_options.loop||(_indexDiff+=itemsDiff,_currPositionIndex-=itemsDiff,itemChanged=!0));var finishAnimDuration,animateToX=_slideSize.x*_currPositionIndex,animateToDist=Math.abs(animateToX-_mainScrollPos.x);return itemChanged||animateToX>_mainScrollPos.x==_releaseAnimData.lastFlickSpeed.x>0?(finishAnimDuration=Math.abs(_releaseAnimData.lastFlickSpeed.x)>0?animateToDist/Math.abs(_releaseAnimData.lastFlickSpeed.x):333,finishAnimDuration=Math.min(finishAnimDuration,400),finishAnimDuration=Math.max(finishAnimDuration,250)):finishAnimDuration=333,_currZoomedItemIndex===_currentItemIndex&&(itemChanged=!1),_mainScrollAnimating=!0,_shout("mainScrollAnimStart"),_animateProp("mainScroll",_mainScrollPos.x,animateToX,finishAnimDuration,framework.easing.cubic.out,_moveMainScroll,function(){_stopAllAnimations(),_mainScrollAnimating=!1,_currZoomedItemIndex=-1,(itemChanged||_currZoomedItemIndex!==_currentItemIndex)&&self.updateCurrItem(),_shout("mainScrollAnimComplete")}),itemChanged&&self.updateCurrItem(!0),itemChanged},_calculateZoomLevel=function(touchesDistance){return 1/_startPointsDistance*touchesDistance*_startZoomLevel},_completeZoomGesture=function(){var destZoomLevel=_currZoomLevel,minZoomLevel=_getMinZoomLevel(),maxZoomLevel=_getMaxZoomLevel();_currZoomLevel<minZoomLevel?destZoomLevel=minZoomLevel:_currZoomLevel>maxZoomLevel&&(destZoomLevel=maxZoomLevel);var onUpdate,initialOpacity=_bgOpacity;return _opacityChanged&&!_isZoomingIn&&!_wasOverInitialZoom&&_currZoomLevel<minZoomLevel?(self.close(),!0):(_opacityChanged&&(onUpdate=function(now){_applyBgOpacity((1-initialOpacity)*now+initialOpacity)}),self.zoomTo(destZoomLevel,0,200,framework.easing.cubic.out,onUpdate),!0)};_registerModule("Gestures",{publicMethods:{initGestures:function(){var addEventNames=function(pref,down,move,up,cancel){_dragStartEvent=pref+down,_dragMoveEvent=pref+move,_dragEndEvent=pref+up,_dragCancelEvent=cancel?pref+cancel:""};(_pointerEventEnabled=_features.pointerEvent)&&_features.touch&&(_features.touch=!1),_pointerEventEnabled?navigator.pointerEnabled?addEventNames("pointer","down","move","up","cancel"):addEventNames("MSPointer","Down","Move","Up","Cancel"):_features.touch?(addEventNames("touch","start","move","end","cancel"),_likelyTouchDevice=!0):addEventNames("mouse","down","move","up"),_upMoveEvents=_dragMoveEvent+" "+_dragEndEvent+" "+_dragCancelEvent,_downEvents=_dragStartEvent,_pointerEventEnabled&&!_likelyTouchDevice&&(_likelyTouchDevice=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),self.likelyTouchDevice=_likelyTouchDevice,_globalEventHandlers[_dragStartEvent]=_onDragStart,_globalEventHandlers[_dragMoveEvent]=_onDragMove,_globalEventHandlers[_dragEndEvent]=_onDragRelease,_dragCancelEvent&&(_globalEventHandlers[_dragCancelEvent]=_globalEventHandlers[_dragEndEvent]),_features.touch&&(_downEvents+=" mousedown",_upMoveEvents+=" mousemove mouseup",_globalEventHandlers.mousedown=_globalEventHandlers[_dragStartEvent],_globalEventHandlers.mousemove=_globalEventHandlers[_dragMoveEvent],_globalEventHandlers.mouseup=_globalEventHandlers[_dragEndEvent]),_likelyTouchDevice||(_options.allowPanToNext=!1)}}});var _showOrHideTimeout,_items,_initialContentSet,_initialZoomRunning,_getItemAt,_getNumItems,_initialIsLoop,_showOrHide=function(item,img,out,completeFn){_showOrHideTimeout&&clearTimeout(_showOrHideTimeout),_initialZoomRunning=!0,_initialContentSet=!0;var thumbBounds;item.initialLayout?(thumbBounds=item.initialLayout,item.initialLayout=null):thumbBounds=_options.getThumbBoundsFn&&_options.getThumbBoundsFn(_currentItemIndex);var duration=out?_options.hideAnimationDuration:_options.showAnimationDuration,onComplete=function(){_stopAnimation("initialZoom"),out?(self.template.removeAttribute("style"),self.bg.removeAttribute("style")):(_applyBgOpacity(1),img&&(img.style.display="block"),framework.addClass(template,"pswp--animated-in"),_shout("initialZoom"+(out?"OutEnd":"InEnd"))),completeFn&&completeFn(),_initialZoomRunning=!1};if(!duration||!thumbBounds||void 0===thumbBounds.x)return _shout("initialZoom"+(out?"Out":"In")),_currZoomLevel=item.initialZoomLevel,_equalizePoints(_panOffset,item.initialPosition),_applyCurrentZoomPan(),template.style.opacity=out?0:1,_applyBgOpacity(1),void(duration?setTimeout(function(){onComplete()},duration):onComplete());!function(){var closeWithRaf=_closedByScroll,fadeEverything=!self.currItem.src||self.currItem.loadError||_options.showHideOpacity;item.miniImg&&(item.miniImg.style.webkitBackfaceVisibility="hidden"),out||(_currZoomLevel=thumbBounds.w/item.w,_panOffset.x=thumbBounds.x,_panOffset.y=thumbBounds.y-_initalWindowScrollY,self[fadeEverything?"template":"bg"].style.opacity=.001,_applyCurrentZoomPan()),_registerStartAnimation("initialZoom"),out&&!closeWithRaf&&framework.removeClass(template,"pswp--animated-in"),fadeEverything&&(out?framework[(closeWithRaf?"remove":"add")+"Class"](template,"pswp--animate_opacity"):setTimeout(function(){framework.addClass(template,"pswp--animate_opacity")},30)),_showOrHideTimeout=setTimeout(function(){if(_shout("initialZoom"+(out?"Out":"In")),out){var destZoomLevel=thumbBounds.w/item.w,initialPanOffset={x:_panOffset.x,y:_panOffset.y},initialZoomLevel=_currZoomLevel,initalBgOpacity=_bgOpacity,onUpdate=function(now){1===now?(_currZoomLevel=destZoomLevel,_panOffset.x=thumbBounds.x,_panOffset.y=thumbBounds.y-_currentWindowScrollY):(_currZoomLevel=(destZoomLevel-initialZoomLevel)*now+initialZoomLevel,_panOffset.x=(thumbBounds.x-initialPanOffset.x)*now+initialPanOffset.x,_panOffset.y=(thumbBounds.y-_currentWindowScrollY-initialPanOffset.y)*now+initialPanOffset.y),_applyCurrentZoomPan(),fadeEverything?template.style.opacity=1-now:_applyBgOpacity(initalBgOpacity-now*initalBgOpacity)};closeWithRaf?_animateProp("initialZoom",0,1,duration,framework.easing.cubic.out,onUpdate,onComplete):(onUpdate(1),_showOrHideTimeout=setTimeout(onComplete,duration+20))}else _currZoomLevel=item.initialZoomLevel,_equalizePoints(_panOffset,item.initialPosition),_applyCurrentZoomPan(),_applyBgOpacity(1),fadeEverything?template.style.opacity=1:_applyBgOpacity(1),_showOrHideTimeout=setTimeout(onComplete,duration+20)},out?25:90)}()},_tempPanAreaSize={},_imagesToAppendPool=[],_controllerDefaultOptions={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return _items.length}},_calculateSingleItemPanBounds=function(item,realPanElementW,realPanElementH){var bounds=item.bounds;bounds.center.x=Math.round((_tempPanAreaSize.x-realPanElementW)/2),bounds.center.y=Math.round((_tempPanAreaSize.y-realPanElementH)/2)+item.vGap.top,bounds.max.x=realPanElementW>_tempPanAreaSize.x?Math.round(_tempPanAreaSize.x-realPanElementW):bounds.center.x,bounds.max.y=realPanElementH>_tempPanAreaSize.y?Math.round(_tempPanAreaSize.y-realPanElementH)+item.vGap.top:bounds.center.y,bounds.min.x=realPanElementW>_tempPanAreaSize.x?0:bounds.center.x,bounds.min.y=realPanElementH>_tempPanAreaSize.y?item.vGap.top:bounds.center.y},_calculateItemSize=function(item,viewportSize,zoomLevel){if(item.src&&!item.loadError){var isInitial=!zoomLevel;if(isInitial&&(item.vGap||(item.vGap={top:0,bottom:0}),_shout("parseVerticalMargin",item)),_tempPanAreaSize.x=viewportSize.x,_tempPanAreaSize.y=viewportSize.y-item.vGap.top-item.vGap.bottom,isInitial){var hRatio=_tempPanAreaSize.x/item.w,vRatio=_tempPanAreaSize.y/item.h;item.fitRatio=hRatio<vRatio?hRatio:vRatio;var scaleMode=_options.scaleMode;"orig"===scaleMode?zoomLevel=1:"fit"===scaleMode&&(zoomLevel=item.fitRatio),zoomLevel>1&&(zoomLevel=1),item.initialZoomLevel=zoomLevel,item.bounds||(item.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!zoomLevel)return;return _calculateSingleItemPanBounds(item,item.w*zoomLevel,item.h*zoomLevel),isInitial&&zoomLevel===item.initialZoomLevel&&(item.initialPosition=item.bounds.center),item.bounds}return item.w=item.h=0,item.initialZoomLevel=item.fitRatio=1,item.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},item.initialPosition=item.bounds.center,item.bounds},_appendImage=function(index,item,baseDiv,img,preventAnimation,keepPlaceholder){item.loadError||img&&(item.imageAppended=!0,_setImageSize(item,img,item===self.currItem&&_renderMaxResolution),baseDiv.appendChild(img),keepPlaceholder&&setTimeout(function(){item&&item.loaded&&item.placeholder&&(item.placeholder.style.display="none",item.placeholder=null)},500))},_preloadImage=function(item){item.loading=!0,item.loaded=!1;var img=item.img=framework.createEl("pswp__img","img"),onComplete=function(){item.loading=!1,item.loaded=!0,item.loadComplete?item.loadComplete(item):item.img=null,img.onload=img.onerror=null,img=null};return img.onload=onComplete,img.onerror=function(){item.loadError=!0,onComplete()},img.src=item.src,img},_checkForError=function(item,cleanUp){if(item.src&&item.loadError&&item.container)return cleanUp&&(item.container.innerHTML=""),item.container.innerHTML=_options.errorMsg.replace("%url%",item.src),!0},_setImageSize=function(item,img,maxRes){if(item.src){img||(img=item.container.lastChild);var w=maxRes?item.w:Math.round(item.w*item.fitRatio),h=maxRes?item.h:Math.round(item.h*item.fitRatio);item.placeholder&&!item.loaded&&(item.placeholder.style.width=w+"px",item.placeholder.style.height=h+"px"),img.style.width=w+"px",img.style.height=h+"px"}},_appendImagesPool=function(){if(_imagesToAppendPool.length){for(var poolItem,i=0;i<_imagesToAppendPool.length;i++)(poolItem=_imagesToAppendPool[i]).holder.index===poolItem.index&&_appendImage(poolItem.index,poolItem.item,poolItem.baseDiv,poolItem.img,0,poolItem.clearPlaceholder);_imagesToAppendPool=[]}};_registerModule("Controller",{publicMethods:{lazyLoadItem:function(index){index=_getLoopedId(index);var item=_getItemAt(index);item&&(!item.loaded&&!item.loading||_itemsNeedUpdate)&&(_shout("gettingData",index,item),item.src&&_preloadImage(item))},initController:function(){framework.extend(_options,_controllerDefaultOptions,!0),self.items=_items=items,_getItemAt=self.getItemAt,_getNumItems=_options.getNumItemsFn,_initialIsLoop=_options.loop,_getNumItems()<3&&(_options.loop=!1),_listen("beforeChange",function(diff){var i,p=_options.preload,isNext=null===diff||diff>=0,preloadBefore=Math.min(p[0],_getNumItems()),preloadAfter=Math.min(p[1],_getNumItems());for(i=1;i<=(isNext?preloadAfter:preloadBefore);i++)self.lazyLoadItem(_currentItemIndex+i);for(i=1;i<=(isNext?preloadBefore:preloadAfter);i++)self.lazyLoadItem(_currentItemIndex-i)}),_listen("initialLayout",function(){self.currItem.initialLayout=_options.getThumbBoundsFn&&_options.getThumbBoundsFn(_currentItemIndex)}),_listen("mainScrollAnimComplete",_appendImagesPool),_listen("initialZoomInEnd",_appendImagesPool),_listen("destroy",function(){for(var item,i=0;i<_items.length;i++)(item=_items[i]).container&&(item.container=null),item.placeholder&&(item.placeholder=null),item.img&&(item.img=null),item.preloader&&(item.preloader=null),item.loadError&&(item.loaded=item.loadError=!1);_imagesToAppendPool=null})},getItemAt:function(index){return index>=0&&(void 0!==_items[index]&&_items[index])},allowProgressiveImg:function(){return _options.forceProgressiveLoading||!_likelyTouchDevice||_options.mouseUsed||screen.width>1200},setContent:function(holder,index){_options.loop&&(index=_getLoopedId(index));var prevItem=self.getItemAt(holder.index);prevItem&&(prevItem.container=null);var img,item=self.getItemAt(index);if(item){_shout("gettingData",index,item),holder.index=index,holder.item=item;var baseDiv=item.container=framework.createEl("pswp__zoom-wrap");if(!item.src&&item.html&&(item.html.tagName?baseDiv.appendChild(item.html):baseDiv.innerHTML=item.html),_checkForError(item),_calculateItemSize(item,_viewportSize),!item.src||item.loadError||item.loaded)item.src&&!item.loadError&&((img=framework.createEl("pswp__img","img")).style.opacity=1,img.src=item.src,_setImageSize(item,img),_appendImage(0,item,baseDiv,img));else{if(item.loadComplete=function(item){if(_isOpen){if(holder&&holder.index===index){if(_checkForError(item,!0))return item.loadComplete=item.img=null,_calculateItemSize(item,_viewportSize),_applyZoomPanToItem(item),void(holder.index===_currentItemIndex&&self.updateCurrZoomItem());item.imageAppended?!_initialZoomRunning&&item.placeholder&&(item.placeholder.style.display="none",item.placeholder=null):_features.transform&&(_mainScrollAnimating||_initialZoomRunning)?_imagesToAppendPool.push({item:item,baseDiv:baseDiv,img:item.img,index:index,holder:holder,clearPlaceholder:!0}):_appendImage(0,item,baseDiv,item.img,0,!0)}item.loadComplete=null,item.img=null,_shout("imageLoadComplete",index,item)}},framework.features.transform){var placeholderClassName="pswp__img pswp__img--placeholder";placeholderClassName+=item.msrc?"":" pswp__img--placeholder--blank";var placeholder=framework.createEl(placeholderClassName,item.msrc?"img":"");item.msrc&&(placeholder.src=item.msrc),_setImageSize(item,placeholder),baseDiv.appendChild(placeholder),item.placeholder=placeholder}item.loading||_preloadImage(item),self.allowProgressiveImg()&&(!_initialContentSet&&_features.transform?_imagesToAppendPool.push({item:item,baseDiv:baseDiv,img:item.img,index:index,holder:holder}):_appendImage(0,item,baseDiv,item.img,0,!0))}_initialContentSet||index!==_currentItemIndex?_applyZoomPanToItem(item):(_currZoomElementStyle=baseDiv.style,_showOrHide(item,img||item.img)),holder.el.innerHTML="",holder.el.appendChild(baseDiv)}else holder.el.innerHTML=""},cleanSlide:function(item){item.img&&(item.img.onload=item.img.onerror=null),item.loaded=item.loading=item.img=item.imageAppended=!1}}});var tapTimer,tapReleasePoint={},_dispatchTapEvent=function(origEvent,releasePoint,pointerType){var e=document.createEvent("CustomEvent"),eDetail={origEvent:origEvent,target:origEvent.target,releasePoint:releasePoint,pointerType:pointerType||"touch"};e.initCustomEvent("pswpTap",!0,!0,eDetail),origEvent.target.dispatchEvent(e)};_registerModule("Tap",{publicMethods:{initTap:function(){_listen("firstTouchStart",self.onTapStart),_listen("touchRelease",self.onTapRelease),_listen("destroy",function(){tapReleasePoint={},tapTimer=null})},onTapStart:function(touchList){touchList.length>1&&(clearTimeout(tapTimer),tapTimer=null)},onTapRelease:function(e,releasePoint){if(releasePoint&&!_moved&&!_isMultitouch&&!_numAnimations){var p0=releasePoint;if(tapTimer&&(clearTimeout(tapTimer),tapTimer=null,_isNearbyPoints(p0,tapReleasePoint)))return void _shout("doubleTap",p0);if("mouse"===releasePoint.type)return void _dispatchTapEvent(e,releasePoint,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||framework.hasClass(e.target,"pswp__single-tap"))return void _dispatchTapEvent(e,releasePoint);_equalizePoints(tapReleasePoint,p0),tapTimer=setTimeout(function(){_dispatchTapEvent(e,releasePoint),tapTimer=null},300)}}}});var _wheelDelta;_registerModule("DesktopZoom",{publicMethods:{initDesktopZoom:function(){_oldIE||(_likelyTouchDevice?_listen("mouseUsed",function(){self.setupDesktopZoom()}):self.setupDesktopZoom(!0))},setupDesktopZoom:function(onInit){_wheelDelta={};var events="wheel mousewheel DOMMouseScroll";_listen("bindEvents",function(){framework.bind(template,events,self.handleMouseWheel)}),_listen("unbindEvents",function(){_wheelDelta&&framework.unbind(template,events,self.handleMouseWheel)}),self.mouseZoomedIn=!1;var hasDraggingClass,updateZoomable=function(){self.mouseZoomedIn&&(framework.removeClass(template,"pswp--zoomed-in"),self.mouseZoomedIn=!1),_currZoomLevel<1?framework.addClass(template,"pswp--zoom-allowed"):framework.removeClass(template,"pswp--zoom-allowed"),removeDraggingClass()},removeDraggingClass=function(){hasDraggingClass&&(framework.removeClass(template,"pswp--dragging"),hasDraggingClass=!1)};_listen("resize",updateZoomable),_listen("afterChange",updateZoomable),_listen("pointerDown",function(){self.mouseZoomedIn&&(hasDraggingClass=!0,framework.addClass(template,"pswp--dragging"))}),_listen("pointerUp",removeDraggingClass),onInit||updateZoomable()},handleMouseWheel:function(e){if(_currZoomLevel<=self.currItem.fitRatio)return _options.modal&&(!_options.closeOnScroll||_numAnimations||_isDragging?e.preventDefault():_transformKey&&Math.abs(e.deltaY)>2&&(_closedByScroll=!0,self.close())),!0;if(e.stopPropagation(),_wheelDelta.x=0,"deltaX"in e)1===e.deltaMode?(_wheelDelta.x=18*e.deltaX,_wheelDelta.y=18*e.deltaY):(_wheelDelta.x=e.deltaX,_wheelDelta.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(_wheelDelta.x=-.16*e.wheelDeltaX),e.wheelDeltaY?_wheelDelta.y=-.16*e.wheelDeltaY:_wheelDelta.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;_wheelDelta.y=e.detail}_calculatePanBounds(_currZoomLevel,!0);var newPanX=_panOffset.x-_wheelDelta.x,newPanY=_panOffset.y-_wheelDelta.y;(_options.modal||newPanX<=_currPanBounds.min.x&&newPanX>=_currPanBounds.max.x&&newPanY<=_currPanBounds.min.y&&newPanY>=_currPanBounds.max.y)&&e.preventDefault(),self.panTo(newPanX,newPanY)},toggleDesktopZoom:function(centerPoint){centerPoint=centerPoint||{x:_viewportSize.x/2+_offset.x,y:_viewportSize.y/2+_offset.y};var doubleTapZoomLevel=_options.getDoubleTapZoom(!0,self.currItem),zoomOut=_currZoomLevel===doubleTapZoomLevel;self.mouseZoomedIn=!zoomOut,self.zoomTo(zoomOut?self.currItem.initialZoomLevel:doubleTapZoomLevel,centerPoint,333),framework[(zoomOut?"remove":"add")+"Class"](template,"pswp--zoomed-in")}}});var _historyUpdateTimeout,_hashChangeTimeout,_hashAnimCheckTimeout,_hashChangedByScript,_hashChangedByHistory,_hashReseted,_initialHash,_historyChanged,_closedFromURL,_urlChangedOnce,_windowLoc,_supportsPushState,_historyDefaultOptions={history:!0,galleryUID:1},_getHash=function(){return _windowLoc.hash.substring(1)},_cleanHistoryTimeouts=function(){_historyUpdateTimeout&&clearTimeout(_historyUpdateTimeout),_hashAnimCheckTimeout&&clearTimeout(_hashAnimCheckTimeout)},_parseItemIndexFromURL=function(){var hash=_getHash(),params={};if(hash.length<5)return params;var i,vars=hash.split("&");for(i=0;i<vars.length;i++)if(vars[i]){var pair=vars[i].split("=");pair.length<2||(params[pair[0]]=pair[1])}if(_options.galleryPIDs){var searchfor=params.pid;for(params.pid=0,i=0;i<_items.length;i++)if(_items[i].pid===searchfor){params.pid=i;break}}else params.pid=parseInt(params.pid,10)-1;return params.pid<0&&(params.pid=0),params},_updateHash=function(){if(_hashAnimCheckTimeout&&clearTimeout(_hashAnimCheckTimeout),_numAnimations||_isDragging)_hashAnimCheckTimeout=setTimeout(_updateHash,500);else{_hashChangedByScript?clearTimeout(_hashChangeTimeout):_hashChangedByScript=!0;var pid=_currentItemIndex+1,item=_getItemAt(_currentItemIndex);item.hasOwnProperty("pid")&&(pid=item.pid);var newHash=_initialHash+"&gid="+_options.galleryUID+"&pid="+pid;_historyChanged||-1===_windowLoc.hash.indexOf(newHash)&&(_urlChangedOnce=!0);var newURL=_windowLoc.href.split("#")[0]+"#"+newHash;_supportsPushState?"#"+newHash!==window.location.hash&&history[_historyChanged?"replaceState":"pushState"]("",document.title,newURL):_historyChanged?_windowLoc.replace(newURL):_windowLoc.hash=newHash,_historyChanged=!0,_hashChangeTimeout=setTimeout(function(){_hashChangedByScript=!1},60)}};_registerModule("History",{publicMethods:{initHistory:function(){if(framework.extend(_options,_historyDefaultOptions,!0),_options.history){_windowLoc=window.location,_urlChangedOnce=!1,_closedFromURL=!1,_historyChanged=!1,_initialHash=_getHash(),_supportsPushState="pushState"in history,_initialHash.indexOf("gid=")>-1&&(_initialHash=_initialHash.split("&gid=")[0],_initialHash=_initialHash.split("?gid=")[0]),_listen("afterChange",self.updateURL),_listen("unbindEvents",function(){framework.unbind(window,"hashchange",self.onHashChange)});var returnToOriginal=function(){_hashReseted=!0,_closedFromURL||(_urlChangedOnce?history.back():_initialHash?_windowLoc.hash=_initialHash:_supportsPushState?history.pushState("",document.title,_windowLoc.pathname+_windowLoc.search):_windowLoc.hash=""),_cleanHistoryTimeouts()};_listen("unbindEvents",function(){_closedByScroll&&returnToOriginal()}),_listen("destroy",function(){_hashReseted||returnToOriginal()}),_listen("firstUpdate",function(){_currentItemIndex=_parseItemIndexFromURL().pid});var index=_initialHash.indexOf("pid=");index>-1&&"&"===(_initialHash=_initialHash.substring(0,index)).slice(-1)&&(_initialHash=_initialHash.slice(0,-1)),setTimeout(function(){_isOpen&&framework.bind(window,"hashchange",self.onHashChange)},40)}},onHashChange:function(){if(_getHash()===_initialHash)return _closedFromURL=!0,void self.close();_hashChangedByScript||(_hashChangedByHistory=!0,self.goTo(_parseItemIndexFromURL().pid),_hashChangedByHistory=!1)},updateURL:function(){_cleanHistoryTimeouts(),_hashChangedByHistory||(_historyChanged?_historyUpdateTimeout=setTimeout(_updateHash,800):_updateHash())}}}),framework.extend(self,publicMethods)}}),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";return function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,f=(a.target||a.srcElement).getAttribute("class")||"",g=0;g<S.length;g++)(c=S[g]).onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){var c=(b=b||window.event).target||b.srcElement;return a.shout("shareLinkClick",b,c),!(!c.href||!c.hasAttribute("download")&&(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),1))},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){var b=(a=a||window.event).relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||((f=b.createEl("pswp__caption pswp__caption--fake")).appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom="auto"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){2===++J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&a<.95?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&b<.9?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){(a=!1)&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;g<f;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute("class")&&a.type.indexOf("mouse")>-1&&(d.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){var d=(c=c||window.event).target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){var b=(a=a||window.event).target||a.srcElement;C(d,"ui--over-close",I(b))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}}}),function($){$(document).ready(function(){function open_menu(){$("header").trigger("before-open-menu"),menu_open=!0,$header.addClass("menu-open"),$header.addClass("ignore-touch-events"),$content.addClass("animating"),$content.scrollTop(0),close_loc_bar(),$header.find(".menu-button").addClass("open"),$content.addClass("shown"),$("body").addClass("no-scroll"),setTimeout(function(){$content.removeClass("animating")},301)}function close_menu(){menu_open&&($content.addClass("animating"),$header.removeClass("menu-open"),$header.removeClass("ignore-touch-events"),show_loc_bar(),$header.find(".menu-button").removeClass("open"),$content.removeClass("shown"),menu_open=!1,$("body").removeClass("no-scroll"),setTimeout(function(){$content.removeClass("animating")},301))}function show_loc_bar(){$header.find(".info-strip").removeClass("headroom--unpinned"),$header.find(".main-header-content").removeClass("headroom--unpinned")}function close_loc_bar(){$header.find(".info-strip").addClass("headroom--unpinned"),$header.find(".main-header-content").addClass("headroom--unpinned")}function toggleSubmenu($el){$el.toggleClass("open"),$el.find(".submenu-container").slideToggle(200)}function closeSubmenu($el){$el.removeClass("open"),$el.find(".submenu-container").hide()}var $header=$("#main-header"),$menuFavoriteIcon=$header.find(".link-favs.desktop"),$content=$header.find(".inner-header-content"),$commElementSelector=$("#car-favorite"),favsCount=0;$(document).on("click",".bookmark-icon.unlikes",function(){$menuFavoriteIcon.find(".number").hide()}),$commElementSelector.on("save ready",function(evnt,hgCarFavoriteEntry){$menuFavoriteIcon.hasClass("animating")||($menuFavoriteIcon.removeClass("got-favorites"),$menuFavoriteIcon.find("svg").show(),$menuFavoriteIcon.addClass("animating"))}),$menuFavoriteIcon.find("svg").on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(e){$menuFavoriteIcon.find("svg").hide(),favsCount&&$menuFavoriteIcon.addClass("got-favorites"),$menuFavoriteIcon.find(".number").show(function(){$menuFavoriteIcon.removeClass("animating")})}),$commElementSelector.on("update",function(evnt,hgCarFavoriteSaves){favsCount=0;for(var vehid in hgCarFavoriteSaves)vehid&&favsCount++;$menuFavoriteIcon.hasClass("animating")||$header.find(".link-favs").toggleClass("got-favorites",favsCount>0)}),$header.find(".submenu-container").each(function(){var clone=$(this).clone().addClass("menu-only-links");$header.find(".info-container").after(clone)}),$header.find(".menu-button").click(function(){$(this).hasClass("open")?close_menu():open_menu()});var menu_open=!1;$(document).bind("mouseup touchend",function(e){$content.is(e.target)||0!==$content.has(e.target).length||$header.find(".menu-button").is(e.target)||0!==$header.find(".menu-button").has(e.target).length||close_menu()});var timeBetweenEvents,submenuClickOpen=!1,lastTimeStamp=0;$header.find(".has-submenu").on("click mouseenter mouseleave",function(event){switch(event.type){case"click":if((timeBetweenEvents=event.timeStamp-lastTimeStamp)<1e3)return;toggleSubmenu($(this)),submenuClickOpen=$(this).hasClass("open");break;case"mouseleave":submenuClickOpen||closeSubmenu($(this));break;case"mouseenter":submenuClickOpen||(toggleSubmenu($(this)),lastTimeStamp=event.timeStamp)}}),$(document).click(function(){$header.find(".has-submenu").removeClass("open"),$header.find(".has-submenu").find(".submenu-container").hide(),submenuClickOpen=$(this).hasClass("open")})})}(jQuery),function($){$(window).load(function(){var apptSelectedDate="",apptDiv=$("[data-role='hg-appointment']");if(!(apptDiv.length<=0)){var options={schedules:[]},shortDays=["su","mo","tu","we","th","fr","sa"],enableDays=["su","mo","tu","we","th","fr","sa"],$hourEl=$('.time-selection>select[name="hour"]'),$minuteEl=$('.time-selection>select[name="minute"]');apptDiv.find('script[type="application/json"]').each(function(index,node){options[$(node).data("propertyName")]=JSON.parse($(node).text())});var pad=function(n,width,z){return z=z||"0",n+="",n.length>=width?n:new Array(width-n.length+1).join(z)+n},updateRequestedAppointment=function(){if(apptDiv.find("[data-value='date']").text(""),apptDiv.find("[data-value='time']").text(""),apptSelectedDate){var year=pad(apptSelectedDate.getUTCFullYear(),2),month=pad(apptSelectedDate.getUTCMonth()+1,2),day=pad(apptSelectedDate.getUTCDate(),2),dt=year+"-"+month+"-"+day+" "+$('[name="time"]').val()+":00";apptDiv.find('[name="requestedAppointment"]').val(dt);var weekDay=hgLanguage.translation.weekdays[apptSelectedDate.getDay()],month=hgLanguage.translation.months[apptSelectedDate.getMonth()];apptDiv.find("[data-value='date']").text(weekDay+" "+day+" "+month+" "+apptSelectedDate.getFullYear()),apptDiv.find("[data-value='time']").text($('[name="time"]').val().replace(":"," H "))}};apptDiv.find(".dropdown").change(updateRequestedAppointment);var startDate=new Date;startDate.setDate((new Date).getDate()+1);var endDate=new Date;endDate.setDate((new Date).getDate()+10),updateRequestedAppointment();var tomorrowDay=(new Date).getDate()+1,tomorrow=new Date;tomorrow.setDate(tomorrowDay);var d=new Date;1==tomorrow.getDate()&&(d=tomorrow);!function(){options.schedules&&0!==options.schedules.length&&(enableDays=[],$hourEl.empty(),$minuteEl.empty(),$.each(options.schedules,function(k,schedule){$.each(shortDays,function(k,day){schedule.day==day&&enableDays.push(day)})}),apptDiv.trigger("enabled.days",[shortDays,enableDays]))}(),apptDiv.on("getHoursRange",function(event,day){return getHoursRange(day)});var getHoursRange=function(day){var hours=[];return options.schedules&&0!==options.schedules.length&&$.each(options.schedules,function(k,schedule){if(schedule.day==day)for(hour=parseInt(schedule.fromHour);hour<parseInt(schedule.toHour);hour++)hours.push(hour)}),hours},pkaDayOptions={firstDay:1,minDate:startDate,maxDate:endDate,yearRange:[tomorrow.getFullYear()-1,tomorrow.getFullYear()],bound:!1,container:document.getElementById("date-picker-container"),i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:hgLanguage.translation.months,weekdays:hgLanguage.translation.weekdays,weekdaysShort:hgLanguage.translation.weekdayssmall},onSelect:function(dates){apptSelectedDate=dates,apptDiv.trigger("reservation-date-selected",[apptSelectedDate]),updateRequestedAppointment()},defaultDate:d,disableDayFn:function(date){return-1===$.inArray(shortDays[date.getDay()],enableDays)}};apptDiv.find(".datepicker").each(function(index,dom){var options=$.extend({},pkaDayOptions);apptDiv.find(".datepicker").pikaday(options)})}})}(jQuery),function($){$(window).load(function(){function guid(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}var likes=[];if(void 0!==window.recombeeClient&&"undefined"!=typeof recombee){var pageName=$('meta[name="hg:pagename"]').attr("content"),userId=function(){var uid=0,key={userid:uid,updated:Date.now()},cookieJson=$.cookie("recombee");return void 0===cookieJson?(uid=guid(),key.userid=uid,$.cookie("recombee",JSON.stringify(key),{expires:365,path:"/"})):uid=JSON.parse(cookieJson).userid,uid}();userId&&"none"!==userId&&function(userId){if(userId){if("vdp-available"===pageName){var postId=$("[data-postid]").data("postid");$('div[data-stock][data-module="VDP"]').length>0&&postId&&(recombeeClient.send(new recombee.AddDetailView(userId,postId)),console.log('recombee.AddDetailView("'+userId+'", "'+postId+'")'))}$('[data-role="hg-car-favorite"]').on("save",function(evnt,hgCarFavoriteEntry){if(void 0!=hgCarFavoriteEntry.vehicle_id){if(-1!==$.inArray(hgCarFavoriteEntry.vehicle_id,likes))return;likes.push(hgCarFavoriteEntry.vehicle_id);var postId=$('[data-vehid="'+hgCarFavoriteEntry.vehicle_id+'"]').data("postid");postId&&(recombeeClient.send(new recombee.AddBookmark(userId,postId)),console.log('recombee.AddBookmark("'+userId+'", "'+postId+'")'))}}),$(document).on("reservation.success",function(evt,forms){var postId=forms["formulaire-reserver"]["vehicle.postid"];postId&&(recombeeClient.send(new recombee.AddPurchase(userId,postId)),console.log('recombee.AddPurchase("'+userId+'", "'+postId+'")'))})}}(userId)}})}(jQuery),jQuery(function($){$.fn.hgVideos=hgJQueryPlugin({},{init:function(options){this.options=$.extend(this.options,this.element.data(),options),this.element.on("click",$.proxy(this._onNavigationEvent,this))},_onNavigationEvent:function(){var $video=this.element.find("video")[0];1==$video.paused?(this.element.addClass("played"),this.element.removeClass("paused"),$video.play()):(this.element.addClass("paused"),$video.pause())}}),$(document).ready(function(){$('[data-role="hg-videos"]').hgVideos({})})});
